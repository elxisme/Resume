(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const s of a.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=n(i);fetch(i.href,a)}})();var it=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function _d(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function $h(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var i=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return t[r]}})}),n}var bd={exports:{}},Xa={},kd={exports:{}},F={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wi=Symbol.for("react.element"),Lh=Symbol.for("react.portal"),zh=Symbol.for("react.fragment"),Fh=Symbol.for("react.strict_mode"),Bh=Symbol.for("react.profiler"),Wh=Symbol.for("react.provider"),qh=Symbol.for("react.context"),Hh=Symbol.for("react.forward_ref"),Vh=Symbol.for("react.suspense"),Kh=Symbol.for("react.memo"),Gh=Symbol.for("react.lazy"),Tc=Symbol.iterator;function Yh(t){return t===null||typeof t!="object"?null:(t=Tc&&t[Tc]||t["@@iterator"],typeof t=="function"?t:null)}var jd={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Sd=Object.assign,Ed={};function vr(t,e,n){this.props=t,this.context=e,this.refs=Ed,this.updater=n||jd}vr.prototype.isReactComponent={};vr.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};vr.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Nd(){}Nd.prototype=vr.prototype;function _l(t,e,n){this.props=t,this.context=e,this.refs=Ed,this.updater=n||jd}var bl=_l.prototype=new Nd;bl.constructor=_l;Sd(bl,vr.prototype);bl.isPureReactComponent=!0;var Oc=Array.isArray,Cd=Object.prototype.hasOwnProperty,kl={current:null},Pd={key:!0,ref:!0,__self:!0,__source:!0};function Td(t,e,n){var r,i={},a=null,s=null;if(e!=null)for(r in e.ref!==void 0&&(s=e.ref),e.key!==void 0&&(a=""+e.key),e)Cd.call(e,r)&&!Pd.hasOwnProperty(r)&&(i[r]=e[r]);var l=arguments.length-2;if(l===1)i.children=n;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];i.children=c}if(t&&t.defaultProps)for(r in l=t.defaultProps,l)i[r]===void 0&&(i[r]=l[r]);return{$$typeof:wi,type:t,key:a,ref:s,props:i,_owner:kl.current}}function Qh(t,e){return{$$typeof:wi,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function jl(t){return typeof t=="object"&&t!==null&&t.$$typeof===wi}function Jh(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Dc=/\/+/g;function Ts(t,e){return typeof t=="object"&&t!==null&&t.key!=null?Jh(""+t.key):e.toString(36)}function ia(t,e,n,r,i){var a=typeof t;(a==="undefined"||a==="boolean")&&(t=null);var s=!1;if(t===null)s=!0;else switch(a){case"string":case"number":s=!0;break;case"object":switch(t.$$typeof){case wi:case Lh:s=!0}}if(s)return s=t,i=i(s),t=r===""?"."+Ts(s,0):r,Oc(i)?(n="",t!=null&&(n=t.replace(Dc,"$&/")+"/"),ia(i,e,n,"",function(u){return u})):i!=null&&(jl(i)&&(i=Qh(i,n+(!i.key||s&&s.key===i.key?"":(""+i.key).replace(Dc,"$&/")+"/")+t)),e.push(i)),1;if(s=0,r=r===""?".":r+":",Oc(t))for(var l=0;l<t.length;l++){a=t[l];var c=r+Ts(a,l);s+=ia(a,e,n,c,i)}else if(c=Yh(t),typeof c=="function")for(t=c.call(t),l=0;!(a=t.next()).done;)a=a.value,c=r+Ts(a,l++),s+=ia(a,e,n,c,i);else if(a==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return s}function Ai(t,e,n){if(t==null)return t;var r=[],i=0;return ia(t,r,"","",function(a){return e.call(n,a,i++)}),r}function Xh(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Ie={current:null},aa={transition:null},Zh={ReactCurrentDispatcher:Ie,ReactCurrentBatchConfig:aa,ReactCurrentOwner:kl};function Od(){throw Error("act(...) is not supported in production builds of React.")}F.Children={map:Ai,forEach:function(t,e,n){Ai(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Ai(t,function(){e++}),e},toArray:function(t){return Ai(t,function(e){return e})||[]},only:function(t){if(!jl(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};F.Component=vr;F.Fragment=zh;F.Profiler=Bh;F.PureComponent=_l;F.StrictMode=Fh;F.Suspense=Vh;F.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Zh;F.act=Od;F.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=Sd({},t.props),i=t.key,a=t.ref,s=t._owner;if(e!=null){if(e.ref!==void 0&&(a=e.ref,s=kl.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(c in e)Cd.call(e,c)&&!Pd.hasOwnProperty(c)&&(r[c]=e[c]===void 0&&l!==void 0?l[c]:e[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];r.children=l}return{$$typeof:wi,type:t.type,key:i,ref:a,props:r,_owner:s}};F.createContext=function(t){return t={$$typeof:qh,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:Wh,_context:t},t.Consumer=t};F.createElement=Td;F.createFactory=function(t){var e=Td.bind(null,t);return e.type=t,e};F.createRef=function(){return{current:null}};F.forwardRef=function(t){return{$$typeof:Hh,render:t}};F.isValidElement=jl;F.lazy=function(t){return{$$typeof:Gh,_payload:{_status:-1,_result:t},_init:Xh}};F.memo=function(t,e){return{$$typeof:Kh,type:t,compare:e===void 0?null:e}};F.startTransition=function(t){var e=aa.transition;aa.transition={};try{t()}finally{aa.transition=e}};F.unstable_act=Od;F.useCallback=function(t,e){return Ie.current.useCallback(t,e)};F.useContext=function(t){return Ie.current.useContext(t)};F.useDebugValue=function(){};F.useDeferredValue=function(t){return Ie.current.useDeferredValue(t)};F.useEffect=function(t,e){return Ie.current.useEffect(t,e)};F.useId=function(){return Ie.current.useId()};F.useImperativeHandle=function(t,e,n){return Ie.current.useImperativeHandle(t,e,n)};F.useInsertionEffect=function(t,e){return Ie.current.useInsertionEffect(t,e)};F.useLayoutEffect=function(t,e){return Ie.current.useLayoutEffect(t,e)};F.useMemo=function(t,e){return Ie.current.useMemo(t,e)};F.useReducer=function(t,e,n){return Ie.current.useReducer(t,e,n)};F.useRef=function(t){return Ie.current.useRef(t)};F.useState=function(t){return Ie.current.useState(t)};F.useSyncExternalStore=function(t,e,n){return Ie.current.useSyncExternalStore(t,e,n)};F.useTransition=function(){return Ie.current.useTransition()};F.version="18.3.1";kd.exports=F;var j=kd.exports;const em=_d(j);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tm=j,nm=Symbol.for("react.element"),rm=Symbol.for("react.fragment"),im=Object.prototype.hasOwnProperty,am=tm.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,sm={key:!0,ref:!0,__self:!0,__source:!0};function Dd(t,e,n){var r,i={},a=null,s=null;n!==void 0&&(a=""+n),e.key!==void 0&&(a=""+e.key),e.ref!==void 0&&(s=e.ref);for(r in e)im.call(e,r)&&!sm.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:nm,type:t,key:a,ref:s,props:i,_owner:am.current}}Xa.Fragment=rm;Xa.jsx=Dd;Xa.jsxs=Dd;bd.exports=Xa;var o=bd.exports,Ad={exports:{}},Qe={},Rd={exports:{}},Id={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(N,D){var U=N.length;N.push(D);e:for(;0<U;){var re=U-1>>>1,ae=N[re];if(0<i(ae,D))N[re]=D,N[U]=ae,U=re;else break e}}function n(N){return N.length===0?null:N[0]}function r(N){if(N.length===0)return null;var D=N[0],U=N.pop();if(U!==D){N[0]=U;e:for(var re=0,ae=N.length,ln=ae>>>1;re<ln;){var Ue=2*(re+1)-1,Dn=N[Ue],De=Ue+1,cn=N[De];if(0>i(Dn,U))De<ae&&0>i(cn,Dn)?(N[re]=cn,N[De]=U,re=De):(N[re]=Dn,N[Ue]=U,re=Ue);else if(De<ae&&0>i(cn,U))N[re]=cn,N[De]=U,re=De;else break e}}return D}function i(N,D){var U=N.sortIndex-D.sortIndex;return U!==0?U:N.id-D.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var s=Date,l=s.now();t.unstable_now=function(){return s.now()-l}}var c=[],u=[],d=1,p=null,f=3,v=!1,x=!1,y=!1,_=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,h=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function m(N){for(var D=n(u);D!==null;){if(D.callback===null)r(u);else if(D.startTime<=N)r(u),D.sortIndex=D.expirationTime,e(c,D);else break;D=n(u)}}function w(N){if(y=!1,m(N),!x)if(n(c)!==null)x=!0,P(S);else{var D=n(u);D!==null&&q(w,D.startTime-N)}}function S(N,D){x=!1,y&&(y=!1,g(C),C=-1),v=!0;var U=f;try{for(m(D),p=n(c);p!==null&&(!(p.expirationTime>D)||N&&!W());){var re=p.callback;if(typeof re=="function"){p.callback=null,f=p.priorityLevel;var ae=re(p.expirationTime<=D);D=t.unstable_now(),typeof ae=="function"?p.callback=ae:p===n(c)&&r(c),m(D)}else r(c);p=n(c)}if(p!==null)var ln=!0;else{var Ue=n(u);Ue!==null&&q(w,Ue.startTime-D),ln=!1}return ln}finally{p=null,f=U,v=!1}}var b=!1,k=null,C=-1,L=5,A=-1;function W(){return!(t.unstable_now()-A<L)}function M(){if(k!==null){var N=t.unstable_now();A=N;var D=!0;try{D=k(!0,N)}finally{D?V():(b=!1,k=null)}}else b=!1}var V;if(typeof h=="function")V=function(){h(M)};else if(typeof MessageChannel<"u"){var Q=new MessageChannel,he=Q.port2;Q.port1.onmessage=M,V=function(){he.postMessage(null)}}else V=function(){_(M,0)};function P(N){k=N,b||(b=!0,V())}function q(N,D){C=_(function(){N(t.unstable_now())},D)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(N){N.callback=null},t.unstable_continueExecution=function(){x||v||(x=!0,P(S))},t.unstable_forceFrameRate=function(N){0>N||125<N?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):L=0<N?Math.floor(1e3/N):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return n(c)},t.unstable_next=function(N){switch(f){case 1:case 2:case 3:var D=3;break;default:D=f}var U=f;f=D;try{return N()}finally{f=U}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(N,D){switch(N){case 1:case 2:case 3:case 4:case 5:break;default:N=3}var U=f;f=N;try{return D()}finally{f=U}},t.unstable_scheduleCallback=function(N,D,U){var re=t.unstable_now();switch(typeof U=="object"&&U!==null?(U=U.delay,U=typeof U=="number"&&0<U?re+U:re):U=re,N){case 1:var ae=-1;break;case 2:ae=250;break;case 5:ae=1073741823;break;case 4:ae=1e4;break;default:ae=5e3}return ae=U+ae,N={id:d++,callback:D,priorityLevel:N,startTime:U,expirationTime:ae,sortIndex:-1},U>re?(N.sortIndex=U,e(u,N),n(c)===null&&N===n(u)&&(y?(g(C),C=-1):y=!0,q(w,U-re))):(N.sortIndex=ae,e(c,N),x||v||(x=!0,P(S))),N},t.unstable_shouldYield=W,t.unstable_wrapCallback=function(N){var D=f;return function(){var U=f;f=D;try{return N.apply(this,arguments)}finally{f=U}}}})(Id);Rd.exports=Id;var om=Rd.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lm=j,Ye=om;function E(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Md=new Set,Zr={};function Cn(t,e){lr(t,e),lr(t+"Capture",e)}function lr(t,e){for(Zr[t]=e,t=0;t<e.length;t++)Md.add(e[t])}var Pt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ho=Object.prototype.hasOwnProperty,cm=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Ac={},Rc={};function um(t){return ho.call(Rc,t)?!0:ho.call(Ac,t)?!1:cm.test(t)?Rc[t]=!0:(Ac[t]=!0,!1)}function dm(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function pm(t,e,n,r){if(e===null||typeof e>"u"||dm(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Me(t,e,n,r,i,a,s){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=a,this.removeEmptyString=s}var je={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){je[t]=new Me(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];je[e]=new Me(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){je[t]=new Me(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){je[t]=new Me(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){je[t]=new Me(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){je[t]=new Me(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){je[t]=new Me(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){je[t]=new Me(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){je[t]=new Me(t,5,!1,t.toLowerCase(),null,!1,!1)});var Sl=/[\-:]([a-z])/g;function El(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Sl,El);je[e]=new Me(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Sl,El);je[e]=new Me(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Sl,El);je[e]=new Me(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){je[t]=new Me(t,1,!1,t.toLowerCase(),null,!1,!1)});je.xlinkHref=new Me("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){je[t]=new Me(t,1,!1,t.toLowerCase(),null,!0,!0)});function Nl(t,e,n,r){var i=je.hasOwnProperty(e)?je[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(pm(e,n,i,r)&&(n=null),r||i===null?um(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var It=lm.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ri=Symbol.for("react.element"),Wn=Symbol.for("react.portal"),qn=Symbol.for("react.fragment"),Cl=Symbol.for("react.strict_mode"),mo=Symbol.for("react.profiler"),Ud=Symbol.for("react.provider"),$d=Symbol.for("react.context"),Pl=Symbol.for("react.forward_ref"),go=Symbol.for("react.suspense"),vo=Symbol.for("react.suspense_list"),Tl=Symbol.for("react.memo"),Lt=Symbol.for("react.lazy"),Ld=Symbol.for("react.offscreen"),Ic=Symbol.iterator;function kr(t){return t===null||typeof t!="object"?null:(t=Ic&&t[Ic]||t["@@iterator"],typeof t=="function"?t:null)}var ce=Object.assign,Os;function Rr(t){if(Os===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Os=e&&e[1]||""}return`
`+Os+t}var Ds=!1;function As(t,e){if(!t||Ds)return"";Ds=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),a=r.stack.split(`
`),s=i.length-1,l=a.length-1;1<=s&&0<=l&&i[s]!==a[l];)l--;for(;1<=s&&0<=l;s--,l--)if(i[s]!==a[l]){if(s!==1||l!==1)do if(s--,l--,0>l||i[s]!==a[l]){var c=`
`+i[s].replace(" at new "," at ");return t.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",t.displayName)),c}while(1<=s&&0<=l);break}}}finally{Ds=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Rr(t):""}function fm(t){switch(t.tag){case 5:return Rr(t.type);case 16:return Rr("Lazy");case 13:return Rr("Suspense");case 19:return Rr("SuspenseList");case 0:case 2:case 15:return t=As(t.type,!1),t;case 11:return t=As(t.type.render,!1),t;case 1:return t=As(t.type,!0),t;default:return""}}function yo(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case qn:return"Fragment";case Wn:return"Portal";case mo:return"Profiler";case Cl:return"StrictMode";case go:return"Suspense";case vo:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case $d:return(t.displayName||"Context")+".Consumer";case Ud:return(t._context.displayName||"Context")+".Provider";case Pl:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Tl:return e=t.displayName||null,e!==null?e:yo(t.type)||"Memo";case Lt:e=t._payload,t=t._init;try{return yo(t(e))}catch{}}return null}function hm(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return yo(e);case 8:return e===Cl?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function tn(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function zd(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function mm(t){var e=zd(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,a=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(s){r=""+s,a.call(this,s)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(s){r=""+s},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Ii(t){t._valueTracker||(t._valueTracker=mm(t))}function Fd(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=zd(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function va(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function xo(t,e){var n=e.checked;return ce({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function Mc(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=tn(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function Bd(t,e){e=e.checked,e!=null&&Nl(t,"checked",e,!1)}function wo(t,e){Bd(t,e);var n=tn(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?_o(t,e.type,n):e.hasOwnProperty("defaultValue")&&_o(t,e.type,tn(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Uc(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function _o(t,e,n){(e!=="number"||va(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Ir=Array.isArray;function tr(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+tn(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function bo(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(E(91));return ce({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function $c(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(E(92));if(Ir(n)){if(1<n.length)throw Error(E(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:tn(n)}}function Wd(t,e){var n=tn(e.value),r=tn(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function Lc(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function qd(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ko(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?qd(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Mi,Hd=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Mi=Mi||document.createElement("div"),Mi.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Mi.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function ei(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Lr={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},gm=["Webkit","ms","Moz","O"];Object.keys(Lr).forEach(function(t){gm.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Lr[e]=Lr[t]})});function Vd(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Lr.hasOwnProperty(t)&&Lr[t]?(""+e).trim():e+"px"}function Kd(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=Vd(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var vm=ce({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function jo(t,e){if(e){if(vm[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(E(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(E(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(E(61))}if(e.style!=null&&typeof e.style!="object")throw Error(E(62))}}function So(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Eo=null;function Ol(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var No=null,nr=null,rr=null;function zc(t){if(t=ki(t)){if(typeof No!="function")throw Error(E(280));var e=t.stateNode;e&&(e=rs(e),No(t.stateNode,t.type,e))}}function Gd(t){nr?rr?rr.push(t):rr=[t]:nr=t}function Yd(){if(nr){var t=nr,e=rr;if(rr=nr=null,zc(t),e)for(t=0;t<e.length;t++)zc(e[t])}}function Qd(t,e){return t(e)}function Jd(){}var Rs=!1;function Xd(t,e,n){if(Rs)return t(e,n);Rs=!0;try{return Qd(t,e,n)}finally{Rs=!1,(nr!==null||rr!==null)&&(Jd(),Yd())}}function ti(t,e){var n=t.stateNode;if(n===null)return null;var r=rs(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(E(231,e,typeof n));return n}var Co=!1;if(Pt)try{var jr={};Object.defineProperty(jr,"passive",{get:function(){Co=!0}}),window.addEventListener("test",jr,jr),window.removeEventListener("test",jr,jr)}catch{Co=!1}function ym(t,e,n,r,i,a,s,l,c){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(d){this.onError(d)}}var zr=!1,ya=null,xa=!1,Po=null,xm={onError:function(t){zr=!0,ya=t}};function wm(t,e,n,r,i,a,s,l,c){zr=!1,ya=null,ym.apply(xm,arguments)}function _m(t,e,n,r,i,a,s,l,c){if(wm.apply(this,arguments),zr){if(zr){var u=ya;zr=!1,ya=null}else throw Error(E(198));xa||(xa=!0,Po=u)}}function Pn(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function Zd(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Fc(t){if(Pn(t)!==t)throw Error(E(188))}function bm(t){var e=t.alternate;if(!e){if(e=Pn(t),e===null)throw Error(E(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var a=i.alternate;if(a===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return Fc(i),t;if(a===r)return Fc(i),e;a=a.sibling}throw Error(E(188))}if(n.return!==r.return)n=i,r=a;else{for(var s=!1,l=i.child;l;){if(l===n){s=!0,n=i,r=a;break}if(l===r){s=!0,r=i,n=a;break}l=l.sibling}if(!s){for(l=a.child;l;){if(l===n){s=!0,n=a,r=i;break}if(l===r){s=!0,r=a,n=i;break}l=l.sibling}if(!s)throw Error(E(189))}}if(n.alternate!==r)throw Error(E(190))}if(n.tag!==3)throw Error(E(188));return n.stateNode.current===n?t:e}function ep(t){return t=bm(t),t!==null?tp(t):null}function tp(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=tp(t);if(e!==null)return e;t=t.sibling}return null}var np=Ye.unstable_scheduleCallback,Bc=Ye.unstable_cancelCallback,km=Ye.unstable_shouldYield,jm=Ye.unstable_requestPaint,de=Ye.unstable_now,Sm=Ye.unstable_getCurrentPriorityLevel,Dl=Ye.unstable_ImmediatePriority,rp=Ye.unstable_UserBlockingPriority,wa=Ye.unstable_NormalPriority,Em=Ye.unstable_LowPriority,ip=Ye.unstable_IdlePriority,Za=null,wt=null;function Nm(t){if(wt&&typeof wt.onCommitFiberRoot=="function")try{wt.onCommitFiberRoot(Za,t,void 0,(t.current.flags&128)===128)}catch{}}var ft=Math.clz32?Math.clz32:Tm,Cm=Math.log,Pm=Math.LN2;function Tm(t){return t>>>=0,t===0?32:31-(Cm(t)/Pm|0)|0}var Ui=64,$i=4194304;function Mr(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function _a(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,a=t.pingedLanes,s=n&268435455;if(s!==0){var l=s&~i;l!==0?r=Mr(l):(a&=s,a!==0&&(r=Mr(a)))}else s=n&~i,s!==0?r=Mr(s):a!==0&&(r=Mr(a));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,a=e&-e,i>=a||i===16&&(a&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-ft(e),i=1<<n,r|=t[n],e&=~i;return r}function Om(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Dm(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,a=t.pendingLanes;0<a;){var s=31-ft(a),l=1<<s,c=i[s];c===-1?(!(l&n)||l&r)&&(i[s]=Om(l,e)):c<=e&&(t.expiredLanes|=l),a&=~l}}function To(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function ap(){var t=Ui;return Ui<<=1,!(Ui&4194240)&&(Ui=64),t}function Is(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function _i(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-ft(e),t[e]=n}function Am(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-ft(n),a=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~a}}function Al(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-ft(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var Y=0;function sp(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var op,Rl,lp,cp,up,Oo=!1,Li=[],Kt=null,Gt=null,Yt=null,ni=new Map,ri=new Map,Bt=[],Rm="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Wc(t,e){switch(t){case"focusin":case"focusout":Kt=null;break;case"dragenter":case"dragleave":Gt=null;break;case"mouseover":case"mouseout":Yt=null;break;case"pointerover":case"pointerout":ni.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":ri.delete(e.pointerId)}}function Sr(t,e,n,r,i,a){return t===null||t.nativeEvent!==a?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},e!==null&&(e=ki(e),e!==null&&Rl(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function Im(t,e,n,r,i){switch(e){case"focusin":return Kt=Sr(Kt,t,e,n,r,i),!0;case"dragenter":return Gt=Sr(Gt,t,e,n,r,i),!0;case"mouseover":return Yt=Sr(Yt,t,e,n,r,i),!0;case"pointerover":var a=i.pointerId;return ni.set(a,Sr(ni.get(a)||null,t,e,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,ri.set(a,Sr(ri.get(a)||null,t,e,n,r,i)),!0}return!1}function dp(t){var e=vn(t.target);if(e!==null){var n=Pn(e);if(n!==null){if(e=n.tag,e===13){if(e=Zd(n),e!==null){t.blockedOn=e,up(t.priority,function(){lp(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function sa(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Do(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Eo=r,n.target.dispatchEvent(r),Eo=null}else return e=ki(n),e!==null&&Rl(e),t.blockedOn=n,!1;e.shift()}return!0}function qc(t,e,n){sa(t)&&n.delete(e)}function Mm(){Oo=!1,Kt!==null&&sa(Kt)&&(Kt=null),Gt!==null&&sa(Gt)&&(Gt=null),Yt!==null&&sa(Yt)&&(Yt=null),ni.forEach(qc),ri.forEach(qc)}function Er(t,e){t.blockedOn===e&&(t.blockedOn=null,Oo||(Oo=!0,Ye.unstable_scheduleCallback(Ye.unstable_NormalPriority,Mm)))}function ii(t){function e(i){return Er(i,t)}if(0<Li.length){Er(Li[0],t);for(var n=1;n<Li.length;n++){var r=Li[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Kt!==null&&Er(Kt,t),Gt!==null&&Er(Gt,t),Yt!==null&&Er(Yt,t),ni.forEach(e),ri.forEach(e),n=0;n<Bt.length;n++)r=Bt[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Bt.length&&(n=Bt[0],n.blockedOn===null);)dp(n),n.blockedOn===null&&Bt.shift()}var ir=It.ReactCurrentBatchConfig,ba=!0;function Um(t,e,n,r){var i=Y,a=ir.transition;ir.transition=null;try{Y=1,Il(t,e,n,r)}finally{Y=i,ir.transition=a}}function $m(t,e,n,r){var i=Y,a=ir.transition;ir.transition=null;try{Y=4,Il(t,e,n,r)}finally{Y=i,ir.transition=a}}function Il(t,e,n,r){if(ba){var i=Do(t,e,n,r);if(i===null)Hs(t,e,r,ka,n),Wc(t,r);else if(Im(i,t,e,n,r))r.stopPropagation();else if(Wc(t,r),e&4&&-1<Rm.indexOf(t)){for(;i!==null;){var a=ki(i);if(a!==null&&op(a),a=Do(t,e,n,r),a===null&&Hs(t,e,r,ka,n),a===i)break;i=a}i!==null&&r.stopPropagation()}else Hs(t,e,r,null,n)}}var ka=null;function Do(t,e,n,r){if(ka=null,t=Ol(r),t=vn(t),t!==null)if(e=Pn(t),e===null)t=null;else if(n=e.tag,n===13){if(t=Zd(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return ka=t,null}function pp(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Sm()){case Dl:return 1;case rp:return 4;case wa:case Em:return 16;case ip:return 536870912;default:return 16}default:return 16}}var Ht=null,Ml=null,oa=null;function fp(){if(oa)return oa;var t,e=Ml,n=e.length,r,i="value"in Ht?Ht.value:Ht.textContent,a=i.length;for(t=0;t<n&&e[t]===i[t];t++);var s=n-t;for(r=1;r<=s&&e[n-r]===i[a-r];r++);return oa=i.slice(t,1<r?1-r:void 0)}function la(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function zi(){return!0}function Hc(){return!1}function Je(t){function e(n,r,i,a,s){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=a,this.target=s,this.currentTarget=null;for(var l in t)t.hasOwnProperty(l)&&(n=t[l],this[l]=n?n(a):a[l]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?zi:Hc,this.isPropagationStopped=Hc,this}return ce(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=zi)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=zi)},persist:function(){},isPersistent:zi}),e}var yr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ul=Je(yr),bi=ce({},yr,{view:0,detail:0}),Lm=Je(bi),Ms,Us,Nr,es=ce({},bi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:$l,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Nr&&(Nr&&t.type==="mousemove"?(Ms=t.screenX-Nr.screenX,Us=t.screenY-Nr.screenY):Us=Ms=0,Nr=t),Ms)},movementY:function(t){return"movementY"in t?t.movementY:Us}}),Vc=Je(es),zm=ce({},es,{dataTransfer:0}),Fm=Je(zm),Bm=ce({},bi,{relatedTarget:0}),$s=Je(Bm),Wm=ce({},yr,{animationName:0,elapsedTime:0,pseudoElement:0}),qm=Je(Wm),Hm=ce({},yr,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Vm=Je(Hm),Km=ce({},yr,{data:0}),Kc=Je(Km),Gm={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ym={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Qm={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Jm(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=Qm[t])?!!e[t]:!1}function $l(){return Jm}var Xm=ce({},bi,{key:function(t){if(t.key){var e=Gm[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=la(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Ym[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:$l,charCode:function(t){return t.type==="keypress"?la(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?la(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Zm=Je(Xm),eg=ce({},es,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Gc=Je(eg),tg=ce({},bi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:$l}),ng=Je(tg),rg=ce({},yr,{propertyName:0,elapsedTime:0,pseudoElement:0}),ig=Je(rg),ag=ce({},es,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),sg=Je(ag),og=[9,13,27,32],Ll=Pt&&"CompositionEvent"in window,Fr=null;Pt&&"documentMode"in document&&(Fr=document.documentMode);var lg=Pt&&"TextEvent"in window&&!Fr,hp=Pt&&(!Ll||Fr&&8<Fr&&11>=Fr),Yc=" ",Qc=!1;function mp(t,e){switch(t){case"keyup":return og.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function gp(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Hn=!1;function cg(t,e){switch(t){case"compositionend":return gp(e);case"keypress":return e.which!==32?null:(Qc=!0,Yc);case"textInput":return t=e.data,t===Yc&&Qc?null:t;default:return null}}function ug(t,e){if(Hn)return t==="compositionend"||!Ll&&mp(t,e)?(t=fp(),oa=Ml=Ht=null,Hn=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return hp&&e.locale!=="ko"?null:e.data;default:return null}}var dg={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Jc(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!dg[t.type]:e==="textarea"}function vp(t,e,n,r){Gd(r),e=ja(e,"onChange"),0<e.length&&(n=new Ul("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Br=null,ai=null;function pg(t){Cp(t,0)}function ts(t){var e=Gn(t);if(Fd(e))return t}function fg(t,e){if(t==="change")return e}var yp=!1;if(Pt){var Ls;if(Pt){var zs="oninput"in document;if(!zs){var Xc=document.createElement("div");Xc.setAttribute("oninput","return;"),zs=typeof Xc.oninput=="function"}Ls=zs}else Ls=!1;yp=Ls&&(!document.documentMode||9<document.documentMode)}function Zc(){Br&&(Br.detachEvent("onpropertychange",xp),ai=Br=null)}function xp(t){if(t.propertyName==="value"&&ts(ai)){var e=[];vp(e,ai,t,Ol(t)),Xd(pg,e)}}function hg(t,e,n){t==="focusin"?(Zc(),Br=e,ai=n,Br.attachEvent("onpropertychange",xp)):t==="focusout"&&Zc()}function mg(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return ts(ai)}function gg(t,e){if(t==="click")return ts(e)}function vg(t,e){if(t==="input"||t==="change")return ts(e)}function yg(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var mt=typeof Object.is=="function"?Object.is:yg;function si(t,e){if(mt(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!ho.call(e,i)||!mt(t[i],e[i]))return!1}return!0}function eu(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function tu(t,e){var n=eu(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=eu(n)}}function wp(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?wp(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function _p(){for(var t=window,e=va();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=va(t.document)}return e}function zl(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function xg(t){var e=_p(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&wp(n.ownerDocument.documentElement,n)){if(r!==null&&zl(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,a=Math.min(r.start,i);r=r.end===void 0?a:Math.min(r.end,i),!t.extend&&a>r&&(i=r,r=a,a=i),i=tu(n,a);var s=tu(n,r);i&&s&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==s.node||t.focusOffset!==s.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),a>r?(t.addRange(e),t.extend(s.node,s.offset)):(e.setEnd(s.node,s.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var wg=Pt&&"documentMode"in document&&11>=document.documentMode,Vn=null,Ao=null,Wr=null,Ro=!1;function nu(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Ro||Vn==null||Vn!==va(r)||(r=Vn,"selectionStart"in r&&zl(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Wr&&si(Wr,r)||(Wr=r,r=ja(Ao,"onSelect"),0<r.length&&(e=new Ul("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Vn)))}function Fi(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Kn={animationend:Fi("Animation","AnimationEnd"),animationiteration:Fi("Animation","AnimationIteration"),animationstart:Fi("Animation","AnimationStart"),transitionend:Fi("Transition","TransitionEnd")},Fs={},bp={};Pt&&(bp=document.createElement("div").style,"AnimationEvent"in window||(delete Kn.animationend.animation,delete Kn.animationiteration.animation,delete Kn.animationstart.animation),"TransitionEvent"in window||delete Kn.transitionend.transition);function ns(t){if(Fs[t])return Fs[t];if(!Kn[t])return t;var e=Kn[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in bp)return Fs[t]=e[n];return t}var kp=ns("animationend"),jp=ns("animationiteration"),Sp=ns("animationstart"),Ep=ns("transitionend"),Np=new Map,ru="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function rn(t,e){Np.set(t,e),Cn(e,[t])}for(var Bs=0;Bs<ru.length;Bs++){var Ws=ru[Bs],_g=Ws.toLowerCase(),bg=Ws[0].toUpperCase()+Ws.slice(1);rn(_g,"on"+bg)}rn(kp,"onAnimationEnd");rn(jp,"onAnimationIteration");rn(Sp,"onAnimationStart");rn("dblclick","onDoubleClick");rn("focusin","onFocus");rn("focusout","onBlur");rn(Ep,"onTransitionEnd");lr("onMouseEnter",["mouseout","mouseover"]);lr("onMouseLeave",["mouseout","mouseover"]);lr("onPointerEnter",["pointerout","pointerover"]);lr("onPointerLeave",["pointerout","pointerover"]);Cn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Cn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Cn("onBeforeInput",["compositionend","keypress","textInput","paste"]);Cn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Cn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Cn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ur="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),kg=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ur));function iu(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,_m(r,e,void 0,t),t.currentTarget=null}function Cp(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var a=void 0;if(e)for(var s=r.length-1;0<=s;s--){var l=r[s],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==a&&i.isPropagationStopped())break e;iu(i,l,u),a=c}else for(s=0;s<r.length;s++){if(l=r[s],c=l.instance,u=l.currentTarget,l=l.listener,c!==a&&i.isPropagationStopped())break e;iu(i,l,u),a=c}}}if(xa)throw t=Po,xa=!1,Po=null,t}function te(t,e){var n=e[Lo];n===void 0&&(n=e[Lo]=new Set);var r=t+"__bubble";n.has(r)||(Pp(e,t,2,!1),n.add(r))}function qs(t,e,n){var r=0;e&&(r|=4),Pp(n,t,r,e)}var Bi="_reactListening"+Math.random().toString(36).slice(2);function oi(t){if(!t[Bi]){t[Bi]=!0,Md.forEach(function(n){n!=="selectionchange"&&(kg.has(n)||qs(n,!1,t),qs(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Bi]||(e[Bi]=!0,qs("selectionchange",!1,e))}}function Pp(t,e,n,r){switch(pp(e)){case 1:var i=Um;break;case 4:i=$m;break;default:i=Il}n=i.bind(null,e,n,t),i=void 0,!Co||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function Hs(t,e,n,r,i){var a=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var l=r.stateNode.containerInfo;if(l===i||l.nodeType===8&&l.parentNode===i)break;if(s===4)for(s=r.return;s!==null;){var c=s.tag;if((c===3||c===4)&&(c=s.stateNode.containerInfo,c===i||c.nodeType===8&&c.parentNode===i))return;s=s.return}for(;l!==null;){if(s=vn(l),s===null)return;if(c=s.tag,c===5||c===6){r=a=s;continue e}l=l.parentNode}}r=r.return}Xd(function(){var u=a,d=Ol(n),p=[];e:{var f=Np.get(t);if(f!==void 0){var v=Ul,x=t;switch(t){case"keypress":if(la(n)===0)break e;case"keydown":case"keyup":v=Zm;break;case"focusin":x="focus",v=$s;break;case"focusout":x="blur",v=$s;break;case"beforeblur":case"afterblur":v=$s;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":v=Vc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":v=Fm;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":v=ng;break;case kp:case jp:case Sp:v=qm;break;case Ep:v=ig;break;case"scroll":v=Lm;break;case"wheel":v=sg;break;case"copy":case"cut":case"paste":v=Vm;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":v=Gc}var y=(e&4)!==0,_=!y&&t==="scroll",g=y?f!==null?f+"Capture":null:f;y=[];for(var h=u,m;h!==null;){m=h;var w=m.stateNode;if(m.tag===5&&w!==null&&(m=w,g!==null&&(w=ti(h,g),w!=null&&y.push(li(h,w,m)))),_)break;h=h.return}0<y.length&&(f=new v(f,x,null,n,d),p.push({event:f,listeners:y}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",v=t==="mouseout"||t==="pointerout",f&&n!==Eo&&(x=n.relatedTarget||n.fromElement)&&(vn(x)||x[Tt]))break e;if((v||f)&&(f=d.window===d?d:(f=d.ownerDocument)?f.defaultView||f.parentWindow:window,v?(x=n.relatedTarget||n.toElement,v=u,x=x?vn(x):null,x!==null&&(_=Pn(x),x!==_||x.tag!==5&&x.tag!==6)&&(x=null)):(v=null,x=u),v!==x)){if(y=Vc,w="onMouseLeave",g="onMouseEnter",h="mouse",(t==="pointerout"||t==="pointerover")&&(y=Gc,w="onPointerLeave",g="onPointerEnter",h="pointer"),_=v==null?f:Gn(v),m=x==null?f:Gn(x),f=new y(w,h+"leave",v,n,d),f.target=_,f.relatedTarget=m,w=null,vn(d)===u&&(y=new y(g,h+"enter",x,n,d),y.target=m,y.relatedTarget=_,w=y),_=w,v&&x)t:{for(y=v,g=x,h=0,m=y;m;m=Mn(m))h++;for(m=0,w=g;w;w=Mn(w))m++;for(;0<h-m;)y=Mn(y),h--;for(;0<m-h;)g=Mn(g),m--;for(;h--;){if(y===g||g!==null&&y===g.alternate)break t;y=Mn(y),g=Mn(g)}y=null}else y=null;v!==null&&au(p,f,v,y,!1),x!==null&&_!==null&&au(p,_,x,y,!0)}}e:{if(f=u?Gn(u):window,v=f.nodeName&&f.nodeName.toLowerCase(),v==="select"||v==="input"&&f.type==="file")var S=fg;else if(Jc(f))if(yp)S=vg;else{S=mg;var b=hg}else(v=f.nodeName)&&v.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(S=gg);if(S&&(S=S(t,u))){vp(p,S,n,d);break e}b&&b(t,f,u),t==="focusout"&&(b=f._wrapperState)&&b.controlled&&f.type==="number"&&_o(f,"number",f.value)}switch(b=u?Gn(u):window,t){case"focusin":(Jc(b)||b.contentEditable==="true")&&(Vn=b,Ao=u,Wr=null);break;case"focusout":Wr=Ao=Vn=null;break;case"mousedown":Ro=!0;break;case"contextmenu":case"mouseup":case"dragend":Ro=!1,nu(p,n,d);break;case"selectionchange":if(wg)break;case"keydown":case"keyup":nu(p,n,d)}var k;if(Ll)e:{switch(t){case"compositionstart":var C="onCompositionStart";break e;case"compositionend":C="onCompositionEnd";break e;case"compositionupdate":C="onCompositionUpdate";break e}C=void 0}else Hn?mp(t,n)&&(C="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(C="onCompositionStart");C&&(hp&&n.locale!=="ko"&&(Hn||C!=="onCompositionStart"?C==="onCompositionEnd"&&Hn&&(k=fp()):(Ht=d,Ml="value"in Ht?Ht.value:Ht.textContent,Hn=!0)),b=ja(u,C),0<b.length&&(C=new Kc(C,t,null,n,d),p.push({event:C,listeners:b}),k?C.data=k:(k=gp(n),k!==null&&(C.data=k)))),(k=lg?cg(t,n):ug(t,n))&&(u=ja(u,"onBeforeInput"),0<u.length&&(d=new Kc("onBeforeInput","beforeinput",null,n,d),p.push({event:d,listeners:u}),d.data=k))}Cp(p,e)})}function li(t,e,n){return{instance:t,listener:e,currentTarget:n}}function ja(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,a=i.stateNode;i.tag===5&&a!==null&&(i=a,a=ti(t,n),a!=null&&r.unshift(li(t,a,i)),a=ti(t,e),a!=null&&r.push(li(t,a,i))),t=t.return}return r}function Mn(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function au(t,e,n,r,i){for(var a=e._reactName,s=[];n!==null&&n!==r;){var l=n,c=l.alternate,u=l.stateNode;if(c!==null&&c===r)break;l.tag===5&&u!==null&&(l=u,i?(c=ti(n,a),c!=null&&s.unshift(li(n,c,l))):i||(c=ti(n,a),c!=null&&s.push(li(n,c,l)))),n=n.return}s.length!==0&&t.push({event:e,listeners:s})}var jg=/\r\n?/g,Sg=/\u0000|\uFFFD/g;function su(t){return(typeof t=="string"?t:""+t).replace(jg,`
`).replace(Sg,"")}function Wi(t,e,n){if(e=su(e),su(t)!==e&&n)throw Error(E(425))}function Sa(){}var Io=null,Mo=null;function Uo(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var $o=typeof setTimeout=="function"?setTimeout:void 0,Eg=typeof clearTimeout=="function"?clearTimeout:void 0,ou=typeof Promise=="function"?Promise:void 0,Ng=typeof queueMicrotask=="function"?queueMicrotask:typeof ou<"u"?function(t){return ou.resolve(null).then(t).catch(Cg)}:$o;function Cg(t){setTimeout(function(){throw t})}function Vs(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),ii(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);ii(e)}function Qt(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function lu(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var xr=Math.random().toString(36).slice(2),xt="__reactFiber$"+xr,ci="__reactProps$"+xr,Tt="__reactContainer$"+xr,Lo="__reactEvents$"+xr,Pg="__reactListeners$"+xr,Tg="__reactHandles$"+xr;function vn(t){var e=t[xt];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Tt]||n[xt]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=lu(t);t!==null;){if(n=t[xt])return n;t=lu(t)}return e}t=n,n=t.parentNode}return null}function ki(t){return t=t[xt]||t[Tt],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Gn(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(E(33))}function rs(t){return t[ci]||null}var zo=[],Yn=-1;function an(t){return{current:t}}function ne(t){0>Yn||(t.current=zo[Yn],zo[Yn]=null,Yn--)}function ee(t,e){Yn++,zo[Yn]=t.current,t.current=e}var nn={},Oe=an(nn),Be=an(!1),bn=nn;function cr(t,e){var n=t.type.contextTypes;if(!n)return nn;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},a;for(a in n)i[a]=e[a];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function We(t){return t=t.childContextTypes,t!=null}function Ea(){ne(Be),ne(Oe)}function cu(t,e,n){if(Oe.current!==nn)throw Error(E(168));ee(Oe,e),ee(Be,n)}function Tp(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(E(108,hm(t)||"Unknown",i));return ce({},n,r)}function Na(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||nn,bn=Oe.current,ee(Oe,t),ee(Be,Be.current),!0}function uu(t,e,n){var r=t.stateNode;if(!r)throw Error(E(169));n?(t=Tp(t,e,bn),r.__reactInternalMemoizedMergedChildContext=t,ne(Be),ne(Oe),ee(Oe,t)):ne(Be),ee(Be,n)}var St=null,is=!1,Ks=!1;function Op(t){St===null?St=[t]:St.push(t)}function Og(t){is=!0,Op(t)}function sn(){if(!Ks&&St!==null){Ks=!0;var t=0,e=Y;try{var n=St;for(Y=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}St=null,is=!1}catch(i){throw St!==null&&(St=St.slice(t+1)),np(Dl,sn),i}finally{Y=e,Ks=!1}}return null}var Qn=[],Jn=0,Ca=null,Pa=0,Ze=[],et=0,kn=null,Et=1,Nt="";function dn(t,e){Qn[Jn++]=Pa,Qn[Jn++]=Ca,Ca=t,Pa=e}function Dp(t,e,n){Ze[et++]=Et,Ze[et++]=Nt,Ze[et++]=kn,kn=t;var r=Et;t=Nt;var i=32-ft(r)-1;r&=~(1<<i),n+=1;var a=32-ft(e)+i;if(30<a){var s=i-i%5;a=(r&(1<<s)-1).toString(32),r>>=s,i-=s,Et=1<<32-ft(e)+i|n<<i|r,Nt=a+t}else Et=1<<a|n<<i|r,Nt=t}function Fl(t){t.return!==null&&(dn(t,1),Dp(t,1,0))}function Bl(t){for(;t===Ca;)Ca=Qn[--Jn],Qn[Jn]=null,Pa=Qn[--Jn],Qn[Jn]=null;for(;t===kn;)kn=Ze[--et],Ze[et]=null,Nt=Ze[--et],Ze[et]=null,Et=Ze[--et],Ze[et]=null}var Ge=null,Ke=null,ie=!1,pt=null;function Ap(t,e){var n=nt(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function du(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Ge=t,Ke=Qt(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Ge=t,Ke=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=kn!==null?{id:Et,overflow:Nt}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=nt(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Ge=t,Ke=null,!0):!1;default:return!1}}function Fo(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Bo(t){if(ie){var e=Ke;if(e){var n=e;if(!du(t,e)){if(Fo(t))throw Error(E(418));e=Qt(n.nextSibling);var r=Ge;e&&du(t,e)?Ap(r,n):(t.flags=t.flags&-4097|2,ie=!1,Ge=t)}}else{if(Fo(t))throw Error(E(418));t.flags=t.flags&-4097|2,ie=!1,Ge=t}}}function pu(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Ge=t}function qi(t){if(t!==Ge)return!1;if(!ie)return pu(t),ie=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Uo(t.type,t.memoizedProps)),e&&(e=Ke)){if(Fo(t))throw Rp(),Error(E(418));for(;e;)Ap(t,e),e=Qt(e.nextSibling)}if(pu(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(E(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Ke=Qt(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Ke=null}}else Ke=Ge?Qt(t.stateNode.nextSibling):null;return!0}function Rp(){for(var t=Ke;t;)t=Qt(t.nextSibling)}function ur(){Ke=Ge=null,ie=!1}function Wl(t){pt===null?pt=[t]:pt.push(t)}var Dg=It.ReactCurrentBatchConfig;function Cr(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(E(309));var r=n.stateNode}if(!r)throw Error(E(147,t));var i=r,a=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===a?e.ref:(e=function(s){var l=i.refs;s===null?delete l[a]:l[a]=s},e._stringRef=a,e)}if(typeof t!="string")throw Error(E(284));if(!n._owner)throw Error(E(290,t))}return t}function Hi(t,e){throw t=Object.prototype.toString.call(e),Error(E(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function fu(t){var e=t._init;return e(t._payload)}function Ip(t){function e(g,h){if(t){var m=g.deletions;m===null?(g.deletions=[h],g.flags|=16):m.push(h)}}function n(g,h){if(!t)return null;for(;h!==null;)e(g,h),h=h.sibling;return null}function r(g,h){for(g=new Map;h!==null;)h.key!==null?g.set(h.key,h):g.set(h.index,h),h=h.sibling;return g}function i(g,h){return g=en(g,h),g.index=0,g.sibling=null,g}function a(g,h,m){return g.index=m,t?(m=g.alternate,m!==null?(m=m.index,m<h?(g.flags|=2,h):m):(g.flags|=2,h)):(g.flags|=1048576,h)}function s(g){return t&&g.alternate===null&&(g.flags|=2),g}function l(g,h,m,w){return h===null||h.tag!==6?(h=eo(m,g.mode,w),h.return=g,h):(h=i(h,m),h.return=g,h)}function c(g,h,m,w){var S=m.type;return S===qn?d(g,h,m.props.children,w,m.key):h!==null&&(h.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===Lt&&fu(S)===h.type)?(w=i(h,m.props),w.ref=Cr(g,h,m),w.return=g,w):(w=ma(m.type,m.key,m.props,null,g.mode,w),w.ref=Cr(g,h,m),w.return=g,w)}function u(g,h,m,w){return h===null||h.tag!==4||h.stateNode.containerInfo!==m.containerInfo||h.stateNode.implementation!==m.implementation?(h=to(m,g.mode,w),h.return=g,h):(h=i(h,m.children||[]),h.return=g,h)}function d(g,h,m,w,S){return h===null||h.tag!==7?(h=_n(m,g.mode,w,S),h.return=g,h):(h=i(h,m),h.return=g,h)}function p(g,h,m){if(typeof h=="string"&&h!==""||typeof h=="number")return h=eo(""+h,g.mode,m),h.return=g,h;if(typeof h=="object"&&h!==null){switch(h.$$typeof){case Ri:return m=ma(h.type,h.key,h.props,null,g.mode,m),m.ref=Cr(g,null,h),m.return=g,m;case Wn:return h=to(h,g.mode,m),h.return=g,h;case Lt:var w=h._init;return p(g,w(h._payload),m)}if(Ir(h)||kr(h))return h=_n(h,g.mode,m,null),h.return=g,h;Hi(g,h)}return null}function f(g,h,m,w){var S=h!==null?h.key:null;if(typeof m=="string"&&m!==""||typeof m=="number")return S!==null?null:l(g,h,""+m,w);if(typeof m=="object"&&m!==null){switch(m.$$typeof){case Ri:return m.key===S?c(g,h,m,w):null;case Wn:return m.key===S?u(g,h,m,w):null;case Lt:return S=m._init,f(g,h,S(m._payload),w)}if(Ir(m)||kr(m))return S!==null?null:d(g,h,m,w,null);Hi(g,m)}return null}function v(g,h,m,w,S){if(typeof w=="string"&&w!==""||typeof w=="number")return g=g.get(m)||null,l(h,g,""+w,S);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Ri:return g=g.get(w.key===null?m:w.key)||null,c(h,g,w,S);case Wn:return g=g.get(w.key===null?m:w.key)||null,u(h,g,w,S);case Lt:var b=w._init;return v(g,h,m,b(w._payload),S)}if(Ir(w)||kr(w))return g=g.get(m)||null,d(h,g,w,S,null);Hi(h,w)}return null}function x(g,h,m,w){for(var S=null,b=null,k=h,C=h=0,L=null;k!==null&&C<m.length;C++){k.index>C?(L=k,k=null):L=k.sibling;var A=f(g,k,m[C],w);if(A===null){k===null&&(k=L);break}t&&k&&A.alternate===null&&e(g,k),h=a(A,h,C),b===null?S=A:b.sibling=A,b=A,k=L}if(C===m.length)return n(g,k),ie&&dn(g,C),S;if(k===null){for(;C<m.length;C++)k=p(g,m[C],w),k!==null&&(h=a(k,h,C),b===null?S=k:b.sibling=k,b=k);return ie&&dn(g,C),S}for(k=r(g,k);C<m.length;C++)L=v(k,g,C,m[C],w),L!==null&&(t&&L.alternate!==null&&k.delete(L.key===null?C:L.key),h=a(L,h,C),b===null?S=L:b.sibling=L,b=L);return t&&k.forEach(function(W){return e(g,W)}),ie&&dn(g,C),S}function y(g,h,m,w){var S=kr(m);if(typeof S!="function")throw Error(E(150));if(m=S.call(m),m==null)throw Error(E(151));for(var b=S=null,k=h,C=h=0,L=null,A=m.next();k!==null&&!A.done;C++,A=m.next()){k.index>C?(L=k,k=null):L=k.sibling;var W=f(g,k,A.value,w);if(W===null){k===null&&(k=L);break}t&&k&&W.alternate===null&&e(g,k),h=a(W,h,C),b===null?S=W:b.sibling=W,b=W,k=L}if(A.done)return n(g,k),ie&&dn(g,C),S;if(k===null){for(;!A.done;C++,A=m.next())A=p(g,A.value,w),A!==null&&(h=a(A,h,C),b===null?S=A:b.sibling=A,b=A);return ie&&dn(g,C),S}for(k=r(g,k);!A.done;C++,A=m.next())A=v(k,g,C,A.value,w),A!==null&&(t&&A.alternate!==null&&k.delete(A.key===null?C:A.key),h=a(A,h,C),b===null?S=A:b.sibling=A,b=A);return t&&k.forEach(function(M){return e(g,M)}),ie&&dn(g,C),S}function _(g,h,m,w){if(typeof m=="object"&&m!==null&&m.type===qn&&m.key===null&&(m=m.props.children),typeof m=="object"&&m!==null){switch(m.$$typeof){case Ri:e:{for(var S=m.key,b=h;b!==null;){if(b.key===S){if(S=m.type,S===qn){if(b.tag===7){n(g,b.sibling),h=i(b,m.props.children),h.return=g,g=h;break e}}else if(b.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===Lt&&fu(S)===b.type){n(g,b.sibling),h=i(b,m.props),h.ref=Cr(g,b,m),h.return=g,g=h;break e}n(g,b);break}else e(g,b);b=b.sibling}m.type===qn?(h=_n(m.props.children,g.mode,w,m.key),h.return=g,g=h):(w=ma(m.type,m.key,m.props,null,g.mode,w),w.ref=Cr(g,h,m),w.return=g,g=w)}return s(g);case Wn:e:{for(b=m.key;h!==null;){if(h.key===b)if(h.tag===4&&h.stateNode.containerInfo===m.containerInfo&&h.stateNode.implementation===m.implementation){n(g,h.sibling),h=i(h,m.children||[]),h.return=g,g=h;break e}else{n(g,h);break}else e(g,h);h=h.sibling}h=to(m,g.mode,w),h.return=g,g=h}return s(g);case Lt:return b=m._init,_(g,h,b(m._payload),w)}if(Ir(m))return x(g,h,m,w);if(kr(m))return y(g,h,m,w);Hi(g,m)}return typeof m=="string"&&m!==""||typeof m=="number"?(m=""+m,h!==null&&h.tag===6?(n(g,h.sibling),h=i(h,m),h.return=g,g=h):(n(g,h),h=eo(m,g.mode,w),h.return=g,g=h),s(g)):n(g,h)}return _}var dr=Ip(!0),Mp=Ip(!1),Ta=an(null),Oa=null,Xn=null,ql=null;function Hl(){ql=Xn=Oa=null}function Vl(t){var e=Ta.current;ne(Ta),t._currentValue=e}function Wo(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function ar(t,e){Oa=t,ql=Xn=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Fe=!0),t.firstContext=null)}function at(t){var e=t._currentValue;if(ql!==t)if(t={context:t,memoizedValue:e,next:null},Xn===null){if(Oa===null)throw Error(E(308));Xn=t,Oa.dependencies={lanes:0,firstContext:t}}else Xn=Xn.next=t;return e}var yn=null;function Kl(t){yn===null?yn=[t]:yn.push(t)}function Up(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,Kl(e)):(n.next=i.next,i.next=n),e.interleaved=n,Ot(t,r)}function Ot(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var zt=!1;function Gl(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function $p(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Ct(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Jt(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,K&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Ot(t,n)}return i=r.interleaved,i===null?(e.next=e,Kl(r)):(e.next=i.next,i.next=e),r.interleaved=e,Ot(t,n)}function ca(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Al(t,n)}}function hu(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,a=null;if(n=n.firstBaseUpdate,n!==null){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};a===null?i=a=s:a=a.next=s,n=n.next}while(n!==null);a===null?i=a=e:a=a.next=e}else i=a=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Da(t,e,n,r){var i=t.updateQueue;zt=!1;var a=i.firstBaseUpdate,s=i.lastBaseUpdate,l=i.shared.pending;if(l!==null){i.shared.pending=null;var c=l,u=c.next;c.next=null,s===null?a=u:s.next=u,s=c;var d=t.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==s&&(l===null?d.firstBaseUpdate=u:l.next=u,d.lastBaseUpdate=c))}if(a!==null){var p=i.baseState;s=0,d=u=c=null,l=a;do{var f=l.lane,v=l.eventTime;if((r&f)===f){d!==null&&(d=d.next={eventTime:v,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var x=t,y=l;switch(f=e,v=n,y.tag){case 1:if(x=y.payload,typeof x=="function"){p=x.call(v,p,f);break e}p=x;break e;case 3:x.flags=x.flags&-65537|128;case 0:if(x=y.payload,f=typeof x=="function"?x.call(v,p,f):x,f==null)break e;p=ce({},p,f);break e;case 2:zt=!0}}l.callback!==null&&l.lane!==0&&(t.flags|=64,f=i.effects,f===null?i.effects=[l]:f.push(l))}else v={eventTime:v,lane:f,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(u=d=v,c=p):d=d.next=v,s|=f;if(l=l.next,l===null){if(l=i.shared.pending,l===null)break;f=l,l=f.next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}while(!0);if(d===null&&(c=p),i.baseState=c,i.firstBaseUpdate=u,i.lastBaseUpdate=d,e=i.shared.interleaved,e!==null){i=e;do s|=i.lane,i=i.next;while(i!==e)}else a===null&&(i.shared.lanes=0);Sn|=s,t.lanes=s,t.memoizedState=p}}function mu(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(E(191,i));i.call(r)}}}var ji={},_t=an(ji),ui=an(ji),di=an(ji);function xn(t){if(t===ji)throw Error(E(174));return t}function Yl(t,e){switch(ee(di,e),ee(ui,t),ee(_t,ji),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:ko(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=ko(e,t)}ne(_t),ee(_t,e)}function pr(){ne(_t),ne(ui),ne(di)}function Lp(t){xn(di.current);var e=xn(_t.current),n=ko(e,t.type);e!==n&&(ee(ui,t),ee(_t,n))}function Ql(t){ui.current===t&&(ne(_t),ne(ui))}var oe=an(0);function Aa(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Gs=[];function Jl(){for(var t=0;t<Gs.length;t++)Gs[t]._workInProgressVersionPrimary=null;Gs.length=0}var ua=It.ReactCurrentDispatcher,Ys=It.ReactCurrentBatchConfig,jn=0,le=null,me=null,we=null,Ra=!1,qr=!1,pi=0,Ag=0;function Se(){throw Error(E(321))}function Xl(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!mt(t[n],e[n]))return!1;return!0}function Zl(t,e,n,r,i,a){if(jn=a,le=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,ua.current=t===null||t.memoizedState===null?Ug:$g,t=n(r,i),qr){a=0;do{if(qr=!1,pi=0,25<=a)throw Error(E(301));a+=1,we=me=null,e.updateQueue=null,ua.current=Lg,t=n(r,i)}while(qr)}if(ua.current=Ia,e=me!==null&&me.next!==null,jn=0,we=me=le=null,Ra=!1,e)throw Error(E(300));return t}function ec(){var t=pi!==0;return pi=0,t}function yt(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return we===null?le.memoizedState=we=t:we=we.next=t,we}function st(){if(me===null){var t=le.alternate;t=t!==null?t.memoizedState:null}else t=me.next;var e=we===null?le.memoizedState:we.next;if(e!==null)we=e,me=t;else{if(t===null)throw Error(E(310));me=t,t={memoizedState:me.memoizedState,baseState:me.baseState,baseQueue:me.baseQueue,queue:me.queue,next:null},we===null?le.memoizedState=we=t:we=we.next=t}return we}function fi(t,e){return typeof e=="function"?e(t):e}function Qs(t){var e=st(),n=e.queue;if(n===null)throw Error(E(311));n.lastRenderedReducer=t;var r=me,i=r.baseQueue,a=n.pending;if(a!==null){if(i!==null){var s=i.next;i.next=a.next,a.next=s}r.baseQueue=i=a,n.pending=null}if(i!==null){a=i.next,r=r.baseState;var l=s=null,c=null,u=a;do{var d=u.lane;if((jn&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var p={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=p,s=r):c=c.next=p,le.lanes|=d,Sn|=d}u=u.next}while(u!==null&&u!==a);c===null?s=r:c.next=l,mt(r,e.memoizedState)||(Fe=!0),e.memoizedState=r,e.baseState=s,e.baseQueue=c,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do a=i.lane,le.lanes|=a,Sn|=a,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Js(t){var e=st(),n=e.queue;if(n===null)throw Error(E(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,a=e.memoizedState;if(i!==null){n.pending=null;var s=i=i.next;do a=t(a,s.action),s=s.next;while(s!==i);mt(a,e.memoizedState)||(Fe=!0),e.memoizedState=a,e.baseQueue===null&&(e.baseState=a),n.lastRenderedState=a}return[a,r]}function zp(){}function Fp(t,e){var n=le,r=st(),i=e(),a=!mt(r.memoizedState,i);if(a&&(r.memoizedState=i,Fe=!0),r=r.queue,tc(qp.bind(null,n,r,t),[t]),r.getSnapshot!==e||a||we!==null&&we.memoizedState.tag&1){if(n.flags|=2048,hi(9,Wp.bind(null,n,r,i,e),void 0,null),_e===null)throw Error(E(349));jn&30||Bp(n,e,i)}return i}function Bp(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=le.updateQueue,e===null?(e={lastEffect:null,stores:null},le.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function Wp(t,e,n,r){e.value=n,e.getSnapshot=r,Hp(e)&&Vp(t)}function qp(t,e,n){return n(function(){Hp(e)&&Vp(t)})}function Hp(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!mt(t,n)}catch{return!0}}function Vp(t){var e=Ot(t,1);e!==null&&ht(e,t,1,-1)}function gu(t){var e=yt();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:fi,lastRenderedState:t},e.queue=t,t=t.dispatch=Mg.bind(null,le,t),[e.memoizedState,t]}function hi(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=le.updateQueue,e===null?(e={lastEffect:null,stores:null},le.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function Kp(){return st().memoizedState}function da(t,e,n,r){var i=yt();le.flags|=t,i.memoizedState=hi(1|e,n,void 0,r===void 0?null:r)}function as(t,e,n,r){var i=st();r=r===void 0?null:r;var a=void 0;if(me!==null){var s=me.memoizedState;if(a=s.destroy,r!==null&&Xl(r,s.deps)){i.memoizedState=hi(e,n,a,r);return}}le.flags|=t,i.memoizedState=hi(1|e,n,a,r)}function vu(t,e){return da(8390656,8,t,e)}function tc(t,e){return as(2048,8,t,e)}function Gp(t,e){return as(4,2,t,e)}function Yp(t,e){return as(4,4,t,e)}function Qp(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function Jp(t,e,n){return n=n!=null?n.concat([t]):null,as(4,4,Qp.bind(null,e,t),n)}function nc(){}function Xp(t,e){var n=st();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Xl(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function Zp(t,e){var n=st();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Xl(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function ef(t,e,n){return jn&21?(mt(n,e)||(n=ap(),le.lanes|=n,Sn|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Fe=!0),t.memoizedState=n)}function Rg(t,e){var n=Y;Y=n!==0&&4>n?n:4,t(!0);var r=Ys.transition;Ys.transition={};try{t(!1),e()}finally{Y=n,Ys.transition=r}}function tf(){return st().memoizedState}function Ig(t,e,n){var r=Zt(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},nf(t))rf(e,n);else if(n=Up(t,e,n,r),n!==null){var i=Re();ht(n,t,r,i),af(n,e,r)}}function Mg(t,e,n){var r=Zt(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(nf(t))rf(e,i);else{var a=t.alternate;if(t.lanes===0&&(a===null||a.lanes===0)&&(a=e.lastRenderedReducer,a!==null))try{var s=e.lastRenderedState,l=a(s,n);if(i.hasEagerState=!0,i.eagerState=l,mt(l,s)){var c=e.interleaved;c===null?(i.next=i,Kl(e)):(i.next=c.next,c.next=i),e.interleaved=i;return}}catch{}finally{}n=Up(t,e,i,r),n!==null&&(i=Re(),ht(n,t,r,i),af(n,e,r))}}function nf(t){var e=t.alternate;return t===le||e!==null&&e===le}function rf(t,e){qr=Ra=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function af(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Al(t,n)}}var Ia={readContext:at,useCallback:Se,useContext:Se,useEffect:Se,useImperativeHandle:Se,useInsertionEffect:Se,useLayoutEffect:Se,useMemo:Se,useReducer:Se,useRef:Se,useState:Se,useDebugValue:Se,useDeferredValue:Se,useTransition:Se,useMutableSource:Se,useSyncExternalStore:Se,useId:Se,unstable_isNewReconciler:!1},Ug={readContext:at,useCallback:function(t,e){return yt().memoizedState=[t,e===void 0?null:e],t},useContext:at,useEffect:vu,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,da(4194308,4,Qp.bind(null,e,t),n)},useLayoutEffect:function(t,e){return da(4194308,4,t,e)},useInsertionEffect:function(t,e){return da(4,2,t,e)},useMemo:function(t,e){var n=yt();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=yt();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=Ig.bind(null,le,t),[r.memoizedState,t]},useRef:function(t){var e=yt();return t={current:t},e.memoizedState=t},useState:gu,useDebugValue:nc,useDeferredValue:function(t){return yt().memoizedState=t},useTransition:function(){var t=gu(!1),e=t[0];return t=Rg.bind(null,t[1]),yt().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=le,i=yt();if(ie){if(n===void 0)throw Error(E(407));n=n()}else{if(n=e(),_e===null)throw Error(E(349));jn&30||Bp(r,e,n)}i.memoizedState=n;var a={value:n,getSnapshot:e};return i.queue=a,vu(qp.bind(null,r,a,t),[t]),r.flags|=2048,hi(9,Wp.bind(null,r,a,n,e),void 0,null),n},useId:function(){var t=yt(),e=_e.identifierPrefix;if(ie){var n=Nt,r=Et;n=(r&~(1<<32-ft(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=pi++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=Ag++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},$g={readContext:at,useCallback:Xp,useContext:at,useEffect:tc,useImperativeHandle:Jp,useInsertionEffect:Gp,useLayoutEffect:Yp,useMemo:Zp,useReducer:Qs,useRef:Kp,useState:function(){return Qs(fi)},useDebugValue:nc,useDeferredValue:function(t){var e=st();return ef(e,me.memoizedState,t)},useTransition:function(){var t=Qs(fi)[0],e=st().memoizedState;return[t,e]},useMutableSource:zp,useSyncExternalStore:Fp,useId:tf,unstable_isNewReconciler:!1},Lg={readContext:at,useCallback:Xp,useContext:at,useEffect:tc,useImperativeHandle:Jp,useInsertionEffect:Gp,useLayoutEffect:Yp,useMemo:Zp,useReducer:Js,useRef:Kp,useState:function(){return Js(fi)},useDebugValue:nc,useDeferredValue:function(t){var e=st();return me===null?e.memoizedState=t:ef(e,me.memoizedState,t)},useTransition:function(){var t=Js(fi)[0],e=st().memoizedState;return[t,e]},useMutableSource:zp,useSyncExternalStore:Fp,useId:tf,unstable_isNewReconciler:!1};function ct(t,e){if(t&&t.defaultProps){e=ce({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function qo(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:ce({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var ss={isMounted:function(t){return(t=t._reactInternals)?Pn(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Re(),i=Zt(t),a=Ct(r,i);a.payload=e,n!=null&&(a.callback=n),e=Jt(t,a,i),e!==null&&(ht(e,t,i,r),ca(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Re(),i=Zt(t),a=Ct(r,i);a.tag=1,a.payload=e,n!=null&&(a.callback=n),e=Jt(t,a,i),e!==null&&(ht(e,t,i,r),ca(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Re(),r=Zt(t),i=Ct(n,r);i.tag=2,e!=null&&(i.callback=e),e=Jt(t,i,r),e!==null&&(ht(e,t,r,n),ca(e,t,r))}};function yu(t,e,n,r,i,a,s){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,a,s):e.prototype&&e.prototype.isPureReactComponent?!si(n,r)||!si(i,a):!0}function sf(t,e,n){var r=!1,i=nn,a=e.contextType;return typeof a=="object"&&a!==null?a=at(a):(i=We(e)?bn:Oe.current,r=e.contextTypes,a=(r=r!=null)?cr(t,i):nn),e=new e(n,a),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=ss,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=a),e}function xu(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&ss.enqueueReplaceState(e,e.state,null)}function Ho(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},Gl(t);var a=e.contextType;typeof a=="object"&&a!==null?i.context=at(a):(a=We(e)?bn:Oe.current,i.context=cr(t,a)),i.state=t.memoizedState,a=e.getDerivedStateFromProps,typeof a=="function"&&(qo(t,e,a,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&ss.enqueueReplaceState(i,i.state,null),Da(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function fr(t,e){try{var n="",r=e;do n+=fm(r),r=r.return;while(r);var i=n}catch(a){i=`
Error generating stack: `+a.message+`
`+a.stack}return{value:t,source:e,stack:i,digest:null}}function Xs(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Vo(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var zg=typeof WeakMap=="function"?WeakMap:Map;function of(t,e,n){n=Ct(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Ua||(Ua=!0,nl=r),Vo(t,e)},n}function lf(t,e,n){n=Ct(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){Vo(t,e)}}var a=t.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(n.callback=function(){Vo(t,e),typeof r!="function"&&(Xt===null?Xt=new Set([this]):Xt.add(this));var s=e.stack;this.componentDidCatch(e.value,{componentStack:s!==null?s:""})}),n}function wu(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new zg;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=ev.bind(null,t,e,n),e.then(t,t))}function _u(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function bu(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Ct(-1,1),e.tag=2,Jt(n,e,1))),n.lanes|=1),t)}var Fg=It.ReactCurrentOwner,Fe=!1;function Ae(t,e,n,r){e.child=t===null?Mp(e,null,n,r):dr(e,t.child,n,r)}function ku(t,e,n,r,i){n=n.render;var a=e.ref;return ar(e,i),r=Zl(t,e,n,r,a,i),n=ec(),t!==null&&!Fe?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Dt(t,e,i)):(ie&&n&&Fl(e),e.flags|=1,Ae(t,e,r,i),e.child)}function ju(t,e,n,r,i){if(t===null){var a=n.type;return typeof a=="function"&&!uc(a)&&a.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=a,cf(t,e,a,r,i)):(t=ma(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(a=t.child,!(t.lanes&i)){var s=a.memoizedProps;if(n=n.compare,n=n!==null?n:si,n(s,r)&&t.ref===e.ref)return Dt(t,e,i)}return e.flags|=1,t=en(a,r),t.ref=e.ref,t.return=e,e.child=t}function cf(t,e,n,r,i){if(t!==null){var a=t.memoizedProps;if(si(a,r)&&t.ref===e.ref)if(Fe=!1,e.pendingProps=r=a,(t.lanes&i)!==0)t.flags&131072&&(Fe=!0);else return e.lanes=t.lanes,Dt(t,e,i)}return Ko(t,e,n,r,i)}function uf(t,e,n){var r=e.pendingProps,i=r.children,a=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},ee(er,Ve),Ve|=n;else{if(!(n&1073741824))return t=a!==null?a.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,ee(er,Ve),Ve|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=a!==null?a.baseLanes:n,ee(er,Ve),Ve|=r}else a!==null?(r=a.baseLanes|n,e.memoizedState=null):r=n,ee(er,Ve),Ve|=r;return Ae(t,e,i,n),e.child}function df(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Ko(t,e,n,r,i){var a=We(n)?bn:Oe.current;return a=cr(e,a),ar(e,i),n=Zl(t,e,n,r,a,i),r=ec(),t!==null&&!Fe?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Dt(t,e,i)):(ie&&r&&Fl(e),e.flags|=1,Ae(t,e,n,i),e.child)}function Su(t,e,n,r,i){if(We(n)){var a=!0;Na(e)}else a=!1;if(ar(e,i),e.stateNode===null)pa(t,e),sf(e,n,r),Ho(e,n,r,i),r=!0;else if(t===null){var s=e.stateNode,l=e.memoizedProps;s.props=l;var c=s.context,u=n.contextType;typeof u=="object"&&u!==null?u=at(u):(u=We(n)?bn:Oe.current,u=cr(e,u));var d=n.getDerivedStateFromProps,p=typeof d=="function"||typeof s.getSnapshotBeforeUpdate=="function";p||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(l!==r||c!==u)&&xu(e,s,r,u),zt=!1;var f=e.memoizedState;s.state=f,Da(e,r,s,i),c=e.memoizedState,l!==r||f!==c||Be.current||zt?(typeof d=="function"&&(qo(e,n,d,r),c=e.memoizedState),(l=zt||yu(e,n,l,r,f,c,u))?(p||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(e.flags|=4194308)):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=c),s.props=r,s.state=c,s.context=u,r=l):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{s=e.stateNode,$p(t,e),l=e.memoizedProps,u=e.type===e.elementType?l:ct(e.type,l),s.props=u,p=e.pendingProps,f=s.context,c=n.contextType,typeof c=="object"&&c!==null?c=at(c):(c=We(n)?bn:Oe.current,c=cr(e,c));var v=n.getDerivedStateFromProps;(d=typeof v=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(l!==p||f!==c)&&xu(e,s,r,c),zt=!1,f=e.memoizedState,s.state=f,Da(e,r,s,i);var x=e.memoizedState;l!==p||f!==x||Be.current||zt?(typeof v=="function"&&(qo(e,n,v,r),x=e.memoizedState),(u=zt||yu(e,n,u,r,f,x,c)||!1)?(d||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(r,x,c),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(r,x,c)),typeof s.componentDidUpdate=="function"&&(e.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof s.componentDidUpdate!="function"||l===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=x),s.props=r,s.state=x,s.context=c,r=u):(typeof s.componentDidUpdate!="function"||l===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),r=!1)}return Go(t,e,n,r,a,i)}function Go(t,e,n,r,i,a){df(t,e);var s=(e.flags&128)!==0;if(!r&&!s)return i&&uu(e,n,!1),Dt(t,e,a);r=e.stateNode,Fg.current=e;var l=s&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&s?(e.child=dr(e,t.child,null,a),e.child=dr(e,null,l,a)):Ae(t,e,l,a),e.memoizedState=r.state,i&&uu(e,n,!0),e.child}function pf(t){var e=t.stateNode;e.pendingContext?cu(t,e.pendingContext,e.pendingContext!==e.context):e.context&&cu(t,e.context,!1),Yl(t,e.containerInfo)}function Eu(t,e,n,r,i){return ur(),Wl(i),e.flags|=256,Ae(t,e,n,r),e.child}var Yo={dehydrated:null,treeContext:null,retryLane:0};function Qo(t){return{baseLanes:t,cachePool:null,transitions:null}}function ff(t,e,n){var r=e.pendingProps,i=oe.current,a=!1,s=(e.flags&128)!==0,l;if((l=s)||(l=t!==null&&t.memoizedState===null?!1:(i&2)!==0),l?(a=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),ee(oe,i&1),t===null)return Bo(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(s=r.children,t=r.fallback,a?(r=e.mode,a=e.child,s={mode:"hidden",children:s},!(r&1)&&a!==null?(a.childLanes=0,a.pendingProps=s):a=cs(s,r,0,null),t=_n(t,r,n,null),a.return=e,t.return=e,a.sibling=t,e.child=a,e.child.memoizedState=Qo(n),e.memoizedState=Yo,t):rc(e,s));if(i=t.memoizedState,i!==null&&(l=i.dehydrated,l!==null))return Bg(t,e,s,r,l,i,n);if(a){a=r.fallback,s=e.mode,i=t.child,l=i.sibling;var c={mode:"hidden",children:r.children};return!(s&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=c,e.deletions=null):(r=en(i,c),r.subtreeFlags=i.subtreeFlags&14680064),l!==null?a=en(l,a):(a=_n(a,s,n,null),a.flags|=2),a.return=e,r.return=e,r.sibling=a,e.child=r,r=a,a=e.child,s=t.child.memoizedState,s=s===null?Qo(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},a.memoizedState=s,a.childLanes=t.childLanes&~n,e.memoizedState=Yo,r}return a=t.child,t=a.sibling,r=en(a,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function rc(t,e){return e=cs({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Vi(t,e,n,r){return r!==null&&Wl(r),dr(e,t.child,null,n),t=rc(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function Bg(t,e,n,r,i,a,s){if(n)return e.flags&256?(e.flags&=-257,r=Xs(Error(E(422))),Vi(t,e,s,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(a=r.fallback,i=e.mode,r=cs({mode:"visible",children:r.children},i,0,null),a=_n(a,i,s,null),a.flags|=2,r.return=e,a.return=e,r.sibling=a,e.child=r,e.mode&1&&dr(e,t.child,null,s),e.child.memoizedState=Qo(s),e.memoizedState=Yo,a);if(!(e.mode&1))return Vi(t,e,s,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var l=r.dgst;return r=l,a=Error(E(419)),r=Xs(a,r,void 0),Vi(t,e,s,r)}if(l=(s&t.childLanes)!==0,Fe||l){if(r=_e,r!==null){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|s)?0:i,i!==0&&i!==a.retryLane&&(a.retryLane=i,Ot(t,i),ht(r,t,i,-1))}return cc(),r=Xs(Error(E(421))),Vi(t,e,s,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=tv.bind(null,t),i._reactRetry=e,null):(t=a.treeContext,Ke=Qt(i.nextSibling),Ge=e,ie=!0,pt=null,t!==null&&(Ze[et++]=Et,Ze[et++]=Nt,Ze[et++]=kn,Et=t.id,Nt=t.overflow,kn=e),e=rc(e,r.children),e.flags|=4096,e)}function Nu(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Wo(t.return,e,n)}function Zs(t,e,n,r,i){var a=t.memoizedState;a===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(a.isBackwards=e,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i)}function hf(t,e,n){var r=e.pendingProps,i=r.revealOrder,a=r.tail;if(Ae(t,e,r.children,n),r=oe.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Nu(t,n,e);else if(t.tag===19)Nu(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(ee(oe,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&Aa(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Zs(e,!1,i,n,a);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Aa(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Zs(e,!0,n,null,a);break;case"together":Zs(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function pa(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Dt(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Sn|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(E(153));if(e.child!==null){for(t=e.child,n=en(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=en(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function Wg(t,e,n){switch(e.tag){case 3:pf(e),ur();break;case 5:Lp(e);break;case 1:We(e.type)&&Na(e);break;case 4:Yl(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;ee(Ta,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(ee(oe,oe.current&1),e.flags|=128,null):n&e.child.childLanes?ff(t,e,n):(ee(oe,oe.current&1),t=Dt(t,e,n),t!==null?t.sibling:null);ee(oe,oe.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return hf(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),ee(oe,oe.current),r)break;return null;case 22:case 23:return e.lanes=0,uf(t,e,n)}return Dt(t,e,n)}var mf,Jo,gf,vf;mf=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Jo=function(){};gf=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,xn(_t.current);var a=null;switch(n){case"input":i=xo(t,i),r=xo(t,r),a=[];break;case"select":i=ce({},i,{value:void 0}),r=ce({},r,{value:void 0}),a=[];break;case"textarea":i=bo(t,i),r=bo(t,r),a=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Sa)}jo(n,r);var s;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var l=i[u];for(s in l)l.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Zr.hasOwnProperty(u)?a||(a=[]):(a=a||[]).push(u,null));for(u in r){var c=r[u];if(l=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(s in l)!l.hasOwnProperty(s)||c&&c.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in c)c.hasOwnProperty(s)&&l[s]!==c[s]&&(n||(n={}),n[s]=c[s])}else n||(a||(a=[]),a.push(u,n)),n=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(a=a||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(a=a||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Zr.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&te("scroll",t),a||l===c||(a=[])):(a=a||[]).push(u,c))}n&&(a=a||[]).push("style",n);var u=a;(e.updateQueue=u)&&(e.flags|=4)}};vf=function(t,e,n,r){n!==r&&(e.flags|=4)};function Pr(t,e){if(!ie)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Ee(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function qg(t,e,n){var r=e.pendingProps;switch(Bl(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ee(e),null;case 1:return We(e.type)&&Ea(),Ee(e),null;case 3:return r=e.stateNode,pr(),ne(Be),ne(Oe),Jl(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(qi(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,pt!==null&&(al(pt),pt=null))),Jo(t,e),Ee(e),null;case 5:Ql(e);var i=xn(di.current);if(n=e.type,t!==null&&e.stateNode!=null)gf(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(E(166));return Ee(e),null}if(t=xn(_t.current),qi(e)){r=e.stateNode,n=e.type;var a=e.memoizedProps;switch(r[xt]=e,r[ci]=a,t=(e.mode&1)!==0,n){case"dialog":te("cancel",r),te("close",r);break;case"iframe":case"object":case"embed":te("load",r);break;case"video":case"audio":for(i=0;i<Ur.length;i++)te(Ur[i],r);break;case"source":te("error",r);break;case"img":case"image":case"link":te("error",r),te("load",r);break;case"details":te("toggle",r);break;case"input":Mc(r,a),te("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!a.multiple},te("invalid",r);break;case"textarea":$c(r,a),te("invalid",r)}jo(n,a),i=null;for(var s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="children"?typeof l=="string"?r.textContent!==l&&(a.suppressHydrationWarning!==!0&&Wi(r.textContent,l,t),i=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(a.suppressHydrationWarning!==!0&&Wi(r.textContent,l,t),i=["children",""+l]):Zr.hasOwnProperty(s)&&l!=null&&s==="onScroll"&&te("scroll",r)}switch(n){case"input":Ii(r),Uc(r,a,!0);break;case"textarea":Ii(r),Lc(r);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(r.onclick=Sa)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{s=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=qd(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=s.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=s.createElement(n,{is:r.is}):(t=s.createElement(n),n==="select"&&(s=t,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):t=s.createElementNS(t,n),t[xt]=e,t[ci]=r,mf(t,e,!1,!1),e.stateNode=t;e:{switch(s=So(n,r),n){case"dialog":te("cancel",t),te("close",t),i=r;break;case"iframe":case"object":case"embed":te("load",t),i=r;break;case"video":case"audio":for(i=0;i<Ur.length;i++)te(Ur[i],t);i=r;break;case"source":te("error",t),i=r;break;case"img":case"image":case"link":te("error",t),te("load",t),i=r;break;case"details":te("toggle",t),i=r;break;case"input":Mc(t,r),i=xo(t,r),te("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=ce({},r,{value:void 0}),te("invalid",t);break;case"textarea":$c(t,r),i=bo(t,r),te("invalid",t);break;default:i=r}jo(n,i),l=i;for(a in l)if(l.hasOwnProperty(a)){var c=l[a];a==="style"?Kd(t,c):a==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&Hd(t,c)):a==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&ei(t,c):typeof c=="number"&&ei(t,""+c):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(Zr.hasOwnProperty(a)?c!=null&&a==="onScroll"&&te("scroll",t):c!=null&&Nl(t,a,c,s))}switch(n){case"input":Ii(t),Uc(t,r,!1);break;case"textarea":Ii(t),Lc(t);break;case"option":r.value!=null&&t.setAttribute("value",""+tn(r.value));break;case"select":t.multiple=!!r.multiple,a=r.value,a!=null?tr(t,!!r.multiple,a,!1):r.defaultValue!=null&&tr(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Sa)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Ee(e),null;case 6:if(t&&e.stateNode!=null)vf(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(E(166));if(n=xn(di.current),xn(_t.current),qi(e)){if(r=e.stateNode,n=e.memoizedProps,r[xt]=e,(a=r.nodeValue!==n)&&(t=Ge,t!==null))switch(t.tag){case 3:Wi(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Wi(r.nodeValue,n,(t.mode&1)!==0)}a&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[xt]=e,e.stateNode=r}return Ee(e),null;case 13:if(ne(oe),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(ie&&Ke!==null&&e.mode&1&&!(e.flags&128))Rp(),ur(),e.flags|=98560,a=!1;else if(a=qi(e),r!==null&&r.dehydrated!==null){if(t===null){if(!a)throw Error(E(318));if(a=e.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(E(317));a[xt]=e}else ur(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Ee(e),a=!1}else pt!==null&&(al(pt),pt=null),a=!0;if(!a)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||oe.current&1?ge===0&&(ge=3):cc())),e.updateQueue!==null&&(e.flags|=4),Ee(e),null);case 4:return pr(),Jo(t,e),t===null&&oi(e.stateNode.containerInfo),Ee(e),null;case 10:return Vl(e.type._context),Ee(e),null;case 17:return We(e.type)&&Ea(),Ee(e),null;case 19:if(ne(oe),a=e.memoizedState,a===null)return Ee(e),null;if(r=(e.flags&128)!==0,s=a.rendering,s===null)if(r)Pr(a,!1);else{if(ge!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(s=Aa(t),s!==null){for(e.flags|=128,Pr(a,!1),r=s.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)a=n,t=r,a.flags&=14680066,s=a.alternate,s===null?(a.childLanes=0,a.lanes=t,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=s.childLanes,a.lanes=s.lanes,a.child=s.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=s.memoizedProps,a.memoizedState=s.memoizedState,a.updateQueue=s.updateQueue,a.type=s.type,t=s.dependencies,a.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return ee(oe,oe.current&1|2),e.child}t=t.sibling}a.tail!==null&&de()>hr&&(e.flags|=128,r=!0,Pr(a,!1),e.lanes=4194304)}else{if(!r)if(t=Aa(s),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Pr(a,!0),a.tail===null&&a.tailMode==="hidden"&&!s.alternate&&!ie)return Ee(e),null}else 2*de()-a.renderingStartTime>hr&&n!==1073741824&&(e.flags|=128,r=!0,Pr(a,!1),e.lanes=4194304);a.isBackwards?(s.sibling=e.child,e.child=s):(n=a.last,n!==null?n.sibling=s:e.child=s,a.last=s)}return a.tail!==null?(e=a.tail,a.rendering=e,a.tail=e.sibling,a.renderingStartTime=de(),e.sibling=null,n=oe.current,ee(oe,r?n&1|2:n&1),e):(Ee(e),null);case 22:case 23:return lc(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Ve&1073741824&&(Ee(e),e.subtreeFlags&6&&(e.flags|=8192)):Ee(e),null;case 24:return null;case 25:return null}throw Error(E(156,e.tag))}function Hg(t,e){switch(Bl(e),e.tag){case 1:return We(e.type)&&Ea(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return pr(),ne(Be),ne(Oe),Jl(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Ql(e),null;case 13:if(ne(oe),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(E(340));ur()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return ne(oe),null;case 4:return pr(),null;case 10:return Vl(e.type._context),null;case 22:case 23:return lc(),null;case 24:return null;default:return null}}var Ki=!1,Pe=!1,Vg=typeof WeakSet=="function"?WeakSet:Set,O=null;function Zn(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){ue(t,e,r)}else n.current=null}function Xo(t,e,n){try{n()}catch(r){ue(t,e,r)}}var Cu=!1;function Kg(t,e){if(Io=ba,t=_p(),zl(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch{n=null;break e}var s=0,l=-1,c=-1,u=0,d=0,p=t,f=null;t:for(;;){for(var v;p!==n||i!==0&&p.nodeType!==3||(l=s+i),p!==a||r!==0&&p.nodeType!==3||(c=s+r),p.nodeType===3&&(s+=p.nodeValue.length),(v=p.firstChild)!==null;)f=p,p=v;for(;;){if(p===t)break t;if(f===n&&++u===i&&(l=s),f===a&&++d===r&&(c=s),(v=p.nextSibling)!==null)break;p=f,f=p.parentNode}p=v}n=l===-1||c===-1?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(Mo={focusedElem:t,selectionRange:n},ba=!1,O=e;O!==null;)if(e=O,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,O=t;else for(;O!==null;){e=O;try{var x=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(x!==null){var y=x.memoizedProps,_=x.memoizedState,g=e.stateNode,h=g.getSnapshotBeforeUpdate(e.elementType===e.type?y:ct(e.type,y),_);g.__reactInternalSnapshotBeforeUpdate=h}break;case 3:var m=e.stateNode.containerInfo;m.nodeType===1?m.textContent="":m.nodeType===9&&m.documentElement&&m.removeChild(m.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(E(163))}}catch(w){ue(e,e.return,w)}if(t=e.sibling,t!==null){t.return=e.return,O=t;break}O=e.return}return x=Cu,Cu=!1,x}function Hr(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var a=i.destroy;i.destroy=void 0,a!==void 0&&Xo(e,n,a)}i=i.next}while(i!==r)}}function os(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Zo(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function yf(t){var e=t.alternate;e!==null&&(t.alternate=null,yf(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[xt],delete e[ci],delete e[Lo],delete e[Pg],delete e[Tg])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function xf(t){return t.tag===5||t.tag===3||t.tag===4}function Pu(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||xf(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function el(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Sa));else if(r!==4&&(t=t.child,t!==null))for(el(t,e,n),t=t.sibling;t!==null;)el(t,e,n),t=t.sibling}function tl(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(tl(t,e,n),t=t.sibling;t!==null;)tl(t,e,n),t=t.sibling}var be=null,ut=!1;function Mt(t,e,n){for(n=n.child;n!==null;)wf(t,e,n),n=n.sibling}function wf(t,e,n){if(wt&&typeof wt.onCommitFiberUnmount=="function")try{wt.onCommitFiberUnmount(Za,n)}catch{}switch(n.tag){case 5:Pe||Zn(n,e);case 6:var r=be,i=ut;be=null,Mt(t,e,n),be=r,ut=i,be!==null&&(ut?(t=be,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):be.removeChild(n.stateNode));break;case 18:be!==null&&(ut?(t=be,n=n.stateNode,t.nodeType===8?Vs(t.parentNode,n):t.nodeType===1&&Vs(t,n),ii(t)):Vs(be,n.stateNode));break;case 4:r=be,i=ut,be=n.stateNode.containerInfo,ut=!0,Mt(t,e,n),be=r,ut=i;break;case 0:case 11:case 14:case 15:if(!Pe&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var a=i,s=a.destroy;a=a.tag,s!==void 0&&(a&2||a&4)&&Xo(n,e,s),i=i.next}while(i!==r)}Mt(t,e,n);break;case 1:if(!Pe&&(Zn(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){ue(n,e,l)}Mt(t,e,n);break;case 21:Mt(t,e,n);break;case 22:n.mode&1?(Pe=(r=Pe)||n.memoizedState!==null,Mt(t,e,n),Pe=r):Mt(t,e,n);break;default:Mt(t,e,n)}}function Tu(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new Vg),e.forEach(function(r){var i=nv.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function ot(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var a=t,s=e,l=s;e:for(;l!==null;){switch(l.tag){case 5:be=l.stateNode,ut=!1;break e;case 3:be=l.stateNode.containerInfo,ut=!0;break e;case 4:be=l.stateNode.containerInfo,ut=!0;break e}l=l.return}if(be===null)throw Error(E(160));wf(a,s,i),be=null,ut=!1;var c=i.alternate;c!==null&&(c.return=null),i.return=null}catch(u){ue(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)_f(e,t),e=e.sibling}function _f(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(ot(e,t),gt(t),r&4){try{Hr(3,t,t.return),os(3,t)}catch(y){ue(t,t.return,y)}try{Hr(5,t,t.return)}catch(y){ue(t,t.return,y)}}break;case 1:ot(e,t),gt(t),r&512&&n!==null&&Zn(n,n.return);break;case 5:if(ot(e,t),gt(t),r&512&&n!==null&&Zn(n,n.return),t.flags&32){var i=t.stateNode;try{ei(i,"")}catch(y){ue(t,t.return,y)}}if(r&4&&(i=t.stateNode,i!=null)){var a=t.memoizedProps,s=n!==null?n.memoizedProps:a,l=t.type,c=t.updateQueue;if(t.updateQueue=null,c!==null)try{l==="input"&&a.type==="radio"&&a.name!=null&&Bd(i,a),So(l,s);var u=So(l,a);for(s=0;s<c.length;s+=2){var d=c[s],p=c[s+1];d==="style"?Kd(i,p):d==="dangerouslySetInnerHTML"?Hd(i,p):d==="children"?ei(i,p):Nl(i,d,p,u)}switch(l){case"input":wo(i,a);break;case"textarea":Wd(i,a);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var v=a.value;v!=null?tr(i,!!a.multiple,v,!1):f!==!!a.multiple&&(a.defaultValue!=null?tr(i,!!a.multiple,a.defaultValue,!0):tr(i,!!a.multiple,a.multiple?[]:"",!1))}i[ci]=a}catch(y){ue(t,t.return,y)}}break;case 6:if(ot(e,t),gt(t),r&4){if(t.stateNode===null)throw Error(E(162));i=t.stateNode,a=t.memoizedProps;try{i.nodeValue=a}catch(y){ue(t,t.return,y)}}break;case 3:if(ot(e,t),gt(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{ii(e.containerInfo)}catch(y){ue(t,t.return,y)}break;case 4:ot(e,t),gt(t);break;case 13:ot(e,t),gt(t),i=t.child,i.flags&8192&&(a=i.memoizedState!==null,i.stateNode.isHidden=a,!a||i.alternate!==null&&i.alternate.memoizedState!==null||(sc=de())),r&4&&Tu(t);break;case 22:if(d=n!==null&&n.memoizedState!==null,t.mode&1?(Pe=(u=Pe)||d,ot(e,t),Pe=u):ot(e,t),gt(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!d&&t.mode&1)for(O=t,d=t.child;d!==null;){for(p=O=d;O!==null;){switch(f=O,v=f.child,f.tag){case 0:case 11:case 14:case 15:Hr(4,f,f.return);break;case 1:Zn(f,f.return);var x=f.stateNode;if(typeof x.componentWillUnmount=="function"){r=f,n=f.return;try{e=r,x.props=e.memoizedProps,x.state=e.memoizedState,x.componentWillUnmount()}catch(y){ue(r,n,y)}}break;case 5:Zn(f,f.return);break;case 22:if(f.memoizedState!==null){Du(p);continue}}v!==null?(v.return=f,O=v):Du(p)}d=d.sibling}e:for(d=null,p=t;;){if(p.tag===5){if(d===null){d=p;try{i=p.stateNode,u?(a=i.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(l=p.stateNode,c=p.memoizedProps.style,s=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=Vd("display",s))}catch(y){ue(t,t.return,y)}}}else if(p.tag===6){if(d===null)try{p.stateNode.nodeValue=u?"":p.memoizedProps}catch(y){ue(t,t.return,y)}}else if((p.tag!==22&&p.tag!==23||p.memoizedState===null||p===t)&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===t)break e;for(;p.sibling===null;){if(p.return===null||p.return===t)break e;d===p&&(d=null),p=p.return}d===p&&(d=null),p.sibling.return=p.return,p=p.sibling}}break;case 19:ot(e,t),gt(t),r&4&&Tu(t);break;case 21:break;default:ot(e,t),gt(t)}}function gt(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(xf(n)){var r=n;break e}n=n.return}throw Error(E(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(ei(i,""),r.flags&=-33);var a=Pu(t);tl(t,a,i);break;case 3:case 4:var s=r.stateNode.containerInfo,l=Pu(t);el(t,l,s);break;default:throw Error(E(161))}}catch(c){ue(t,t.return,c)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function Gg(t,e,n){O=t,bf(t)}function bf(t,e,n){for(var r=(t.mode&1)!==0;O!==null;){var i=O,a=i.child;if(i.tag===22&&r){var s=i.memoizedState!==null||Ki;if(!s){var l=i.alternate,c=l!==null&&l.memoizedState!==null||Pe;l=Ki;var u=Pe;if(Ki=s,(Pe=c)&&!u)for(O=i;O!==null;)s=O,c=s.child,s.tag===22&&s.memoizedState!==null?Au(i):c!==null?(c.return=s,O=c):Au(i);for(;a!==null;)O=a,bf(a),a=a.sibling;O=i,Ki=l,Pe=u}Ou(t)}else i.subtreeFlags&8772&&a!==null?(a.return=i,O=a):Ou(t)}}function Ou(t){for(;O!==null;){var e=O;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Pe||os(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Pe)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:ct(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var a=e.updateQueue;a!==null&&mu(e,a,r);break;case 3:var s=e.updateQueue;if(s!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}mu(e,s,n)}break;case 5:var l=e.stateNode;if(n===null&&e.flags&4){n=l;var c=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var p=d.dehydrated;p!==null&&ii(p)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(E(163))}Pe||e.flags&512&&Zo(e)}catch(f){ue(e,e.return,f)}}if(e===t){O=null;break}if(n=e.sibling,n!==null){n.return=e.return,O=n;break}O=e.return}}function Du(t){for(;O!==null;){var e=O;if(e===t){O=null;break}var n=e.sibling;if(n!==null){n.return=e.return,O=n;break}O=e.return}}function Au(t){for(;O!==null;){var e=O;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{os(4,e)}catch(c){ue(e,n,c)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(c){ue(e,i,c)}}var a=e.return;try{Zo(e)}catch(c){ue(e,a,c)}break;case 5:var s=e.return;try{Zo(e)}catch(c){ue(e,s,c)}}}catch(c){ue(e,e.return,c)}if(e===t){O=null;break}var l=e.sibling;if(l!==null){l.return=e.return,O=l;break}O=e.return}}var Yg=Math.ceil,Ma=It.ReactCurrentDispatcher,ic=It.ReactCurrentOwner,rt=It.ReactCurrentBatchConfig,K=0,_e=null,fe=null,ke=0,Ve=0,er=an(0),ge=0,mi=null,Sn=0,ls=0,ac=0,Vr=null,Le=null,sc=0,hr=1/0,kt=null,Ua=!1,nl=null,Xt=null,Gi=!1,Vt=null,$a=0,Kr=0,rl=null,fa=-1,ha=0;function Re(){return K&6?de():fa!==-1?fa:fa=de()}function Zt(t){return t.mode&1?K&2&&ke!==0?ke&-ke:Dg.transition!==null?(ha===0&&(ha=ap()),ha):(t=Y,t!==0||(t=window.event,t=t===void 0?16:pp(t.type)),t):1}function ht(t,e,n,r){if(50<Kr)throw Kr=0,rl=null,Error(E(185));_i(t,n,r),(!(K&2)||t!==_e)&&(t===_e&&(!(K&2)&&(ls|=n),ge===4&&Wt(t,ke)),qe(t,r),n===1&&K===0&&!(e.mode&1)&&(hr=de()+500,is&&sn()))}function qe(t,e){var n=t.callbackNode;Dm(t,e);var r=_a(t,t===_e?ke:0);if(r===0)n!==null&&Bc(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&Bc(n),e===1)t.tag===0?Og(Ru.bind(null,t)):Op(Ru.bind(null,t)),Ng(function(){!(K&6)&&sn()}),n=null;else{switch(sp(r)){case 1:n=Dl;break;case 4:n=rp;break;case 16:n=wa;break;case 536870912:n=ip;break;default:n=wa}n=Tf(n,kf.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function kf(t,e){if(fa=-1,ha=0,K&6)throw Error(E(327));var n=t.callbackNode;if(sr()&&t.callbackNode!==n)return null;var r=_a(t,t===_e?ke:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=La(t,r);else{e=r;var i=K;K|=2;var a=Sf();(_e!==t||ke!==e)&&(kt=null,hr=de()+500,wn(t,e));do try{Xg();break}catch(l){jf(t,l)}while(!0);Hl(),Ma.current=a,K=i,fe!==null?e=0:(_e=null,ke=0,e=ge)}if(e!==0){if(e===2&&(i=To(t),i!==0&&(r=i,e=il(t,i))),e===1)throw n=mi,wn(t,0),Wt(t,r),qe(t,de()),n;if(e===6)Wt(t,r);else{if(i=t.current.alternate,!(r&30)&&!Qg(i)&&(e=La(t,r),e===2&&(a=To(t),a!==0&&(r=a,e=il(t,a))),e===1))throw n=mi,wn(t,0),Wt(t,r),qe(t,de()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(E(345));case 2:pn(t,Le,kt);break;case 3:if(Wt(t,r),(r&130023424)===r&&(e=sc+500-de(),10<e)){if(_a(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){Re(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=$o(pn.bind(null,t,Le,kt),e);break}pn(t,Le,kt);break;case 4:if(Wt(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var s=31-ft(r);a=1<<s,s=e[s],s>i&&(i=s),r&=~a}if(r=i,r=de()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Yg(r/1960))-r,10<r){t.timeoutHandle=$o(pn.bind(null,t,Le,kt),r);break}pn(t,Le,kt);break;case 5:pn(t,Le,kt);break;default:throw Error(E(329))}}}return qe(t,de()),t.callbackNode===n?kf.bind(null,t):null}function il(t,e){var n=Vr;return t.current.memoizedState.isDehydrated&&(wn(t,e).flags|=256),t=La(t,e),t!==2&&(e=Le,Le=n,e!==null&&al(e)),t}function al(t){Le===null?Le=t:Le.push.apply(Le,t)}function Qg(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!mt(a(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Wt(t,e){for(e&=~ac,e&=~ls,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-ft(e),r=1<<n;t[n]=-1,e&=~r}}function Ru(t){if(K&6)throw Error(E(327));sr();var e=_a(t,0);if(!(e&1))return qe(t,de()),null;var n=La(t,e);if(t.tag!==0&&n===2){var r=To(t);r!==0&&(e=r,n=il(t,r))}if(n===1)throw n=mi,wn(t,0),Wt(t,e),qe(t,de()),n;if(n===6)throw Error(E(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,pn(t,Le,kt),qe(t,de()),null}function oc(t,e){var n=K;K|=1;try{return t(e)}finally{K=n,K===0&&(hr=de()+500,is&&sn())}}function En(t){Vt!==null&&Vt.tag===0&&!(K&6)&&sr();var e=K;K|=1;var n=rt.transition,r=Y;try{if(rt.transition=null,Y=1,t)return t()}finally{Y=r,rt.transition=n,K=e,!(K&6)&&sn()}}function lc(){Ve=er.current,ne(er)}function wn(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,Eg(n)),fe!==null)for(n=fe.return;n!==null;){var r=n;switch(Bl(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Ea();break;case 3:pr(),ne(Be),ne(Oe),Jl();break;case 5:Ql(r);break;case 4:pr();break;case 13:ne(oe);break;case 19:ne(oe);break;case 10:Vl(r.type._context);break;case 22:case 23:lc()}n=n.return}if(_e=t,fe=t=en(t.current,null),ke=Ve=e,ge=0,mi=null,ac=ls=Sn=0,Le=Vr=null,yn!==null){for(e=0;e<yn.length;e++)if(n=yn[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,a=n.pending;if(a!==null){var s=a.next;a.next=i,r.next=s}n.pending=r}yn=null}return t}function jf(t,e){do{var n=fe;try{if(Hl(),ua.current=Ia,Ra){for(var r=le.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Ra=!1}if(jn=0,we=me=le=null,qr=!1,pi=0,ic.current=null,n===null||n.return===null){ge=1,mi=e,fe=null;break}e:{var a=t,s=n.return,l=n,c=e;if(e=ke,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=l,p=d.tag;if(!(d.mode&1)&&(p===0||p===11||p===15)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var v=_u(s);if(v!==null){v.flags&=-257,bu(v,s,l,a,e),v.mode&1&&wu(a,u,e),e=v,c=u;var x=e.updateQueue;if(x===null){var y=new Set;y.add(c),e.updateQueue=y}else x.add(c);break e}else{if(!(e&1)){wu(a,u,e),cc();break e}c=Error(E(426))}}else if(ie&&l.mode&1){var _=_u(s);if(_!==null){!(_.flags&65536)&&(_.flags|=256),bu(_,s,l,a,e),Wl(fr(c,l));break e}}a=c=fr(c,l),ge!==4&&(ge=2),Vr===null?Vr=[a]:Vr.push(a),a=s;do{switch(a.tag){case 3:a.flags|=65536,e&=-e,a.lanes|=e;var g=of(a,c,e);hu(a,g);break e;case 1:l=c;var h=a.type,m=a.stateNode;if(!(a.flags&128)&&(typeof h.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(Xt===null||!Xt.has(m)))){a.flags|=65536,e&=-e,a.lanes|=e;var w=lf(a,l,e);hu(a,w);break e}}a=a.return}while(a!==null)}Nf(n)}catch(S){e=S,fe===n&&n!==null&&(fe=n=n.return);continue}break}while(!0)}function Sf(){var t=Ma.current;return Ma.current=Ia,t===null?Ia:t}function cc(){(ge===0||ge===3||ge===2)&&(ge=4),_e===null||!(Sn&268435455)&&!(ls&268435455)||Wt(_e,ke)}function La(t,e){var n=K;K|=2;var r=Sf();(_e!==t||ke!==e)&&(kt=null,wn(t,e));do try{Jg();break}catch(i){jf(t,i)}while(!0);if(Hl(),K=n,Ma.current=r,fe!==null)throw Error(E(261));return _e=null,ke=0,ge}function Jg(){for(;fe!==null;)Ef(fe)}function Xg(){for(;fe!==null&&!km();)Ef(fe)}function Ef(t){var e=Pf(t.alternate,t,Ve);t.memoizedProps=t.pendingProps,e===null?Nf(t):fe=e,ic.current=null}function Nf(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=Hg(n,e),n!==null){n.flags&=32767,fe=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{ge=6,fe=null;return}}else if(n=qg(n,e,Ve),n!==null){fe=n;return}if(e=e.sibling,e!==null){fe=e;return}fe=e=t}while(e!==null);ge===0&&(ge=5)}function pn(t,e,n){var r=Y,i=rt.transition;try{rt.transition=null,Y=1,Zg(t,e,n,r)}finally{rt.transition=i,Y=r}return null}function Zg(t,e,n,r){do sr();while(Vt!==null);if(K&6)throw Error(E(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(E(177));t.callbackNode=null,t.callbackPriority=0;var a=n.lanes|n.childLanes;if(Am(t,a),t===_e&&(fe=_e=null,ke=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Gi||(Gi=!0,Tf(wa,function(){return sr(),null})),a=(n.flags&15990)!==0,n.subtreeFlags&15990||a){a=rt.transition,rt.transition=null;var s=Y;Y=1;var l=K;K|=4,ic.current=null,Kg(t,n),_f(n,t),xg(Mo),ba=!!Io,Mo=Io=null,t.current=n,Gg(n),jm(),K=l,Y=s,rt.transition=a}else t.current=n;if(Gi&&(Gi=!1,Vt=t,$a=i),a=t.pendingLanes,a===0&&(Xt=null),Nm(n.stateNode),qe(t,de()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Ua)throw Ua=!1,t=nl,nl=null,t;return $a&1&&t.tag!==0&&sr(),a=t.pendingLanes,a&1?t===rl?Kr++:(Kr=0,rl=t):Kr=0,sn(),null}function sr(){if(Vt!==null){var t=sp($a),e=rt.transition,n=Y;try{if(rt.transition=null,Y=16>t?16:t,Vt===null)var r=!1;else{if(t=Vt,Vt=null,$a=0,K&6)throw Error(E(331));var i=K;for(K|=4,O=t.current;O!==null;){var a=O,s=a.child;if(O.flags&16){var l=a.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(O=u;O!==null;){var d=O;switch(d.tag){case 0:case 11:case 15:Hr(8,d,a)}var p=d.child;if(p!==null)p.return=d,O=p;else for(;O!==null;){d=O;var f=d.sibling,v=d.return;if(yf(d),d===u){O=null;break}if(f!==null){f.return=v,O=f;break}O=v}}}var x=a.alternate;if(x!==null){var y=x.child;if(y!==null){x.child=null;do{var _=y.sibling;y.sibling=null,y=_}while(y!==null)}}O=a}}if(a.subtreeFlags&2064&&s!==null)s.return=a,O=s;else e:for(;O!==null;){if(a=O,a.flags&2048)switch(a.tag){case 0:case 11:case 15:Hr(9,a,a.return)}var g=a.sibling;if(g!==null){g.return=a.return,O=g;break e}O=a.return}}var h=t.current;for(O=h;O!==null;){s=O;var m=s.child;if(s.subtreeFlags&2064&&m!==null)m.return=s,O=m;else e:for(s=h;O!==null;){if(l=O,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:os(9,l)}}catch(S){ue(l,l.return,S)}if(l===s){O=null;break e}var w=l.sibling;if(w!==null){w.return=l.return,O=w;break e}O=l.return}}if(K=i,sn(),wt&&typeof wt.onPostCommitFiberRoot=="function")try{wt.onPostCommitFiberRoot(Za,t)}catch{}r=!0}return r}finally{Y=n,rt.transition=e}}return!1}function Iu(t,e,n){e=fr(n,e),e=of(t,e,1),t=Jt(t,e,1),e=Re(),t!==null&&(_i(t,1,e),qe(t,e))}function ue(t,e,n){if(t.tag===3)Iu(t,t,n);else for(;e!==null;){if(e.tag===3){Iu(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Xt===null||!Xt.has(r))){t=fr(n,t),t=lf(e,t,1),e=Jt(e,t,1),t=Re(),e!==null&&(_i(e,1,t),qe(e,t));break}}e=e.return}}function ev(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Re(),t.pingedLanes|=t.suspendedLanes&n,_e===t&&(ke&n)===n&&(ge===4||ge===3&&(ke&130023424)===ke&&500>de()-sc?wn(t,0):ac|=n),qe(t,e)}function Cf(t,e){e===0&&(t.mode&1?(e=$i,$i<<=1,!($i&130023424)&&($i=4194304)):e=1);var n=Re();t=Ot(t,e),t!==null&&(_i(t,e,n),qe(t,n))}function tv(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),Cf(t,n)}function nv(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(E(314))}r!==null&&r.delete(e),Cf(t,n)}var Pf;Pf=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Be.current)Fe=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Fe=!1,Wg(t,e,n);Fe=!!(t.flags&131072)}else Fe=!1,ie&&e.flags&1048576&&Dp(e,Pa,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;pa(t,e),t=e.pendingProps;var i=cr(e,Oe.current);ar(e,n),i=Zl(null,e,r,t,i,n);var a=ec();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,We(r)?(a=!0,Na(e)):a=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Gl(e),i.updater=ss,e.stateNode=i,i._reactInternals=e,Ho(e,r,t,n),e=Go(null,e,r,!0,a,n)):(e.tag=0,ie&&a&&Fl(e),Ae(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(pa(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=iv(r),t=ct(r,t),i){case 0:e=Ko(null,e,r,t,n);break e;case 1:e=Su(null,e,r,t,n);break e;case 11:e=ku(null,e,r,t,n);break e;case 14:e=ju(null,e,r,ct(r.type,t),n);break e}throw Error(E(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:ct(r,i),Ko(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:ct(r,i),Su(t,e,r,i,n);case 3:e:{if(pf(e),t===null)throw Error(E(387));r=e.pendingProps,a=e.memoizedState,i=a.element,$p(t,e),Da(e,r,null,n);var s=e.memoizedState;if(r=s.element,a.isDehydrated)if(a={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},e.updateQueue.baseState=a,e.memoizedState=a,e.flags&256){i=fr(Error(E(423)),e),e=Eu(t,e,r,n,i);break e}else if(r!==i){i=fr(Error(E(424)),e),e=Eu(t,e,r,n,i);break e}else for(Ke=Qt(e.stateNode.containerInfo.firstChild),Ge=e,ie=!0,pt=null,n=Mp(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(ur(),r===i){e=Dt(t,e,n);break e}Ae(t,e,r,n)}e=e.child}return e;case 5:return Lp(e),t===null&&Bo(e),r=e.type,i=e.pendingProps,a=t!==null?t.memoizedProps:null,s=i.children,Uo(r,i)?s=null:a!==null&&Uo(r,a)&&(e.flags|=32),df(t,e),Ae(t,e,s,n),e.child;case 6:return t===null&&Bo(e),null;case 13:return ff(t,e,n);case 4:return Yl(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=dr(e,null,r,n):Ae(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:ct(r,i),ku(t,e,r,i,n);case 7:return Ae(t,e,e.pendingProps,n),e.child;case 8:return Ae(t,e,e.pendingProps.children,n),e.child;case 12:return Ae(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,a=e.memoizedProps,s=i.value,ee(Ta,r._currentValue),r._currentValue=s,a!==null)if(mt(a.value,s)){if(a.children===i.children&&!Be.current){e=Dt(t,e,n);break e}}else for(a=e.child,a!==null&&(a.return=e);a!==null;){var l=a.dependencies;if(l!==null){s=a.child;for(var c=l.firstContext;c!==null;){if(c.context===r){if(a.tag===1){c=Ct(-1,n&-n),c.tag=2;var u=a.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}a.lanes|=n,c=a.alternate,c!==null&&(c.lanes|=n),Wo(a.return,n,e),l.lanes|=n;break}c=c.next}}else if(a.tag===10)s=a.type===e.type?null:a.child;else if(a.tag===18){if(s=a.return,s===null)throw Error(E(341));s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),Wo(s,n,e),s=a.sibling}else s=a.child;if(s!==null)s.return=a;else for(s=a;s!==null;){if(s===e){s=null;break}if(a=s.sibling,a!==null){a.return=s.return,s=a;break}s=s.return}a=s}Ae(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,ar(e,n),i=at(i),r=r(i),e.flags|=1,Ae(t,e,r,n),e.child;case 14:return r=e.type,i=ct(r,e.pendingProps),i=ct(r.type,i),ju(t,e,r,i,n);case 15:return cf(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:ct(r,i),pa(t,e),e.tag=1,We(r)?(t=!0,Na(e)):t=!1,ar(e,n),sf(e,r,i),Ho(e,r,i,n),Go(null,e,r,!0,t,n);case 19:return hf(t,e,n);case 22:return uf(t,e,n)}throw Error(E(156,e.tag))};function Tf(t,e){return np(t,e)}function rv(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function nt(t,e,n,r){return new rv(t,e,n,r)}function uc(t){return t=t.prototype,!(!t||!t.isReactComponent)}function iv(t){if(typeof t=="function")return uc(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Pl)return 11;if(t===Tl)return 14}return 2}function en(t,e){var n=t.alternate;return n===null?(n=nt(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function ma(t,e,n,r,i,a){var s=2;if(r=t,typeof t=="function")uc(t)&&(s=1);else if(typeof t=="string")s=5;else e:switch(t){case qn:return _n(n.children,i,a,e);case Cl:s=8,i|=8;break;case mo:return t=nt(12,n,e,i|2),t.elementType=mo,t.lanes=a,t;case go:return t=nt(13,n,e,i),t.elementType=go,t.lanes=a,t;case vo:return t=nt(19,n,e,i),t.elementType=vo,t.lanes=a,t;case Ld:return cs(n,i,a,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Ud:s=10;break e;case $d:s=9;break e;case Pl:s=11;break e;case Tl:s=14;break e;case Lt:s=16,r=null;break e}throw Error(E(130,t==null?t:typeof t,""))}return e=nt(s,n,e,i),e.elementType=t,e.type=r,e.lanes=a,e}function _n(t,e,n,r){return t=nt(7,t,r,e),t.lanes=n,t}function cs(t,e,n,r){return t=nt(22,t,r,e),t.elementType=Ld,t.lanes=n,t.stateNode={isHidden:!1},t}function eo(t,e,n){return t=nt(6,t,null,e),t.lanes=n,t}function to(t,e,n){return e=nt(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function av(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Is(0),this.expirationTimes=Is(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Is(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function dc(t,e,n,r,i,a,s,l,c){return t=new av(t,e,n,l,c),e===1?(e=1,a===!0&&(e|=8)):e=0,a=nt(3,null,null,e),t.current=a,a.stateNode=t,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Gl(a),t}function sv(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Wn,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function Of(t){if(!t)return nn;t=t._reactInternals;e:{if(Pn(t)!==t||t.tag!==1)throw Error(E(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(We(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(E(171))}if(t.tag===1){var n=t.type;if(We(n))return Tp(t,n,e)}return e}function Df(t,e,n,r,i,a,s,l,c){return t=dc(n,r,!0,t,i,a,s,l,c),t.context=Of(null),n=t.current,r=Re(),i=Zt(n),a=Ct(r,i),a.callback=e??null,Jt(n,a,i),t.current.lanes=i,_i(t,i,r),qe(t,r),t}function us(t,e,n,r){var i=e.current,a=Re(),s=Zt(i);return n=Of(n),e.context===null?e.context=n:e.pendingContext=n,e=Ct(a,s),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Jt(i,e,s),t!==null&&(ht(t,i,s,a),ca(t,i,s)),s}function za(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Mu(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function pc(t,e){Mu(t,e),(t=t.alternate)&&Mu(t,e)}function ov(){return null}var Af=typeof reportError=="function"?reportError:function(t){console.error(t)};function fc(t){this._internalRoot=t}ds.prototype.render=fc.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(E(409));us(t,e,null,null)};ds.prototype.unmount=fc.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;En(function(){us(null,t,null,null)}),e[Tt]=null}};function ds(t){this._internalRoot=t}ds.prototype.unstable_scheduleHydration=function(t){if(t){var e=cp();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Bt.length&&e!==0&&e<Bt[n].priority;n++);Bt.splice(n,0,t),n===0&&dp(t)}};function hc(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function ps(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Uu(){}function lv(t,e,n,r,i){if(i){if(typeof r=="function"){var a=r;r=function(){var u=za(s);a.call(u)}}var s=Df(e,r,t,0,null,!1,!1,"",Uu);return t._reactRootContainer=s,t[Tt]=s.current,oi(t.nodeType===8?t.parentNode:t),En(),s}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var l=r;r=function(){var u=za(c);l.call(u)}}var c=dc(t,0,!1,null,null,!1,!1,"",Uu);return t._reactRootContainer=c,t[Tt]=c.current,oi(t.nodeType===8?t.parentNode:t),En(function(){us(e,c,n,r)}),c}function fs(t,e,n,r,i){var a=n._reactRootContainer;if(a){var s=a;if(typeof i=="function"){var l=i;i=function(){var c=za(s);l.call(c)}}us(e,s,t,i)}else s=lv(n,e,t,i,r);return za(s)}op=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Mr(e.pendingLanes);n!==0&&(Al(e,n|1),qe(e,de()),!(K&6)&&(hr=de()+500,sn()))}break;case 13:En(function(){var r=Ot(t,1);if(r!==null){var i=Re();ht(r,t,1,i)}}),pc(t,1)}};Rl=function(t){if(t.tag===13){var e=Ot(t,134217728);if(e!==null){var n=Re();ht(e,t,134217728,n)}pc(t,134217728)}};lp=function(t){if(t.tag===13){var e=Zt(t),n=Ot(t,e);if(n!==null){var r=Re();ht(n,t,e,r)}pc(t,e)}};cp=function(){return Y};up=function(t,e){var n=Y;try{return Y=t,e()}finally{Y=n}};No=function(t,e,n){switch(e){case"input":if(wo(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=rs(r);if(!i)throw Error(E(90));Fd(r),wo(r,i)}}}break;case"textarea":Wd(t,n);break;case"select":e=n.value,e!=null&&tr(t,!!n.multiple,e,!1)}};Qd=oc;Jd=En;var cv={usingClientEntryPoint:!1,Events:[ki,Gn,rs,Gd,Yd,oc]},Tr={findFiberByHostInstance:vn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},uv={bundleType:Tr.bundleType,version:Tr.version,rendererPackageName:Tr.rendererPackageName,rendererConfig:Tr.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:It.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=ep(t),t===null?null:t.stateNode},findFiberByHostInstance:Tr.findFiberByHostInstance||ov,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Yi=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Yi.isDisabled&&Yi.supportsFiber)try{Za=Yi.inject(uv),wt=Yi}catch{}}Qe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=cv;Qe.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!hc(e))throw Error(E(200));return sv(t,e,null,n)};Qe.createRoot=function(t,e){if(!hc(t))throw Error(E(299));var n=!1,r="",i=Af;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=dc(t,1,!1,null,null,n,!1,r,i),t[Tt]=e.current,oi(t.nodeType===8?t.parentNode:t),new fc(e)};Qe.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(E(188)):(t=Object.keys(t).join(","),Error(E(268,t)));return t=ep(e),t=t===null?null:t.stateNode,t};Qe.flushSync=function(t){return En(t)};Qe.hydrate=function(t,e,n){if(!ps(e))throw Error(E(200));return fs(null,t,e,!0,n)};Qe.hydrateRoot=function(t,e,n){if(!hc(t))throw Error(E(405));var r=n!=null&&n.hydratedSources||null,i=!1,a="",s=Af;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(a=n.identifierPrefix),n.onRecoverableError!==void 0&&(s=n.onRecoverableError)),e=Df(e,null,t,1,n??null,i,!1,a,s),t[Tt]=e.current,oi(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new ds(e)};Qe.render=function(t,e,n){if(!ps(e))throw Error(E(200));return fs(null,t,e,!1,n)};Qe.unmountComponentAtNode=function(t){if(!ps(t))throw Error(E(40));return t._reactRootContainer?(En(function(){fs(null,null,t,!1,function(){t._reactRootContainer=null,t[Tt]=null})}),!0):!1};Qe.unstable_batchedUpdates=oc;Qe.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!ps(n))throw Error(E(200));if(t==null||t._reactInternals===void 0)throw Error(E(38));return fs(t,e,n,!1,r)};Qe.version="18.3.1-next-f1338f8080-20240426";function Rf(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Rf)}catch(t){console.error(t)}}Rf(),Ad.exports=Qe;var dv=Ad.exports,If,$u=dv;If=$u.createRoot,$u.hydrateRoot;const pv="modulepreload",fv=function(t){return"/"+t},Lu={},At=function(e,n,r){let i=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const s=document.querySelector("meta[property=csp-nonce]"),l=(s==null?void 0:s.nonce)||(s==null?void 0:s.getAttribute("nonce"));i=Promise.allSettled(n.map(c=>{if(c=fv(c),c in Lu)return;Lu[c]=!0;const u=c.endsWith(".css"),d=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${d}`))return;const p=document.createElement("link");if(p.rel=u?"stylesheet":pv,u||(p.as="script"),p.crossOrigin="",p.href=c,l&&p.setAttribute("nonce",l),document.head.appendChild(p),u)return new Promise((f,v)=>{p.addEventListener("load",f),p.addEventListener("error",()=>v(new Error(`Unable to preload CSS for ${c}`)))})}))}function a(s){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=s,window.dispatchEvent(l),!l.defaultPrevented)throw s}return i.then(s=>{for(const l of s||[])l.status==="rejected"&&a(l.reason);return e().catch(a)})},hv=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>At(async()=>{const{default:r}=await Promise.resolve().then(()=>wr);return{default:r}},void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)};class mc extends Error{constructor(e,n="FunctionsError",r){super(e),this.name=n,this.context=r}}class mv extends mc{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class gv extends mc{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class vv extends mc{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var sl;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(sl||(sl={}));var yv=function(t,e,n,r){function i(a){return a instanceof n?a:new n(function(s){s(a)})}return new(n||(n=Promise))(function(a,s){function l(d){try{u(r.next(d))}catch(p){s(p)}}function c(d){try{u(r.throw(d))}catch(p){s(p)}}function u(d){d.done?a(d.value):i(d.value).then(l,c)}u((r=r.apply(t,e||[])).next())})};class xv{constructor(e,{headers:n={},customFetch:r,region:i=sl.Any}={}){this.url=e,this.headers=n,this.region=i,this.fetch=hv(r)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,n={}){var r;return yv(this,void 0,void 0,function*(){try{const{headers:i,method:a,body:s}=n;let l={},{region:c}=n;c||(c=this.region),c&&c!=="any"&&(l["x-region"]=c);let u;s&&(i&&!Object.prototype.hasOwnProperty.call(i,"Content-Type")||!i)&&(typeof Blob<"u"&&s instanceof Blob||s instanceof ArrayBuffer?(l["Content-Type"]="application/octet-stream",u=s):typeof s=="string"?(l["Content-Type"]="text/plain",u=s):typeof FormData<"u"&&s instanceof FormData?u=s:(l["Content-Type"]="application/json",u=JSON.stringify(s)));const d=yield this.fetch(`${this.url}/${e}`,{method:a||"POST",headers:Object.assign(Object.assign(Object.assign({},l),this.headers),i),body:u}).catch(x=>{throw new mv(x)}),p=d.headers.get("x-relay-error");if(p&&p==="true")throw new gv(d);if(!d.ok)throw new vv(d);let f=((r=d.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),v;return f==="application/json"?v=yield d.json():f==="application/octet-stream"?v=yield d.blob():f==="text/event-stream"?v=d:f==="multipart/form-data"?v=yield d.formData():v=yield d.text(),{data:v,error:null}}catch(i){return{data:null,error:i}}})}}var ze={},gc={},hs={},Si={},ms={},gs={},wv=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},mr=wv();const _v=mr.fetch,Mf=mr.fetch.bind(mr),Uf=mr.Headers,bv=mr.Request,kv=mr.Response,wr=Object.freeze(Object.defineProperty({__proto__:null,Headers:Uf,Request:bv,Response:kv,default:Mf,fetch:_v},Symbol.toStringTag,{value:"Module"})),jv=$h(wr);var vs={};Object.defineProperty(vs,"__esModule",{value:!0});let Sv=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}};vs.default=Sv;var $f=it&&it.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(gs,"__esModule",{value:!0});const Ev=$f(jv),Nv=$f(vs);let Cv=class{constructor(e){this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=e.headers,this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=e.shouldThrowOnError,this.signal=e.signal,this.isMaybeSingle=e.isMaybeSingle,e.fetch?this.fetch=e.fetch:typeof fetch>"u"?this.fetch=Ev.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,n){return this.headers=Object.assign({},this.headers),this.headers[e]=n,this}then(e,n){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const r=this.fetch;let i=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async a=>{var s,l,c;let u=null,d=null,p=null,f=a.status,v=a.statusText;if(a.ok){if(this.method!=="HEAD"){const g=await a.text();g===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?d=g:d=JSON.parse(g))}const y=(s=this.headers.Prefer)===null||s===void 0?void 0:s.match(/count=(exact|planned|estimated)/),_=(l=a.headers.get("content-range"))===null||l===void 0?void 0:l.split("/");y&&_&&_.length>1&&(p=parseInt(_[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(d)&&(d.length>1?(u={code:"PGRST116",details:`Results contain ${d.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},d=null,p=null,f=406,v="Not Acceptable"):d.length===1?d=d[0]:d=null)}else{const y=await a.text();try{u=JSON.parse(y),Array.isArray(u)&&a.status===404&&(d=[],u=null,f=200,v="OK")}catch{a.status===404&&y===""?(f=204,v="No Content"):u={message:y}}if(u&&this.isMaybeSingle&&(!((c=u==null?void 0:u.details)===null||c===void 0)&&c.includes("0 rows"))&&(u=null,f=200,v="OK"),u&&this.shouldThrowOnError)throw new Nv.default(u)}return{error:u,data:d,count:p,status:f,statusText:v}});return this.shouldThrowOnError||(i=i.catch(a=>{var s,l,c;return{error:{message:`${(s=a==null?void 0:a.name)!==null&&s!==void 0?s:"FetchError"}: ${a==null?void 0:a.message}`,details:`${(l=a==null?void 0:a.stack)!==null&&l!==void 0?l:""}`,hint:"",code:`${(c=a==null?void 0:a.code)!==null&&c!==void 0?c:""}`},data:null,count:null,status:0,statusText:""}})),i.then(e,n)}returns(){return this}overrideTypes(){return this}};gs.default=Cv;var Pv=it&&it.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(ms,"__esModule",{value:!0});const Tv=Pv(gs);let Ov=class extends Tv.default{select(e){let n=!1;const r=(e??"*").split("").map(i=>/\s/.test(i)&&!n?"":(i==='"'&&(n=!n),i)).join("");return this.url.searchParams.set("select",r),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(e,{ascending:n=!0,nullsFirst:r,foreignTable:i,referencedTable:a=i}={}){const s=a?`${a}.order`:"order",l=this.url.searchParams.get(s);return this.url.searchParams.set(s,`${l?`${l},`:""}${e}.${n?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:n,referencedTable:r=n}={}){const i=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(i,`${e}`),this}range(e,n,{foreignTable:r,referencedTable:i=r}={}){const a=typeof i>"u"?"offset":`${i}.offset`,s=typeof i>"u"?"limit":`${i}.limit`;return this.url.searchParams.set(a,`${e}`),this.url.searchParams.set(s,`${n-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:e=!1,verbose:n=!1,settings:r=!1,buffers:i=!1,wal:a=!1,format:s="text"}={}){var l;const c=[e?"analyze":null,n?"verbose":null,r?"settings":null,i?"buffers":null,a?"wal":null].filter(Boolean).join("|"),u=(l=this.headers.Accept)!==null&&l!==void 0?l:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${s}; for="${u}"; options=${c};`,s==="json"?this:this}rollback(){var e;return((e=this.headers.Prefer)!==null&&e!==void 0?e:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};ms.default=Ov;var Dv=it&&it.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Si,"__esModule",{value:!0});const Av=Dv(ms);let Rv=class extends Av.default{eq(e,n){return this.url.searchParams.append(e,`eq.${n}`),this}neq(e,n){return this.url.searchParams.append(e,`neq.${n}`),this}gt(e,n){return this.url.searchParams.append(e,`gt.${n}`),this}gte(e,n){return this.url.searchParams.append(e,`gte.${n}`),this}lt(e,n){return this.url.searchParams.append(e,`lt.${n}`),this}lte(e,n){return this.url.searchParams.append(e,`lte.${n}`),this}like(e,n){return this.url.searchParams.append(e,`like.${n}`),this}likeAllOf(e,n){return this.url.searchParams.append(e,`like(all).{${n.join(",")}}`),this}likeAnyOf(e,n){return this.url.searchParams.append(e,`like(any).{${n.join(",")}}`),this}ilike(e,n){return this.url.searchParams.append(e,`ilike.${n}`),this}ilikeAllOf(e,n){return this.url.searchParams.append(e,`ilike(all).{${n.join(",")}}`),this}ilikeAnyOf(e,n){return this.url.searchParams.append(e,`ilike(any).{${n.join(",")}}`),this}is(e,n){return this.url.searchParams.append(e,`is.${n}`),this}in(e,n){const r=Array.from(new Set(n)).map(i=>typeof i=="string"&&new RegExp("[,()]").test(i)?`"${i}"`:`${i}`).join(",");return this.url.searchParams.append(e,`in.(${r})`),this}contains(e,n){return typeof n=="string"?this.url.searchParams.append(e,`cs.${n}`):Array.isArray(n)?this.url.searchParams.append(e,`cs.{${n.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(n)}`),this}containedBy(e,n){return typeof n=="string"?this.url.searchParams.append(e,`cd.${n}`):Array.isArray(n)?this.url.searchParams.append(e,`cd.{${n.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(n)}`),this}rangeGt(e,n){return this.url.searchParams.append(e,`sr.${n}`),this}rangeGte(e,n){return this.url.searchParams.append(e,`nxl.${n}`),this}rangeLt(e,n){return this.url.searchParams.append(e,`sl.${n}`),this}rangeLte(e,n){return this.url.searchParams.append(e,`nxr.${n}`),this}rangeAdjacent(e,n){return this.url.searchParams.append(e,`adj.${n}`),this}overlaps(e,n){return typeof n=="string"?this.url.searchParams.append(e,`ov.${n}`):this.url.searchParams.append(e,`ov.{${n.join(",")}}`),this}textSearch(e,n,{config:r,type:i}={}){let a="";i==="plain"?a="pl":i==="phrase"?a="ph":i==="websearch"&&(a="w");const s=r===void 0?"":`(${r})`;return this.url.searchParams.append(e,`${a}fts${s}.${n}`),this}match(e){return Object.entries(e).forEach(([n,r])=>{this.url.searchParams.append(n,`eq.${r}`)}),this}not(e,n,r){return this.url.searchParams.append(e,`not.${n}.${r}`),this}or(e,{foreignTable:n,referencedTable:r=n}={}){const i=r?`${r}.or`:"or";return this.url.searchParams.append(i,`(${e})`),this}filter(e,n,r){return this.url.searchParams.append(e,`${n}.${r}`),this}};Si.default=Rv;var Iv=it&&it.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(hs,"__esModule",{value:!0});const Or=Iv(Si);let Mv=class{constructor(e,{headers:n={},schema:r,fetch:i}){this.url=e,this.headers=n,this.schema=r,this.fetch=i}select(e,{head:n=!1,count:r}={}){const i=n?"HEAD":"GET";let a=!1;const s=(e??"*").split("").map(l=>/\s/.test(l)&&!a?"":(l==='"'&&(a=!a),l)).join("");return this.url.searchParams.set("select",s),r&&(this.headers.Prefer=`count=${r}`),new Or.default({method:i,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(e,{count:n,defaultToNull:r=!0}={}){const i="POST",a=[];if(this.headers.Prefer&&a.push(this.headers.Prefer),n&&a.push(`count=${n}`),r||a.push("missing=default"),this.headers.Prefer=a.join(","),Array.isArray(e)){const s=e.reduce((l,c)=>l.concat(Object.keys(c)),[]);if(s.length>0){const l=[...new Set(s)].map(c=>`"${c}"`);this.url.searchParams.set("columns",l.join(","))}}return new Or.default({method:i,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}upsert(e,{onConflict:n,ignoreDuplicates:r=!1,count:i,defaultToNull:a=!0}={}){const s="POST",l=[`resolution=${r?"ignore":"merge"}-duplicates`];if(n!==void 0&&this.url.searchParams.set("on_conflict",n),this.headers.Prefer&&l.push(this.headers.Prefer),i&&l.push(`count=${i}`),a||l.push("missing=default"),this.headers.Prefer=l.join(","),Array.isArray(e)){const c=e.reduce((u,d)=>u.concat(Object.keys(d)),[]);if(c.length>0){const u=[...new Set(c)].map(d=>`"${d}"`);this.url.searchParams.set("columns",u.join(","))}}return new Or.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}update(e,{count:n}={}){const r="PATCH",i=[];return this.headers.Prefer&&i.push(this.headers.Prefer),n&&i.push(`count=${n}`),this.headers.Prefer=i.join(","),new Or.default({method:r,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}delete({count:e}={}){const n="DELETE",r=[];return e&&r.push(`count=${e}`),this.headers.Prefer&&r.unshift(this.headers.Prefer),this.headers.Prefer=r.join(","),new Or.default({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};hs.default=Mv;var ys={},xs={};Object.defineProperty(xs,"__esModule",{value:!0});xs.version=void 0;xs.version="0.0.0-automated";Object.defineProperty(ys,"__esModule",{value:!0});ys.DEFAULT_HEADERS=void 0;const Uv=xs;ys.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${Uv.version}`};var Lf=it&&it.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(gc,"__esModule",{value:!0});const $v=Lf(hs),Lv=Lf(Si),zv=ys;let Fv=class zf{constructor(e,{headers:n={},schema:r,fetch:i}={}){this.url=e,this.headers=Object.assign(Object.assign({},zv.DEFAULT_HEADERS),n),this.schemaName=r,this.fetch=i}from(e){const n=new URL(`${this.url}/${e}`);return new $v.default(n,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new zf(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,n={},{head:r=!1,get:i=!1,count:a}={}){let s;const l=new URL(`${this.url}/rpc/${e}`);let c;r||i?(s=r?"HEAD":"GET",Object.entries(n).filter(([d,p])=>p!==void 0).map(([d,p])=>[d,Array.isArray(p)?`{${p.join(",")}}`:`${p}`]).forEach(([d,p])=>{l.searchParams.append(d,p)})):(s="POST",c=n);const u=Object.assign({},this.headers);return a&&(u.Prefer=`count=${a}`),new Lv.default({method:s,url:l,headers:u,schema:this.schemaName,body:c,fetch:this.fetch,allowEmpty:!1})}};gc.default=Fv;var _r=it&&it.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(ze,"__esModule",{value:!0});ze.PostgrestError=ze.PostgrestBuilder=ze.PostgrestTransformBuilder=ze.PostgrestFilterBuilder=ze.PostgrestQueryBuilder=ze.PostgrestClient=void 0;const Ff=_r(gc);ze.PostgrestClient=Ff.default;const Bf=_r(hs);ze.PostgrestQueryBuilder=Bf.default;const Wf=_r(Si);ze.PostgrestFilterBuilder=Wf.default;const qf=_r(ms);ze.PostgrestTransformBuilder=qf.default;const Hf=_r(gs);ze.PostgrestBuilder=Hf.default;const Vf=_r(vs);ze.PostgrestError=Vf.default;var Bv=ze.default={PostgrestClient:Ff.default,PostgrestQueryBuilder:Bf.default,PostgrestFilterBuilder:Wf.default,PostgrestTransformBuilder:qf.default,PostgrestBuilder:Hf.default,PostgrestError:Vf.default};const{PostgrestClient:Wv,PostgrestQueryBuilder:j1,PostgrestFilterBuilder:S1,PostgrestTransformBuilder:E1,PostgrestBuilder:N1,PostgrestError:C1}=Bv;function qv(){if(typeof WebSocket<"u")return WebSocket;if(typeof global.WebSocket<"u")return global.WebSocket;if(typeof window.WebSocket<"u")return window.WebSocket;if(typeof self.WebSocket<"u")return self.WebSocket;throw new Error("`WebSocket` is not supported in this environment")}const Hv=qv(),Vv="2.11.15",Kv=`realtime-js/${Vv}`,Gv="1.0.0",Kf=1e4,Yv=1e3;var Gr;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(Gr||(Gr={}));var Ne;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(Ne||(Ne={}));var dt;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(dt||(dt={}));var ol;(function(t){t.websocket="websocket"})(ol||(ol={}));var mn;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(mn||(mn={}));class Qv{constructor(){this.HEADER_LENGTH=1}decode(e,n){return e.constructor===ArrayBuffer?n(this._binaryDecode(e)):n(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const n=new DataView(e),r=new TextDecoder;return this._decodeBroadcast(e,n,r)}_decodeBroadcast(e,n,r){const i=n.getUint8(1),a=n.getUint8(2);let s=this.HEADER_LENGTH+2;const l=r.decode(e.slice(s,s+i));s=s+i;const c=r.decode(e.slice(s,s+a));s=s+a;const u=JSON.parse(r.decode(e.slice(s,e.byteLength)));return{ref:null,topic:l,event:c,payload:u}}}class Gf{constructor(e,n){this.callback=e,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Z;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(Z||(Z={}));const zu=(t,e,n={})=>{var r;const i=(r=n.skipTypes)!==null&&r!==void 0?r:[];return Object.keys(e).reduce((a,s)=>(a[s]=Jv(s,t,e,i),a),{})},Jv=(t,e,n,r)=>{const i=e.find(l=>l.name===t),a=i==null?void 0:i.type,s=n[t];return a&&!r.includes(a)?Yf(a,s):ll(s)},Yf=(t,e)=>{if(t.charAt(0)==="_"){const n=t.slice(1,t.length);return ty(e,n)}switch(t){case Z.bool:return Xv(e);case Z.float4:case Z.float8:case Z.int2:case Z.int4:case Z.int8:case Z.numeric:case Z.oid:return Zv(e);case Z.json:case Z.jsonb:return ey(e);case Z.timestamp:return ny(e);case Z.abstime:case Z.date:case Z.daterange:case Z.int4range:case Z.int8range:case Z.money:case Z.reltime:case Z.text:case Z.time:case Z.timestamptz:case Z.timetz:case Z.tsrange:case Z.tstzrange:return ll(e);default:return ll(e)}},ll=t=>t,Xv=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},Zv=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},ey=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},ty=(t,e)=>{if(typeof t!="string")return t;const n=t.length-1,r=t[n];if(t[0]==="{"&&r==="}"){let a;const s=t.slice(1,n);try{a=JSON.parse("["+s+"]")}catch{a=s?s.split(","):[]}return a.map(l=>Yf(e,l))}return t},ny=t=>typeof t=="string"?t.replace(" ","T"):t,Qf=t=>{let e=t;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")};class no{constructor(e,n,r={},i=Kf){this.channel=e,this.event=n,this.payload=r,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,n){var r;return this._hasReceived(e)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:e,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:n}){this.recHooks.filter(r=>r.status===e).forEach(r=>r.callback(n))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var Fu;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(Fu||(Fu={}));class Yr{constructor(e,n){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},i=>{const{onJoin:a,onLeave:s,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Yr.syncState(this.state,i,a,s),this.pendingDiffs.forEach(c=>{this.state=Yr.syncDiff(this.state,c,a,s)}),this.pendingDiffs=[],l()}),this.channel._on(r.diff,{},i=>{const{onJoin:a,onLeave:s,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=Yr.syncDiff(this.state,i,a,s),l())}),this.onJoin((i,a,s)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:a,newPresences:s})}),this.onLeave((i,a,s)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:a,leftPresences:s})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,n,r,i){const a=this.cloneDeep(e),s=this.transformState(n),l={},c={};return this.map(a,(u,d)=>{s[u]||(c[u]=d)}),this.map(s,(u,d)=>{const p=a[u];if(p){const f=d.map(_=>_.presence_ref),v=p.map(_=>_.presence_ref),x=d.filter(_=>v.indexOf(_.presence_ref)<0),y=p.filter(_=>f.indexOf(_.presence_ref)<0);x.length>0&&(l[u]=x),y.length>0&&(c[u]=y)}else l[u]=d}),this.syncDiff(a,{joins:l,leaves:c},r,i)}static syncDiff(e,n,r,i){const{joins:a,leaves:s}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),i||(i=()=>{}),this.map(a,(l,c)=>{var u;const d=(u=e[l])!==null&&u!==void 0?u:[];if(e[l]=this.cloneDeep(c),d.length>0){const p=e[l].map(v=>v.presence_ref),f=d.filter(v=>p.indexOf(v.presence_ref)<0);e[l].unshift(...f)}r(l,d,c)}),this.map(s,(l,c)=>{let u=e[l];if(!u)return;const d=c.map(p=>p.presence_ref);u=u.filter(p=>d.indexOf(p.presence_ref)<0),e[l]=u,i(l,u,c),u.length===0&&delete e[l]}),e}static map(e,n){return Object.getOwnPropertyNames(e).map(r=>n(r,e[r]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((n,r)=>{const i=e[r];return"metas"in i?n[r]=i.metas.map(a=>(a.presence_ref=a.phx_ref,delete a.phx_ref,delete a.phx_ref_prev,a)):n[r]=i,n},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Bu;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(Bu||(Bu={}));var Wu;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(Wu||(Wu={}));var jt;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(jt||(jt={}));class vc{constructor(e,n={config:{}},r){this.topic=e,this.params=n,this.socket=r,this.bindings={},this.state=Ne.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new no(this,dt.join,this.params,this.timeout),this.rejoinTimer=new Gf(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Ne.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(i=>i.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Ne.closed,this.socket._remove(this)}),this._onError(i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=Ne.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Ne.errored,this.rejoinTimer.scheduleTimeout())}),this._on(dt.reply,{},(i,a)=>{this._trigger(this._replyEventName(a),i)}),this.presence=new Yr(this),this.broadcastEndpointURL=Qf(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(e,n=this.timeout){var r,i;if(this.socket.isConnected()||this.socket.connect(),this.state==Ne.closed){const{config:{broadcast:a,presence:s,private:l}}=this.params;this._onError(d=>e==null?void 0:e(jt.CHANNEL_ERROR,d)),this._onClose(()=>e==null?void 0:e(jt.CLOSED));const c={},u={broadcast:a,presence:s,postgres_changes:(i=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(d=>d.filter))!==null&&i!==void 0?i:[],private:l};this.socket.accessTokenValue&&(c.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:u},c)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:d})=>{var p;if(this.socket.setAuth(),d===void 0){e==null||e(jt.SUBSCRIBED);return}else{const f=this.bindings.postgres_changes,v=(p=f==null?void 0:f.length)!==null&&p!==void 0?p:0,x=[];for(let y=0;y<v;y++){const _=f[y],{filter:{event:g,schema:h,table:m,filter:w}}=_,S=d&&d[y];if(S&&S.event===g&&S.schema===h&&S.table===m&&S.filter===w)x.push(Object.assign(Object.assign({},_),{id:S.id}));else{this.unsubscribe(),this.state=Ne.errored,e==null||e(jt.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=x,e&&e(jt.SUBSCRIBED);return}}).receive("error",d=>{this.state=Ne.errored,e==null||e(jt.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(d).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(jt.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,n={}){return await this.send({type:"presence",event:"track",payload:e},n.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,n,r){return this._on(e,n,r)}async send(e,n={}){var r,i;if(!this._canPush()&&e.type==="broadcast"){const{event:a,payload:s}=e,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:a,payload:s,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((i=u.body)===null||i===void 0?void 0:i.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(a=>{var s,l,c;const u=this._push(e.type,e,n.timeout||this.timeout);e.type==="broadcast"&&!(!((c=(l=(s=this.params)===null||s===void 0?void 0:s.config)===null||l===void 0?void 0:l.broadcast)===null||c===void 0)&&c.ack)&&a("ok"),u.receive("ok",()=>a("ok")),u.receive("error",()=>a("error")),u.receive("timeout",()=>a("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=Ne.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(dt.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(i=>{r=new no(this,dt.leave,{},e),r.receive("ok",()=>{n(),i("ok")}).receive("timeout",()=>{n(),i("timed out")}).receive("error",()=>{i("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r==null||r.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.rejoinTimer&&clearTimeout(this.rejoinTimer.timer),this.joinPush.destroy()}async _fetchWithTimeout(e,n,r){const i=new AbortController,a=setTimeout(()=>i.abort(),r),s=await this.socket.fetch(e,Object.assign(Object.assign({},n),{signal:i.signal}));return clearTimeout(a),s}_push(e,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new no(this,e,n,r);return this._canPush()?i.send():(i.startTimeout(),this.pushBuffer.push(i)),i}_onMessage(e,n,r){return n}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,n,r){var i,a;const s=e.toLocaleLowerCase(),{close:l,error:c,leave:u,join:d}=dt;if(r&&[l,c,u,d].indexOf(s)>=0&&r!==this._joinRef())return;let f=this._onMessage(s,n,r);if(n&&!f)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(s)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(v=>{var x,y,_;return((x=v.filter)===null||x===void 0?void 0:x.event)==="*"||((_=(y=v.filter)===null||y===void 0?void 0:y.event)===null||_===void 0?void 0:_.toLocaleLowerCase())===s}).map(v=>v.callback(f,r)):(a=this.bindings[s])===null||a===void 0||a.filter(v=>{var x,y,_,g,h,m;if(["broadcast","presence","postgres_changes"].includes(s))if("id"in v){const w=v.id,S=(x=v.filter)===null||x===void 0?void 0:x.event;return w&&((y=n.ids)===null||y===void 0?void 0:y.includes(w))&&(S==="*"||(S==null?void 0:S.toLocaleLowerCase())===((_=n.data)===null||_===void 0?void 0:_.type.toLocaleLowerCase()))}else{const w=(h=(g=v==null?void 0:v.filter)===null||g===void 0?void 0:g.event)===null||h===void 0?void 0:h.toLocaleLowerCase();return w==="*"||w===((m=n==null?void 0:n.event)===null||m===void 0?void 0:m.toLocaleLowerCase())}else return v.type.toLocaleLowerCase()===s}).map(v=>{if(typeof f=="object"&&"ids"in f){const x=f.data,{schema:y,table:_,commit_timestamp:g,type:h,errors:m}=x;f=Object.assign(Object.assign({},{schema:y,table:_,commit_timestamp:g,eventType:h,new:{},old:{},errors:m}),this._getPayloadRecords(x))}v.callback(f,r)})}_isClosed(){return this.state===Ne.closed}_isJoined(){return this.state===Ne.joined}_isJoining(){return this.state===Ne.joining}_isLeaving(){return this.state===Ne.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,n,r){const i=e.toLocaleLowerCase(),a={type:i,filter:n,callback:r};return this.bindings[i]?this.bindings[i].push(a):this.bindings[i]=[a],this}_off(e,n){const r=e.toLocaleLowerCase();return this.bindings[r]=this.bindings[r].filter(i=>{var a;return!(((a=i.type)===null||a===void 0?void 0:a.toLocaleLowerCase())===r&&vc.isEqual(i.filter,n))}),this}static isEqual(e,n){if(Object.keys(e).length!==Object.keys(n).length)return!1;for(const r in e)if(e[r]!==n[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(dt.close,{},e)}_onError(e){this._on(dt.error,{},n=>e(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Ne.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const n={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(n.new=zu(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(n.old=zu(e.columns,e.old_record)),n}}const qu=()=>{},ry=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class iy{constructor(e,n){var r;this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Kf,this.heartbeatIntervalMs=25e3,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=qu,this.ref=0,this.logger=qu,this.conn=null,this.sendBuffer=[],this.serializer=new Qv,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=a=>{let s;return a?s=a:typeof fetch>"u"?s=(...l)=>At(async()=>{const{default:c}=await Promise.resolve().then(()=>wr);return{default:c}},void 0).then(({default:c})=>c(...l)):s=fetch,(...l)=>s(...l)},this.endPoint=`${e}/${ol.websocket}`,this.httpEndpoint=Qf(e),n!=null&&n.transport?this.transport=n.transport:this.transport=null,n!=null&&n.params&&(this.params=n.params),n!=null&&n.timeout&&(this.timeout=n.timeout),n!=null&&n.logger&&(this.logger=n.logger),(n!=null&&n.logLevel||n!=null&&n.log_level)&&(this.logLevel=n.logLevel||n.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),n!=null&&n.heartbeatIntervalMs&&(this.heartbeatIntervalMs=n.heartbeatIntervalMs);const i=(r=n==null?void 0:n.params)===null||r===void 0?void 0:r.apikey;if(i&&(this.accessTokenValue=i,this.apiKey=i),this.reconnectAfterMs=n!=null&&n.reconnectAfterMs?n.reconnectAfterMs:a=>[1e3,2e3,5e3,1e4][a-1]||1e4,this.encode=n!=null&&n.encode?n.encode:(a,s)=>s(JSON.stringify(a)),this.decode=n!=null&&n.decode?n.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new Gf(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(n==null?void 0:n.fetch),n!=null&&n.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(n==null?void 0:n.worker)||!1,this.workerUrl=n==null?void 0:n.workerUrl}this.accessToken=(n==null?void 0:n.accessToken)||null}connect(){if(!this.conn){if(this.transport||(this.transport=Hv),!this.transport)throw new Error("No transport provided");this.conn=new this.transport(this.endpointURL()),this.setupConnection()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:Gv}))}disconnect(e,n){this.conn&&(this.conn.onclose=function(){},e?this.conn.close(e,n??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset(),this.channels.forEach(r=>r.teardown()))}getChannels(){return this.channels}async removeChannel(e){const n=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const e=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,n,r){this.logger(e,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case Gr.connecting:return mn.Connecting;case Gr.open:return mn.Open;case Gr.closing:return mn.Closing;default:return mn.Closed}}isConnected(){return this.connectionState()===mn.Open}channel(e,n={config:{}}){const r=`realtime:${e}`,i=this.getChannels().find(a=>a.topic===r);if(i)return i;{const a=new vc(`realtime:${e}`,n,this);return this.channels.push(a),a}}push(e){const{topic:n,event:r,payload:i,ref:a}=e,s=()=>{this.encode(e,l=>{var c;(c=this.conn)===null||c===void 0||c.send(l)})};this.log("push",`${n} ${r} (${a})`,i),this.isConnected()?s():this.sendBuffer.push(s)}async setAuth(e=null){let n=e||this.accessToken&&await this.accessToken()||this.accessTokenValue;this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(r=>{const i={access_token:n,version:Kv};n&&r.updateJoinPayload(i),r.joinedOnce&&r._isJoined()&&r._push(dt.access_token,{access_token:n})}))}async sendHeartbeat(){var e;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),(e=this.conn)===null||e===void 0||e.close(Yv,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),await this.setAuth()}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let n=this.channels.find(r=>r.topic===e&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${e}"`),n.unsubscribe())}_remove(e){this.channels=this.channels.filter(n=>n.topic!==e.topic)}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_onConnMessage(e){this.decode(e.data,n=>{let{topic:r,event:i,payload:a,ref:s}=n;r==="phoenix"&&i==="phx_reply"&&this.heartbeatCallback(n.payload.status=="ok"?"ok":"error"),s&&s===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${a.status||""} ${r} ${i} ${s&&"("+s+")"||""}`,a),Array.from(this.channels).filter(l=>l._isMember(r)).forEach(l=>l._trigger(i,a,s)),this.stateChangeCallbacks.message.forEach(l=>l(n))})}_onConnOpen(){this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this.stateChangeCallbacks.open.forEach(e=>e())}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){this.log("transport","close",e),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(n=>n(e))}_onConnError(e){this.log("transport",`${e}`),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(n=>n(e))}_triggerChanError(){this.channels.forEach(e=>e._trigger(dt.error))}_appendParams(e,n){if(Object.keys(n).length===0)return e;const r=e.match(/\?/)?"&":"?",i=new URLSearchParams(n);return`${e}${r}${i}`}_workerObjectUrl(e){let n;if(e)n=e;else{const r=new Blob([ry],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}}class yc extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function xe(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class ay extends yc{constructor(e,n){super(e),this.name="StorageApiError",this.status=n}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class cl extends yc{constructor(e,n){super(e),this.name="StorageUnknownError",this.originalError=n}}var sy=function(t,e,n,r){function i(a){return a instanceof n?a:new n(function(s){s(a)})}return new(n||(n=Promise))(function(a,s){function l(d){try{u(r.next(d))}catch(p){s(p)}}function c(d){try{u(r.throw(d))}catch(p){s(p)}}function u(d){d.done?a(d.value):i(d.value).then(l,c)}u((r=r.apply(t,e||[])).next())})};const Jf=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>At(async()=>{const{default:r}=await Promise.resolve().then(()=>wr);return{default:r}},void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)},oy=()=>sy(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield At(()=>Promise.resolve().then(()=>wr),void 0)).Response:Response}),ul=t=>{if(Array.isArray(t))return t.map(n=>ul(n));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([n,r])=>{const i=n.replace(/([-_][a-z])/gi,a=>a.toUpperCase().replace(/[-_]/g,""));e[i]=ul(r)}),e};var Tn=function(t,e,n,r){function i(a){return a instanceof n?a:new n(function(s){s(a)})}return new(n||(n=Promise))(function(a,s){function l(d){try{u(r.next(d))}catch(p){s(p)}}function c(d){try{u(r.throw(d))}catch(p){s(p)}}function u(d){d.done?a(d.value):i(d.value).then(l,c)}u((r=r.apply(t,e||[])).next())})};const ro=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),ly=(t,e,n)=>Tn(void 0,void 0,void 0,function*(){const r=yield oy();t instanceof r&&!(n!=null&&n.noResolveJson)?t.json().then(i=>{e(new ay(ro(i),t.status||500))}).catch(i=>{e(new cl(ro(i),i))}):e(new cl(ro(t),t))}),cy=(t,e,n,r)=>{const i={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),r&&(i.body=JSON.stringify(r)),Object.assign(Object.assign({},i),n))};function Ei(t,e,n,r,i,a){return Tn(this,void 0,void 0,function*(){return new Promise((s,l)=>{t(n,cy(e,r,i,a)).then(c=>{if(!c.ok)throw c;return r!=null&&r.noResolveJson?c:c.json()}).then(c=>s(c)).catch(c=>ly(c,l,r))})})}function Fa(t,e,n,r){return Tn(this,void 0,void 0,function*(){return Ei(t,"GET",e,n,r)})}function Ft(t,e,n,r,i){return Tn(this,void 0,void 0,function*(){return Ei(t,"POST",e,r,i,n)})}function uy(t,e,n,r,i){return Tn(this,void 0,void 0,function*(){return Ei(t,"PUT",e,r,i,n)})}function dy(t,e,n,r){return Tn(this,void 0,void 0,function*(){return Ei(t,"HEAD",e,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}function Xf(t,e,n,r,i){return Tn(this,void 0,void 0,function*(){return Ei(t,"DELETE",e,r,i,n)})}var $e=function(t,e,n,r){function i(a){return a instanceof n?a:new n(function(s){s(a)})}return new(n||(n=Promise))(function(a,s){function l(d){try{u(r.next(d))}catch(p){s(p)}}function c(d){try{u(r.throw(d))}catch(p){s(p)}}function u(d){d.done?a(d.value):i(d.value).then(l,c)}u((r=r.apply(t,e||[])).next())})};const py={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Hu={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class fy{constructor(e,n={},r,i){this.url=e,this.headers=n,this.bucketId=r,this.fetch=Jf(i)}uploadOrUpdate(e,n,r,i){return $e(this,void 0,void 0,function*(){try{let a;const s=Object.assign(Object.assign({},Hu),i);let l=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(s.upsert)});const c=s.metadata;typeof Blob<"u"&&r instanceof Blob?(a=new FormData,a.append("cacheControl",s.cacheControl),c&&a.append("metadata",this.encodeMetadata(c)),a.append("",r)):typeof FormData<"u"&&r instanceof FormData?(a=r,a.append("cacheControl",s.cacheControl),c&&a.append("metadata",this.encodeMetadata(c))):(a=r,l["cache-control"]=`max-age=${s.cacheControl}`,l["content-type"]=s.contentType,c&&(l["x-metadata"]=this.toBase64(this.encodeMetadata(c)))),i!=null&&i.headers&&(l=Object.assign(Object.assign({},l),i.headers));const u=this._removeEmptyFolders(n),d=this._getFinalPath(u),p=yield this.fetch(`${this.url}/object/${d}`,Object.assign({method:e,body:a,headers:l},s!=null&&s.duplex?{duplex:s.duplex}:{})),f=yield p.json();return p.ok?{data:{path:u,id:f.Id,fullPath:f.Key},error:null}:{data:null,error:f}}catch(a){if(xe(a))return{data:null,error:a};throw a}})}upload(e,n,r){return $e(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,n,r)})}uploadToSignedUrl(e,n,r,i){return $e(this,void 0,void 0,function*(){const a=this._removeEmptyFolders(e),s=this._getFinalPath(a),l=new URL(this.url+`/object/upload/sign/${s}`);l.searchParams.set("token",n);try{let c;const u=Object.assign({upsert:Hu.upsert},i),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&r instanceof Blob?(c=new FormData,c.append("cacheControl",u.cacheControl),c.append("",r)):typeof FormData<"u"&&r instanceof FormData?(c=r,c.append("cacheControl",u.cacheControl)):(c=r,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType);const p=yield this.fetch(l.toString(),{method:"PUT",body:c,headers:d}),f=yield p.json();return p.ok?{data:{path:a,fullPath:f.Key},error:null}:{data:null,error:f}}catch(c){if(xe(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(e,n){return $e(this,void 0,void 0,function*(){try{let r=this._getFinalPath(e);const i=Object.assign({},this.headers);n!=null&&n.upsert&&(i["x-upsert"]="true");const a=yield Ft(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:i}),s=new URL(this.url+a.url),l=s.searchParams.get("token");if(!l)throw new yc("No token returned by API");return{data:{signedUrl:s.toString(),path:e,token:l},error:null}}catch(r){if(xe(r))return{data:null,error:r};throw r}})}update(e,n,r){return $e(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,n,r)})}move(e,n,r){return $e(this,void 0,void 0,function*(){try{return{data:yield Ft(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(xe(i))return{data:null,error:i};throw i}})}copy(e,n,r){return $e(this,void 0,void 0,function*(){try{return{data:{path:(yield Ft(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(xe(i))return{data:null,error:i};throw i}})}createSignedUrl(e,n,r){return $e(this,void 0,void 0,function*(){try{let i=this._getFinalPath(e),a=yield Ft(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:n},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const s=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return a={signedUrl:encodeURI(`${this.url}${a.signedURL}${s}`)},{data:a,error:null}}catch(i){if(xe(i))return{data:null,error:i};throw i}})}createSignedUrls(e,n,r){return $e(this,void 0,void 0,function*(){try{const i=yield Ft(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:e},{headers:this.headers}),a=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:i.map(s=>Object.assign(Object.assign({},s),{signedUrl:s.signedURL?encodeURI(`${this.url}${s.signedURL}${a}`):null})),error:null}}catch(i){if(xe(i))return{data:null,error:i};throw i}})}download(e,n){return $e(this,void 0,void 0,function*(){const i=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",a=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),s=a?`?${a}`:"";try{const l=this._getFinalPath(e);return{data:yield(yield Fa(this.fetch,`${this.url}/${i}/${l}${s}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(l){if(xe(l))return{data:null,error:l};throw l}})}info(e){return $e(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{const r=yield Fa(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:ul(r),error:null}}catch(r){if(xe(r))return{data:null,error:r};throw r}})}exists(e){return $e(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{return yield dy(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(xe(r)&&r instanceof cl){const i=r.originalError;if([400,404].includes(i==null?void 0:i.status))return{data:!1,error:r}}throw r}})}getPublicUrl(e,n){const r=this._getFinalPath(e),i=[],a=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";a!==""&&i.push(a);const l=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",c=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});c!==""&&i.push(c);let u=i.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${r}${u}`)}}}remove(e){return $e(this,void 0,void 0,function*(){try{return{data:yield Xf(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(n){if(xe(n))return{data:null,error:n};throw n}})}list(e,n,r){return $e(this,void 0,void 0,function*(){try{const i=Object.assign(Object.assign(Object.assign({},py),n),{prefix:e||""});return{data:yield Ft(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},r),error:null}}catch(i){if(xe(i))return{data:null,error:i};throw i}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const n=[];return e.width&&n.push(`width=${e.width}`),e.height&&n.push(`height=${e.height}`),e.resize&&n.push(`resize=${e.resize}`),e.format&&n.push(`format=${e.format}`),e.quality&&n.push(`quality=${e.quality}`),n.join("&")}}const hy="2.7.1",my={"X-Client-Info":`storage-js/${hy}`};var Un=function(t,e,n,r){function i(a){return a instanceof n?a:new n(function(s){s(a)})}return new(n||(n=Promise))(function(a,s){function l(d){try{u(r.next(d))}catch(p){s(p)}}function c(d){try{u(r.throw(d))}catch(p){s(p)}}function u(d){d.done?a(d.value):i(d.value).then(l,c)}u((r=r.apply(t,e||[])).next())})};class gy{constructor(e,n={},r){this.url=e,this.headers=Object.assign(Object.assign({},my),n),this.fetch=Jf(r)}listBuckets(){return Un(this,void 0,void 0,function*(){try{return{data:yield Fa(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(xe(e))return{data:null,error:e};throw e}})}getBucket(e){return Un(this,void 0,void 0,function*(){try{return{data:yield Fa(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(n){if(xe(n))return{data:null,error:n};throw n}})}createBucket(e,n={public:!1}){return Un(this,void 0,void 0,function*(){try{return{data:yield Ft(this.fetch,`${this.url}/bucket`,{id:e,name:e,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(xe(r))return{data:null,error:r};throw r}})}updateBucket(e,n){return Un(this,void 0,void 0,function*(){try{return{data:yield uy(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(xe(r))return{data:null,error:r};throw r}})}emptyBucket(e){return Un(this,void 0,void 0,function*(){try{return{data:yield Ft(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(xe(n))return{data:null,error:n};throw n}})}deleteBucket(e){return Un(this,void 0,void 0,function*(){try{return{data:yield Xf(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(n){if(xe(n))return{data:null,error:n};throw n}})}}class vy extends gy{constructor(e,n={},r){super(e,n,r)}from(e){return new fy(this.url,this.headers,e,this.fetch)}}const yy="2.50.2";let $r="";typeof Deno<"u"?$r="deno":typeof document<"u"?$r="web":typeof navigator<"u"&&navigator.product==="ReactNative"?$r="react-native":$r="node";const xy={"X-Client-Info":`supabase-js-${$r}/${yy}`},wy={headers:xy},_y={schema:"public"},by={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},ky={};var jy=function(t,e,n,r){function i(a){return a instanceof n?a:new n(function(s){s(a)})}return new(n||(n=Promise))(function(a,s){function l(d){try{u(r.next(d))}catch(p){s(p)}}function c(d){try{u(r.throw(d))}catch(p){s(p)}}function u(d){d.done?a(d.value):i(d.value).then(l,c)}u((r=r.apply(t,e||[])).next())})};const Sy=t=>{let e;return t?e=t:typeof fetch>"u"?e=Mf:e=fetch,(...n)=>e(...n)},Ey=()=>typeof Headers>"u"?Uf:Headers,Ny=(t,e,n)=>{const r=Sy(n),i=Ey();return(a,s)=>jy(void 0,void 0,void 0,function*(){var l;const c=(l=yield e())!==null&&l!==void 0?l:t;let u=new i(s==null?void 0:s.headers);return u.has("apikey")||u.set("apikey",t),u.has("Authorization")||u.set("Authorization",`Bearer ${c}`),r(a,Object.assign(Object.assign({},s),{headers:u}))})};var Cy=function(t,e,n,r){function i(a){return a instanceof n?a:new n(function(s){s(a)})}return new(n||(n=Promise))(function(a,s){function l(d){try{u(r.next(d))}catch(p){s(p)}}function c(d){try{u(r.throw(d))}catch(p){s(p)}}function u(d){d.done?a(d.value):i(d.value).then(l,c)}u((r=r.apply(t,e||[])).next())})};function Py(t){return t.endsWith("/")?t:t+"/"}function Ty(t,e){var n,r;const{db:i,auth:a,realtime:s,global:l}=t,{db:c,auth:u,realtime:d,global:p}=e,f={db:Object.assign(Object.assign({},c),i),auth:Object.assign(Object.assign({},u),a),realtime:Object.assign(Object.assign({},d),s),global:Object.assign(Object.assign(Object.assign({},p),l),{headers:Object.assign(Object.assign({},(n=p==null?void 0:p.headers)!==null&&n!==void 0?n:{}),(r=l==null?void 0:l.headers)!==null&&r!==void 0?r:{})}),accessToken:()=>Cy(this,void 0,void 0,function*(){return""})};return t.accessToken?f.accessToken=t.accessToken:delete f.accessToken,f}const Zf="2.70.0",Bn=30*1e3,dl=3,io=dl*Bn,Oy="http://localhost:9999",Dy="supabase.auth.token",Ay={"X-Client-Info":`gotrue-js/${Zf}`},pl="X-Supabase-Api-Version",eh={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},Ry=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,Iy=6e5;class xc extends Error{constructor(e,n,r){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function $(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class My extends xc{constructor(e,n,r){super(e,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function Uy(t){return $(t)&&t.name==="AuthApiError"}class th extends xc{constructor(e,n){super(e),this.name="AuthUnknownError",this.originalError=n}}class on extends xc{constructor(e,n,r,i){super(e,r,i),this.name=n,this.status=r}}class $t extends on{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function $y(t){return $(t)&&t.name==="AuthSessionMissingError"}class Qi extends on{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Ji extends on{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class Xi extends on{constructor(e,n=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function Ly(t){return $(t)&&t.name==="AuthImplicitGrantRedirectError"}class Vu extends on{constructor(e,n=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class fl extends on{constructor(e,n){super(e,"AuthRetryableFetchError",n,void 0)}}function ao(t){return $(t)&&t.name==="AuthRetryableFetchError"}class Ku extends on{constructor(e,n,r){super(e,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}class Qr extends on{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const Ba="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Gu=` 	
\r=`.split(""),zy=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<Gu.length;e+=1)t[Gu[e].charCodeAt(0)]=-2;for(let e=0;e<Ba.length;e+=1)t[Ba[e].charCodeAt(0)]=e;return t})();function Yu(t,e,n){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;n(Ba[r]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;n(Ba[r]),e.queuedBits-=6}}function nh(t,e,n){const r=zy[t];if(r>-1)for(e.queue=e.queue<<6|r,e.queuedBits+=6;e.queuedBits>=8;)n(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function Qu(t){const e=[],n=s=>{e.push(String.fromCodePoint(s))},r={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},a=s=>{Wy(s,r,n)};for(let s=0;s<t.length;s+=1)nh(t.charCodeAt(s),i,a);return e.join("")}function Fy(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function By(t,e){for(let n=0;n<t.length;n+=1){let r=t.charCodeAt(n);if(r>55295&&r<=56319){const i=(r-55296)*1024&65535;r=(t.charCodeAt(n+1)-56320&65535|i)+65536,n+=1}Fy(r,e)}}function Wy(t,e,n){if(e.utf8seq===0){if(t<=127){n(t);return}for(let r=1;r<6;r+=1)if(!(t>>7-r&1)){e.utf8seq=r;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&n(e.codepoint)}}function qy(t){const e=[],n={queue:0,queuedBits:0},r=i=>{e.push(i)};for(let i=0;i<t.length;i+=1)nh(t.charCodeAt(i),n,r);return new Uint8Array(e)}function Hy(t){const e=[];return By(t,n=>e.push(n)),new Uint8Array(e)}function Vy(t){const e=[],n={queue:0,queuedBits:0},r=i=>{e.push(i)};return t.forEach(i=>Yu(i,n,r)),Yu(null,n,r),e.join("")}function Ky(t){return Math.round(Date.now()/1e3)+t}function Gy(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}const lt=()=>typeof window<"u"&&typeof document<"u",un={tested:!1,writable:!1},Jr=()=>{if(!lt())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(un.tested)return un.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),un.tested=!0,un.writable=!0}catch{un.tested=!0,un.writable=!1}return un.writable};function Yy(t){const e={},n=new URL(t);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((i,a)=>{e[a]=i})}catch{}return n.searchParams.forEach((r,i)=>{e[i]=r}),e}const rh=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>At(async()=>{const{default:r}=await Promise.resolve().then(()=>wr);return{default:r}},void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)},Qy=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",ih=async(t,e,n)=>{await t.setItem(e,JSON.stringify(n))},Zi=async(t,e)=>{const n=await t.getItem(e);if(!n)return null;try{return JSON.parse(n)}catch{return n}},ea=async(t,e)=>{await t.removeItem(e)};class ws{constructor(){this.promise=new ws.promiseConstructor((e,n)=>{this.resolve=e,this.reject=n})}}ws.promiseConstructor=Promise;function so(t){const e=t.split(".");if(e.length!==3)throw new Qr("Invalid JWT structure");for(let r=0;r<e.length;r++)if(!Ry.test(e[r]))throw new Qr("JWT not in base64url format");return{header:JSON.parse(Qu(e[0])),payload:JSON.parse(Qu(e[1])),signature:qy(e[2]),raw:{header:e[0],payload:e[1]}}}async function Jy(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function Xy(t,e){return new Promise((r,i)=>{(async()=>{for(let a=0;a<1/0;a++)try{const s=await t(a);if(!e(a,null,s)){r(s);return}}catch(s){if(!e(a,s)){i(s);return}}})()})}function Zy(t){return("0"+t.toString(16)).substr(-2)}function e0(){const e=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let i="";for(let a=0;a<56;a++)i+=n.charAt(Math.floor(Math.random()*r));return i}return crypto.getRandomValues(e),Array.from(e,Zy).join("")}async function t0(t){const n=new TextEncoder().encode(t),r=await crypto.subtle.digest("SHA-256",n),i=new Uint8Array(r);return Array.from(i).map(a=>String.fromCharCode(a)).join("")}async function n0(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const n=await t0(t);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function $n(t,e,n=!1){const r=e0();let i=r;n&&(i+="/PASSWORD_RECOVERY"),await ih(t,`${e}-code-verifier`,i);const a=await n0(r);return[a,r===a?"plain":"s256"]}const r0=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function i0(t){const e=t.headers.get(pl);if(!e||!e.match(r0))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function a0(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function s0(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const o0=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Ln(t){if(!o0.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}var l0=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};const fn=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),c0=[502,503,504];async function Ju(t){var e;if(!Qy(t))throw new fl(fn(t),0);if(c0.includes(t.status))throw new fl(fn(t),t.status);let n;try{n=await t.json()}catch(a){throw new th(fn(a),a)}let r;const i=i0(t);if(i&&i.getTime()>=eh["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new Ku(fn(n),t.status,((e=n.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(r==="session_not_found")throw new $t}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((a,s)=>a&&typeof s=="string",!0))throw new Ku(fn(n),t.status,n.weak_password.reasons);throw new My(fn(n),t.status||500,r)}const u0=(t,e,n,r)=>{const i={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),i.body=JSON.stringify(r),Object.assign(Object.assign({},i),n))};async function z(t,e,n,r){var i;const a=Object.assign({},r==null?void 0:r.headers);a[pl]||(a[pl]=eh["2024-01-01"].name),r!=null&&r.jwt&&(a.Authorization=`Bearer ${r.jwt}`);const s=(i=r==null?void 0:r.query)!==null&&i!==void 0?i:{};r!=null&&r.redirectTo&&(s.redirect_to=r.redirectTo);const l=Object.keys(s).length?"?"+new URLSearchParams(s).toString():"",c=await d0(t,e,n+l,{headers:a,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(c):{data:Object.assign({},c),error:null}}async function d0(t,e,n,r,i,a){const s=u0(e,r,i,a);let l;try{l=await t(n,Object.assign({},s))}catch(c){throw console.error(c),new fl(fn(c),0)}if(l.ok||await Ju(l),r!=null&&r.noResolveJson)return l;try{return await l.json()}catch(c){await Ju(c)}}function bt(t){var e;let n=null;m0(t)&&(n=Object.assign({},t),t.expires_at||(n.expires_at=Ky(t.expires_in)));const r=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:n,user:r},error:null}}function Xu(t){const e=bt(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(e.data.weak_password=t.weak_password),e}function qt(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function p0(t){return{data:t,error:null}}function f0(t){const{action_link:e,email_otp:n,hashed_token:r,redirect_to:i,verification_type:a}=t,s=l0(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:e,email_otp:n,hashed_token:r,redirect_to:i,verification_type:a},c=Object.assign({},s);return{data:{properties:l,user:c},error:null}}function h0(t){return t}function m0(t){return t.access_token&&t.refresh_token&&t.expires_in}const oo=["global","local","others"];var g0=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};class v0{constructor({url:e="",headers:n={},fetch:r}){this.url=e,this.headers=n,this.fetch=rh(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e,n=oo[0]){if(oo.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${oo.join(", ")}`);try{return await z(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(r){if($(r))return{data:null,error:r};throw r}}async inviteUserByEmail(e,n={}){try{return await z(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:qt})}catch(r){if($(r))return{data:{user:null},error:r};throw r}}async generateLink(e){try{const{options:n}=e,r=g0(e,["options"]),i=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(i.new_email=r==null?void 0:r.newEmail,delete i.newEmail),await z(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:f0,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if($(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(e){try{return await z(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:qt})}catch(n){if($(n))return{data:{user:null},error:n};throw n}}async listUsers(e){var n,r,i,a,s,l,c;try{const u={nextPage:null,lastPage:0,total:0},d=await z(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=e==null?void 0:e.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(a=(i=e==null?void 0:e.perPage)===null||i===void 0?void 0:i.toString())!==null&&a!==void 0?a:""},xform:h0});if(d.error)throw d.error;const p=await d.json(),f=(s=d.headers.get("x-total-count"))!==null&&s!==void 0?s:0,v=(c=(l=d.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return v.length>0&&(v.forEach(x=>{const y=parseInt(x.split(";")[0].split("=")[1].substring(0,1)),_=JSON.parse(x.split(";")[1].split("=")[1]);u[`${_}Page`]=y}),u.total=parseInt(f)),{data:Object.assign(Object.assign({},p),u),error:null}}catch(u){if($(u))return{data:{users:[]},error:u};throw u}}async getUserById(e){Ln(e);try{return await z(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:qt})}catch(n){if($(n))return{data:{user:null},error:n};throw n}}async updateUserById(e,n){Ln(e);try{return await z(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:n,headers:this.headers,xform:qt})}catch(r){if($(r))return{data:{user:null},error:r};throw r}}async deleteUser(e,n=!1){Ln(e);try{return await z(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:n},xform:qt})}catch(r){if($(r))return{data:{user:null},error:r};throw r}}async _listFactors(e){Ln(e.userId);try{const{data:n,error:r}=await z(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:n,error:r}}catch(n){if($(n))return{data:null,error:n};throw n}}async _deleteFactor(e){Ln(e.userId),Ln(e.id);try{return{data:await z(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(n){if($(n))return{data:null,error:n};throw n}}}const y0={getItem:t=>Jr()?globalThis.localStorage.getItem(t):null,setItem:(t,e)=>{Jr()&&globalThis.localStorage.setItem(t,e)},removeItem:t=>{Jr()&&globalThis.localStorage.removeItem(t)}};function Zu(t={}){return{getItem:e=>t[e]||null,setItem:(e,n)=>{t[e]=n},removeItem:e=>{delete t[e]}}}function x0(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const zn={debug:!!(globalThis&&Jr()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class ah extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class w0 extends ah{}async function _0(t,e,n){zn.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const r=new globalThis.AbortController;return e>0&&setTimeout(()=>{r.abort(),zn.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async i=>{if(i){zn.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,i.name);try{return await n()}finally{zn.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,i.name)}}else{if(e===0)throw zn.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new w0(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(zn.debug)try{const a=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(a,null,"  "))}catch(a){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",a)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}x0();const b0={url:Oy,storageKey:Dy,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Ay,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function ed(t,e,n){return await n()}class gi{constructor(e){var n,r;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=gi.nextInstanceID,gi.nextInstanceID+=1,this.instanceID>0&&lt()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const i=Object.assign(Object.assign({},b0),e);if(this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.persistSession=i.persistSession,this.storageKey=i.storageKey,this.autoRefreshToken=i.autoRefreshToken,this.admin=new v0({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=rh(i.fetch),this.lock=i.lock||ed,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,i.lock?this.lock=i.lock:lt()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=_0:this.lock=ed,this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?i.storage?this.storage=i.storage:Jr()?this.storage=y0:(this.memoryStorage={},this.storage=Zu(this.memoryStorage)):(this.memoryStorage={},this.storage=Zu(this.memoryStorage)),lt()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(a){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",a)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async a=>{this._debug("received broadcast notification from other tab or client",a),await this._notifyAllSubscribers(a.data.event,a.data.session,!1)})}this.initialize()}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${Zf}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const n=Yy(window.location.href);let r="none";if(this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce"),lt()&&this.detectSessionInUrl&&r!=="none"){const{data:i,error:a}=await this._getSessionFromURL(n,r);if(a){if(this._debug("#_initialize()","error detecting session from URL",a),Ly(a)){const c=(e=a.details)===null||e===void 0?void 0:e.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:a}}return await this._removeSession(),{error:a}}const{session:s,redirectType:l}=i;return this._debug("#_initialize()","detected session in URL",s,"redirect type",l),await this._saveSession(s),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",s):await this._notifyAllSubscribers("SIGNED_IN",s)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return $(n)?{error:n}:{error:new th("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var n,r,i;try{const a=await z(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=e==null?void 0:e.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(i=e==null?void 0:e.options)===null||i===void 0?void 0:i.captchaToken}},xform:bt}),{data:s,error:l}=a;if(l||!s)return{data:{user:null,session:null},error:l};const c=s.session,u=s.user;return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(a){if($(a))return{data:{user:null,session:null},error:a};throw a}}async signUp(e){var n,r,i;try{let a;if("email"in e){const{email:d,password:p,options:f}=e;let v=null,x=null;this.flowType==="pkce"&&([v,x]=await $n(this.storage,this.storageKey)),a=await z(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:f==null?void 0:f.emailRedirectTo,body:{email:d,password:p,data:(n=f==null?void 0:f.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken},code_challenge:v,code_challenge_method:x},xform:bt})}else if("phone"in e){const{phone:d,password:p,options:f}=e;a=await z(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:p,data:(r=f==null?void 0:f.data)!==null&&r!==void 0?r:{},channel:(i=f==null?void 0:f.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken}},xform:bt})}else throw new Ji("You must provide either an email or phone number and a password");const{data:s,error:l}=a;if(l||!s)return{data:{user:null,session:null},error:l};const c=s.session,u=s.user;return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(a){if($(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithPassword(e){try{let n;if("email"in e){const{email:a,password:s,options:l}=e;n=await z(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:a,password:s,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:Xu})}else if("phone"in e){const{phone:a,password:s,options:l}=e;n=await z(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:a,password:s,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:Xu})}else throw new Ji("You must provide either an email or phone number and a password");const{data:r,error:i}=n;return i?{data:{user:null,session:null},error:i}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new Qi}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:i})}catch(n){if($(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(e){var n,r,i,a;return await this._handleProviderSignIn(e.provider,{redirectTo:(n=e.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=e.options)===null||r===void 0?void 0:r.scopes,queryParams:(i=e.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(a=e.options)===null||a===void 0?void 0:a.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:n}=e;if(n==="solana")return await this.signInWithSolana(e);throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}async signInWithSolana(e){var n,r,i,a,s,l,c,u,d,p,f,v;let x,y;if("message"in e)x=e.message,y=e.signature;else{const{chain:_,wallet:g,statement:h,options:m}=e;let w;if(lt())if(typeof g=="object")w=g;else{const b=window;if("solana"in b&&typeof b.solana=="object"&&("signIn"in b.solana&&typeof b.solana.signIn=="function"||"signMessage"in b.solana&&typeof b.solana.signMessage=="function"))w=b.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof g!="object"||!(m!=null&&m.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");w=g}const S=new URL((n=m==null?void 0:m.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in w&&w.signIn){const b=await w.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},m==null?void 0:m.signInWithSolana),{version:"1",domain:S.host,uri:S.href}),h?{statement:h}:null));let k;if(Array.isArray(b)&&b[0]&&typeof b[0]=="object")k=b[0];else if(b&&typeof b=="object"&&"signedMessage"in b&&"signature"in b)k=b;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in k&&"signature"in k&&(typeof k.signedMessage=="string"||k.signedMessage instanceof Uint8Array)&&k.signature instanceof Uint8Array)x=typeof k.signedMessage=="string"?k.signedMessage:new TextDecoder().decode(k.signedMessage),y=k.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in w)||typeof w.signMessage!="function"||!("publicKey"in w)||typeof w!="object"||!w.publicKey||!("toBase58"in w.publicKey)||typeof w.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");x=[`${S.host} wants you to sign in with your Solana account:`,w.publicKey.toBase58(),...h?["",h,""]:[""],"Version: 1",`URI: ${S.href}`,`Issued At: ${(i=(r=m==null?void 0:m.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((a=m==null?void 0:m.signInWithSolana)===null||a===void 0)&&a.notBefore?[`Not Before: ${m.signInWithSolana.notBefore}`]:[],...!((s=m==null?void 0:m.signInWithSolana)===null||s===void 0)&&s.expirationTime?[`Expiration Time: ${m.signInWithSolana.expirationTime}`]:[],...!((l=m==null?void 0:m.signInWithSolana)===null||l===void 0)&&l.chainId?[`Chain ID: ${m.signInWithSolana.chainId}`]:[],...!((c=m==null?void 0:m.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${m.signInWithSolana.nonce}`]:[],...!((u=m==null?void 0:m.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${m.signInWithSolana.requestId}`]:[],...!((p=(d=m==null?void 0:m.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||p===void 0)&&p.length?["Resources",...m.signInWithSolana.resources.map(k=>`- ${k}`)]:[]].join(`
`);const b=await w.signMessage(new TextEncoder().encode(x),"utf8");if(!b||!(b instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");y=b}}try{const{data:_,error:g}=await z(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:x,signature:Vy(y)},!((f=e.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:(v=e.options)===null||v===void 0?void 0:v.captchaToken}}:null),xform:bt});if(g)throw g;return!_||!_.session||!_.user?{data:{user:null,session:null},error:new Qi}:(_.session&&(await this._saveSession(_.session),await this._notifyAllSubscribers("SIGNED_IN",_.session)),{data:Object.assign({},_),error:g})}catch(_){if($(_))return{data:{user:null,session:null},error:_};throw _}}async _exchangeCodeForSession(e){const n=await Zi(this.storage,`${this.storageKey}-code-verifier`),[r,i]=(n??"").split("/");try{const{data:a,error:s}=await z(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:r},xform:bt});if(await ea(this.storage,`${this.storageKey}-code-verifier`),s)throw s;return!a||!a.session||!a.user?{data:{user:null,session:null,redirectType:null},error:new Qi}:(a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),{data:Object.assign(Object.assign({},a),{redirectType:i??null}),error:s})}catch(a){if($(a))return{data:{user:null,session:null,redirectType:null},error:a};throw a}}async signInWithIdToken(e){try{const{options:n,provider:r,token:i,access_token:a,nonce:s}=e,l=await z(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:i,access_token:a,nonce:s,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:bt}),{data:c,error:u}=l;return u?{data:{user:null,session:null},error:u}:!c||!c.session||!c.user?{data:{user:null,session:null},error:new Qi}:(c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:c,error:u})}catch(n){if($(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(e){var n,r,i,a,s;try{if("email"in e){const{email:l,options:c}=e;let u=null,d=null;this.flowType==="pkce"&&([u,d]=await $n(this.storage,this.storageKey));const{error:p}=await z(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(n=c==null?void 0:c.data)!==null&&n!==void 0?n:{},create_user:(r=c==null?void 0:c.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:c==null?void 0:c.emailRedirectTo});return{data:{user:null,session:null},error:p}}if("phone"in e){const{phone:l,options:c}=e,{data:u,error:d}=await z(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(i=c==null?void 0:c.data)!==null&&i!==void 0?i:{},create_user:(a=c==null?void 0:c.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(s=c==null?void 0:c.channel)!==null&&s!==void 0?s:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:d}}throw new Ji("You must provide either an email or phone number.")}catch(l){if($(l))return{data:{user:null,session:null},error:l};throw l}}async verifyOtp(e){var n,r;try{let i,a;"options"in e&&(i=(n=e.options)===null||n===void 0?void 0:n.redirectTo,a=(r=e.options)===null||r===void 0?void 0:r.captchaToken);const{data:s,error:l}=await z(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:a}}),redirectTo:i,xform:bt});if(l)throw l;if(!s)throw new Error("An error occurred on token verification.");const c=s.session,u=s.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(i){if($(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithSSO(e){var n,r,i;try{let a=null,s=null;return this.flowType==="pkce"&&([a,s]=await $n(this.storage,this.storageKey)),await z(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(r=(n=e.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((i=e==null?void 0:e.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:a,code_challenge_method:s}),headers:this.headers,xform:p0})}catch(a){if($(a))return{data:null,error:a};throw a}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:n},error:r}=e;if(r)throw r;if(!n)throw new $t;const{error:i}=await z(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:i}})}catch(e){if($(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const n=`${this.url}/resend`;if("email"in e){const{email:r,type:i,options:a}=e,{error:s}=await z(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:i,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},redirectTo:a==null?void 0:a.emailRedirectTo});return{data:{user:null,session:null},error:s}}else if("phone"in e){const{phone:r,type:i,options:a}=e,{data:s,error:l}=await z(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:i,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}}});return{data:{user:null,session:null,messageId:s==null?void 0:s.message_id},error:l}}throw new Ji("You must provide either an email or phone number and a type")}catch(n){if($(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(e,n){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await e(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const n=await Zi(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?e=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const r=e.expires_at?e.expires_at*1e3-Date.now()<io:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",e.expires_at),!r){if(this.storage.isServer){let s=this.suppressGetSessionWarning;e=new Proxy(e,{get:(c,u,d)=>(!s&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),s=!0,this.suppressGetSessionWarning=!0),Reflect.get(c,u,d))})}return{data:{session:e},error:null}}const{session:i,error:a}=await this._callRefreshToken(e.refresh_token);return a?{data:{session:null},error:a}:{data:{session:i},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await z(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:qt}):await this._useSession(async n=>{var r,i,a;const{data:s,error:l}=n;if(l)throw l;return!(!((r=s.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new $t}:await z(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(a=(i=s.session)===null||i===void 0?void 0:i.access_token)!==null&&a!==void 0?a:void 0,xform:qt})})}catch(n){if($(n))return $y(n)&&(await this._removeSession(),await ea(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(e,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,n))}async _updateUser(e,n={}){try{return await this._useSession(async r=>{const{data:i,error:a}=r;if(a)throw a;if(!i.session)throw new $t;const s=i.session;let l=null,c=null;this.flowType==="pkce"&&e.email!=null&&([l,c]=await $n(this.storage,this.storageKey));const{data:u,error:d}=await z(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:l,code_challenge_method:c}),jwt:s.access_token,xform:qt});if(d)throw d;return s.user=u.user,await this._saveSession(s),await this._notifyAllSubscribers("USER_UPDATED",s),{data:{user:s.user},error:null}})}catch(r){if($(r))return{data:{user:null},error:r};throw r}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new $t;const n=Date.now()/1e3;let r=n,i=!0,a=null;const{payload:s}=so(e.access_token);if(s.exp&&(r=s.exp,i=r<=n),i){const{session:l,error:c}=await this._callRefreshToken(e.refresh_token);if(c)return{data:{user:null,session:null},error:c};if(!l)return{data:{user:null,session:null},error:null};a=l}else{const{data:l,error:c}=await this._getUser(e.access_token);if(c)throw c;a={access_token:e.access_token,refresh_token:e.refresh_token,user:l.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)}return{data:{user:a.user,session:a},error:null}}catch(n){if($(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async n=>{var r;if(!e){const{data:s,error:l}=n;if(l)throw l;e=(r=s.session)!==null&&r!==void 0?r:void 0}if(!(e!=null&&e.refresh_token))throw new $t;const{session:i,error:a}=await this._callRefreshToken(e.refresh_token);return a?{data:{user:null,session:null},error:a}:i?{data:{user:i.user,session:i},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if($(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(e,n){try{if(!lt())throw new Xi("No browser detected.");if(e.error||e.error_description||e.error_code)throw new Xi(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new Vu("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Xi("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new Vu("No code detected.");const{data:h,error:m}=await this._exchangeCodeForSession(e.code);if(m)throw m;const w=new URL(window.location.href);return w.searchParams.delete("code"),window.history.replaceState(window.history.state,"",w.toString()),{data:{session:h.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:i,access_token:a,refresh_token:s,expires_in:l,expires_at:c,token_type:u}=e;if(!a||!l||!s||!u)throw new Xi("No session defined in URL");const d=Math.round(Date.now()/1e3),p=parseInt(l);let f=d+p;c&&(f=parseInt(c));const v=f-d;v*1e3<=Bn&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${v}s, should have been closer to ${p}s`);const x=f-p;d-x>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",x,f,d):d-x<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",x,f,d);const{data:y,error:_}=await this._getUser(a);if(_)throw _;const g={provider_token:r,provider_refresh_token:i,access_token:a,expires_in:p,expires_at:f,refresh_token:s,token_type:u,user:y.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:g,redirectType:e.type},error:null}}catch(r){if($(r))return{data:{session:null,redirectType:null},error:r};throw r}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const n=await Zi(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&n)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:i,error:a}=n;if(a)return{error:a};const s=(r=i.session)===null||r===void 0?void 0:r.access_token;if(s){const{error:l}=await this.admin.signOut(s,e);if(l&&!(Uy(l)&&(l.status===404||l.status===401||l.status===403)))return{error:l}}return e!=="others"&&(await this._removeSession(),await ea(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const n=Gy(),r={id:n,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(e){return await this._useSession(async n=>{var r,i;try{const{data:{session:a},error:s}=n;if(s)throw s;await((r=this.stateChangeEmitters.get(e))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",a)),this._debug("INITIAL_SESSION","callback id",e,"session",a)}catch(a){await((i=this.stateChangeEmitters.get(e))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",a),console.error(a)}})}async resetPasswordForEmail(e,n={}){let r=null,i=null;this.flowType==="pkce"&&([r,i]=await $n(this.storage,this.storageKey,!0));try{return await z(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:r,code_challenge_method:i,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(a){if($(a))return{data:null,error:a};throw a}}async getUserIdentities(){var e;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return{data:{identities:(e=n.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(n){if($(n))return{data:null,error:n};throw n}}async linkIdentity(e){var n;try{const{data:r,error:i}=await this._useSession(async a=>{var s,l,c,u,d;const{data:p,error:f}=a;if(f)throw f;const v=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(s=e.options)===null||s===void 0?void 0:s.redirectTo,scopes:(l=e.options)===null||l===void 0?void 0:l.scopes,queryParams:(c=e.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await z(this.fetch,"GET",v,{headers:this.headers,jwt:(d=(u=p.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})});if(i)throw i;return lt()&&!(!((n=e.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),{data:{provider:e.provider,url:r==null?void 0:r.url},error:null}}catch(r){if($(r))return{data:{provider:e.provider,url:null},error:r};throw r}}async unlinkIdentity(e){try{return await this._useSession(async n=>{var r,i;const{data:a,error:s}=n;if(s)throw s;return await z(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(i=(r=a.session)===null||r===void 0?void 0:r.access_token)!==null&&i!==void 0?i:void 0})})}catch(n){if($(n))return{data:null,error:n};throw n}}async _refreshAccessToken(e){const n=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await Xy(async i=>(i>0&&await Jy(200*Math.pow(2,i-1)),this._debug(n,"refreshing attempt",i),await z(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:bt})),(i,a)=>{const s=200*Math.pow(2,i);return a&&ao(a)&&Date.now()+s-r<Bn})}catch(r){if(this._debug(n,"error",r),$(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(n,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",n,"url",r),lt()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:e,url:r},error:null}}async _recoverAndRefresh(){var e;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const r=await Zi(this.storage,this.storageKey);if(this._debug(n,"session from storage",r),!this._isValidSession(r)){this._debug(n,"session is not valid"),r!==null&&await this._removeSession();return}const i=((e=r.expires_at)!==null&&e!==void 0?e:1/0)*1e3-Date.now()<io;if(this._debug(n,`session has${i?"":" not"} expired with margin of ${io}s`),i){if(this.autoRefreshToken&&r.refresh_token){const{error:a}=await this._callRefreshToken(r.refresh_token);a&&(console.error(a),ao(a)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",a),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",r)}catch(r){this._debug(n,"error",r),console.error(r);return}finally{this._debug(n,"end")}}async _callRefreshToken(e){var n,r;if(!e)throw new $t;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new ws;const{data:a,error:s}=await this._refreshAccessToken(e);if(s)throw s;if(!a.session)throw new $t;await this._saveSession(a.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",a.session);const l={session:a.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(a){if(this._debug(i,"error",a),$(a)){const s={session:null,error:a};return ao(a)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(s),s}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(a),a}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(e,n,r=!0){const i=`#_notifyAllSubscribers(${e})`;this._debug(i,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:e,session:n});const a=[],s=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(e,n)}catch(c){a.push(c)}});if(await Promise.all(s),a.length>0){for(let l=0;l<a.length;l+=1)console.error(a[l]);throw a[0]}}finally{this._debug(i,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await ih(this.storage,this.storageKey,e)}async _removeSession(){this._debug("#_removeSession()"),await ea(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&lt()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),Bn);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((r.expires_at*1e3-e)/Bn);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${Bn}ms, refresh threshold is ${dl} ticks`),i<=dl&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof ah)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!lt()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const n=`#_onVisibilityChanged(${e})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,n,r){const i=[`provider=${encodeURIComponent(n)}`];if(r!=null&&r.redirectTo&&i.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&i.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[a,s]=await $n(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(a)}`,code_challenge_method:`${encodeURIComponent(s)}`});i.push(l.toString())}if(r!=null&&r.queryParams){const a=new URLSearchParams(r.queryParams);i.push(a.toString())}return r!=null&&r.skipBrowserRedirect&&i.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${e}?${i.join("&")}`}async _unenroll(e){try{return await this._useSession(async n=>{var r;const{data:i,error:a}=n;return a?{data:null,error:a}:await z(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if($(n))return{data:null,error:n};throw n}}async _enroll(e){try{return await this._useSession(async n=>{var r,i;const{data:a,error:s}=n;if(s)return{data:null,error:s};const l=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:{issuer:e.issuer}),{data:c,error:u}=await z(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(r=a==null?void 0:a.session)===null||r===void 0?void 0:r.access_token});return u?{data:null,error:u}:(e.factorType==="totp"&&(!((i=c==null?void 0:c.totp)===null||i===void 0)&&i.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),{data:c,error:null})})}catch(n){if($(n))return{data:null,error:n};throw n}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:i,error:a}=n;if(a)return{data:null,error:a};const{data:s,error:l}=await z(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});return l?{data:null,error:l}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+s.expires_in},s)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",s),{data:s,error:l})})}catch(n){if($(n))return{data:null,error:n};throw n}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:i,error:a}=n;return a?{data:null,error:a}:await z(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if($(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(e){const{data:n,error:r}=await this._challenge({factorId:e.factorId});return r?{data:null,error:r}:await this._verify({factorId:e.factorId,challengeId:n.id,code:e.code})}async _listFactors(){const{data:{user:e},error:n}=await this.getUser();if(n)return{data:null,error:n};const r=(e==null?void 0:e.factors)||[],i=r.filter(s=>s.factor_type==="totp"&&s.status==="verified"),a=r.filter(s=>s.factor_type==="phone"&&s.status==="verified");return{data:{all:r,totp:i,phone:a},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var n,r;const{data:{session:i},error:a}=e;if(a)return{data:null,error:a};if(!i)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:s}=so(i.access_token);let l=null;s.aal&&(l=s.aal);let c=l;((r=(n=i.user.factors)===null||n===void 0?void 0:n.filter(p=>p.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(c="aal2");const d=s.amr||[];return{data:{currentLevel:l,nextLevel:c,currentAuthenticationMethods:d},error:null}}))}async fetchJwk(e,n={keys:[]}){let r=n.keys.find(s=>s.kid===e);if(r||(r=this.jwks.keys.find(s=>s.kid===e),r&&this.jwks_cached_at+Iy>Date.now()))return r;const{data:i,error:a}=await z(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(a)throw a;if(!i.keys||i.keys.length===0)throw new Qr("JWKS is empty");if(this.jwks=i,this.jwks_cached_at=Date.now(),r=i.keys.find(s=>s.kid===e),!r)throw new Qr("No matching signing key found in JWKS");return r}async getClaims(e,n={keys:[]}){try{let r=e;if(!r){const{data:v,error:x}=await this.getSession();if(x||!v.session)return{data:null,error:x};r=v.session.access_token}const{header:i,payload:a,signature:s,raw:{header:l,payload:c}}=so(r);if(a0(a.exp),!i.kid||i.alg==="HS256"||!("crypto"in globalThis&&"subtle"in globalThis.crypto)){const{error:v}=await this.getUser(r);if(v)throw v;return{data:{claims:a,header:i,signature:s},error:null}}const u=s0(i.alg),d=await this.fetchJwk(i.kid,n),p=await crypto.subtle.importKey("jwk",d,u,!0,["verify"]);if(!await crypto.subtle.verify(u,p,s,Hy(`${l}.${c}`)))throw new Qr("Invalid JWT signature");return{data:{claims:a,header:i,signature:s},error:null}}catch(r){if($(r))return{data:null,error:r};throw r}}}gi.nextInstanceID=0;const k0=gi;class j0 extends k0{constructor(e){super(e)}}var S0=function(t,e,n,r){function i(a){return a instanceof n?a:new n(function(s){s(a)})}return new(n||(n=Promise))(function(a,s){function l(d){try{u(r.next(d))}catch(p){s(p)}}function c(d){try{u(r.throw(d))}catch(p){s(p)}}function u(d){d.done?a(d.value):i(d.value).then(l,c)}u((r=r.apply(t,e||[])).next())})};class E0{constructor(e,n,r){var i,a,s;if(this.supabaseUrl=e,this.supabaseKey=n,!e)throw new Error("supabaseUrl is required.");if(!n)throw new Error("supabaseKey is required.");const l=Py(e),c=new URL(l);this.realtimeUrl=new URL("realtime/v1",c),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",c),this.storageUrl=new URL("storage/v1",c),this.functionsUrl=new URL("functions/v1",c);const u=`sb-${c.hostname.split(".")[0]}-auth-token`,d={db:_y,realtime:ky,auth:Object.assign(Object.assign({},by),{storageKey:u}),global:wy},p=Ty(r??{},d);this.storageKey=(i=p.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(a=p.global.headers)!==null&&a!==void 0?a:{},p.accessToken?(this.accessToken=p.accessToken,this.auth=new Proxy({},{get:(f,v)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(v)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((s=p.auth)!==null&&s!==void 0?s:{},this.headers,p.global.fetch),this.fetch=Ny(n,this._getAccessToken.bind(this),p.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},p.realtime)),this.rest=new Wv(new URL("rest/v1",c).href,{headers:this.headers,schema:p.db.schema,fetch:this.fetch}),p.accessToken||this._listenForAuthEvents()}get functions(){return new xv(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}get storage(){return new vy(this.storageUrl.href,this.headers,this.fetch)}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,n={},r={}){return this.rest.rpc(e,n,r)}channel(e,n={config:{}}){return this.realtime.channel(e,n)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,n;return S0(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:r}=yield this.auth.getSession();return(n=(e=r.session)===null||e===void 0?void 0:e.access_token)!==null&&n!==void 0?n:null})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:n,detectSessionInUrl:r,storage:i,storageKey:a,flowType:s,lock:l,debug:c},u,d){const p={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new j0({url:this.authUrl.href,headers:Object.assign(Object.assign({},p),u),storageKey:a,autoRefreshToken:e,persistSession:n,detectSessionInUrl:r,storage:i,flowType:s,lock:l,debug:c,fetch:d,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(e){return new iy(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,r)=>{this._handleTokenChanged(n,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(e,n,r){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==r?this.changedAccessToken=r:e==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const N0=(t,e,n)=>new E0(t,e,n),or="https://qcaibguxsmwzihehhhar.supabase.co",sh="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InFjYWliZ3V4c213emloZWhoaGFyIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTAxODEzNTksImV4cCI6MjA2NTc1NzM1OX0.xnzUul9yhfXxV4dICYdwy5TpbE2OIgj8NB0AUnw3gO4",C0=or.includes("your-project-id"),P0=sh.includes("your_supabase_anon_key");if(C0||P0){const t=`
 Supabase Configuration Required

To use this application, you need to set up Supabase:

1. Create a Supabase project at https://supabase.com
2. Go to Project Settings > API
3. Copy your Project URL and Public anon key
4. Update your .env file with:
   VITE_SUPABASE_URL=your_actual_project_url
   VITE_SUPABASE_ANON_KEY=your_actual_anon_key
5. Restart the development server

Current values:
- VITE_SUPABASE_URL: ${or}
- VITE_SUPABASE_ANON_KEY: [PRESENT BUT INVALID]
  `;throw console.error(t),new Error("Supabase configuration required. Please check the console for setup instructions.")}try{new URL(or)}catch{throw console.error("Invalid Supabase URL format:",or),new Error(`Invalid Supabase URL format: ${or}. Please ensure it starts with https:// and is a valid URL.`)}const R=N0(or,sh),oh=j.createContext(void 0),Ni=()=>{const t=j.useContext(oh);if(t===void 0)throw new Error("useAuth must be used within an AuthProvider");return t},T0=({children:t})=>{const[e,n]=j.useState(null),[r,i]=j.useState(null),[a,s]=j.useState(null),[l,c]=j.useState(!0);j.useEffect(()=>{(async()=>{try{const{data:{session:h}}=await R.auth.getSession();h||(localStorage.removeItem("supabase.auth.token"),await R.auth.signOut())}catch(h){console.warn("Error clearing stale tokens:",h),localStorage.removeItem("supabase.auth.token"),await R.auth.signOut()}})(),(async()=>{try{const{data:{session:h},error:m}=await R.auth.getSession();m?(console.warn("Session error:",m),await R.auth.signOut(),s(null),n(null),i(null),c(!1)):(s(h),n((h==null?void 0:h.user)??null),h!=null&&h.user?await u(h.user.id):c(!1))}catch(h){console.error("Error getting initial session:",h),s(null),n(null),i(null),c(!1)}})();const{data:{subscription:g}}=R.auth.onAuthStateChange(async(h,m)=>{var w;console.log("Auth state changed:",h,(w=m==null?void 0:m.user)==null?void 0:w.email),s(m),n((m==null?void 0:m.user)??null),m!=null&&m.user?await u(m.user.id):(i(null),c(!1))});return()=>g.unsubscribe()},[]);const u=async y=>{try{const{data:_,error:g}=await R.from("profiles").select("*").eq("id",y).maybeSingle();if(g){console.error("Error fetching profile:",g),i(null),c(!1);return}if(!_){console.warn("No profile found for user:",y),i(null),c(!1);return}const{data:h,error:m}=await R.from("subscriptions").select(`
          *,
          package:packages(*)
        `).eq("user_id",y).eq("status","active").maybeSingle();m&&console.warn("Error fetching subscription:",m);const w={..._,subscription:h||void 0};i(w)}catch(_){console.error("Error fetching profile:",_),i(null)}finally{c(!1)}},x={user:e,profile:r,session:a,isLoading:l,login:async(y,_)=>{var g,h;c(!0);try{const{error:m}=await R.auth.signInWithPassword({email:y,password:_});if(m)throw m}catch(m){throw console.error("Login error:",m),c(!1),(g=m.message)!=null&&g.includes("Invalid login credentials")?new Error("Invalid email or password"):(h=m.message)!=null&&h.includes("Failed to fetch")||m.name==="TypeError"?new Error("Unable to connect to the database. Please check your internet connection."):new Error(m.message||"Login failed")}},register:async y=>{var _;c(!0);try{const{error:g}=await R.auth.signUp({email:y.email,password:y.password,options:{data:{first_name:y.firstName,last_name:y.lastName}}});if(g)throw g.message.includes("User already registered")||g.message.includes("user_already_exists")?new Error("This email is already registered. Please sign in instead."):g}catch(g){throw console.error("Registration error:",g),c(!1),(_=g.message)!=null&&_.includes("Failed to fetch")||g.name==="TypeError"?new Error("Unable to connect to the database. Please check your internet connection."):g}},logout:async()=>{try{const{error:y}=await R.auth.signOut();if(y)throw y}catch(y){throw console.error("Logout error:",y),c(!1),new Error(y.message||"Logout failed")}},updateProfile:async y=>{if(!e)throw new Error("No user logged in");try{const{error:_}=await R.from("profiles").update(y).eq("id",e.id);if(_)throw _;await u(e.id)}catch(_){throw console.error("Profile update error:",_),new Error(_.message||"Profile update failed")}}};return o.jsx(oh.Provider,{value:x,children:t})};function lh(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t))for(e=0;e<t.length;e++)t[e]&&(n=lh(t[e]))&&(r&&(r+=" "),r+=n);else for(e in t)t[e]&&(r&&(r+=" "),r+=e);return r}function wc(){for(var t,e,n=0,r="";n<arguments.length;)(t=arguments[n++])&&(e=lh(t))&&(r&&(r+=" "),r+=e);return r}const H=({variant:t="primary",size:e="md",children:n,isLoading:r=!1,className:i,disabled:a,...s})=>{const l="inline-flex items-center justify-center font-medium rounded-lg transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed",c={primary:"bg-blue-600 hover:bg-blue-700 text-white focus:ring-blue-500",secondary:"bg-gray-600 hover:bg-gray-700 text-white focus:ring-gray-500",outline:"border-2 border-blue-600 text-blue-600 hover:bg-blue-50 focus:ring-blue-500",ghost:"text-gray-600 hover:bg-gray-100 focus:ring-gray-500",danger:"bg-red-600 hover:bg-red-700 text-white focus:ring-red-500"},u={sm:"px-3 py-1.5 text-sm",md:"px-4 py-2 text-base",lg:"px-6 py-3 text-lg"};return o.jsxs("button",{className:wc(l,c[t],u[e],i),disabled:a||r,...s,children:[r&&o.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4",fill:"none",viewBox:"0 0 24 24",children:[o.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),o.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),n]})};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var O0={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D0=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),B=(t,e)=>{const n=j.forwardRef(({color:r="currentColor",size:i=24,strokeWidth:a=2,absoluteStrokeWidth:s,className:l="",children:c,...u},d)=>j.createElement("svg",{ref:d,...O0,width:i,height:i,stroke:r,strokeWidth:s?Number(a)*24/Number(i):a,className:["lucide",`lucide-${D0(t)}`,l].join(" "),...u},[...e.map(([p,f])=>j.createElement(p,f)),...Array.isArray(c)?c:[c]]));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xr=B("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ch=B("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A0=B("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wa=B("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R0=B("Briefcase",[["rect",{width:"20",height:"14",x:"2",y:"7",rx:"2",ry:"2",key:"eto64e"}],["path",{d:"M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"zwj3tp"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qa=B("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vi=B("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I0=B("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M0=B("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U0=B("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nn=B("Crown",[["path",{d:"m2 4 3 12h14l3-12-6 7-4-7-4 7-6-7zm3 16h14",key:"zkxr6b"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uh=B("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ha=B("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _c=B("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dh=B("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $0=B("File",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L0=B("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z0=B("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F0=B("Loader",[["line",{x1:"12",x2:"12",y1:"2",y2:"6",key:"gza1u7"}],["line",{x1:"12",x2:"12",y1:"18",y2:"22",key:"1qhbu9"}],["line",{x1:"4.93",x2:"7.76",y1:"4.93",y2:"7.76",key:"xae44r"}],["line",{x1:"16.24",x2:"19.07",y1:"16.24",y2:"19.07",key:"bxnmvf"}],["line",{x1:"2",x2:"6",y1:"12",y2:"12",key:"89khin"}],["line",{x1:"18",x2:"22",y1:"12",y2:"12",key:"pb8tfm"}],["line",{x1:"4.93",x2:"7.76",y1:"19.07",y2:"16.24",key:"1uxjnu"}],["line",{x1:"16.24",x2:"19.07",y1:"7.76",y2:"4.93",key:"6duxfx"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B0=B("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W0=B("MoreVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const td=B("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hl=B("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q0=B("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H0=B("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V0=B("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K0=B("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nd=B("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ph=B("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a2.121 2.121 0 1 1 3 3L12 15l-4 1 1-4Z",key:"1lpok0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fh=B("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G0=B("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ga=B("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y0=B("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hh=B("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bc=B("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yi=B("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),Q0=({onUpgradeClick:t})=>{var s,l;const{user:e,profile:n,logout:r}=Ni(),i=!!e&&!!n,a=!!(n!=null&&n.subscription);return o.jsx("header",{className:"bg-white border-b border-gray-200 sticky top-0 z-50",children:o.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:o.jsxs("div",{className:"flex justify-between items-center h-16",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("div",{className:"p-2 bg-blue-600 rounded-lg",children:o.jsx(dh,{className:"w-6 h-6 text-white"})}),o.jsx("span",{className:"text-xl font-bold text-gray-900",children:"ResumeAI"})]}),o.jsxs("nav",{className:"hidden md:flex items-center space-x-8",children:[o.jsx("a",{href:"#",className:"text-gray-600 hover:text-gray-900 transition-colors",children:"Dashboard"}),o.jsx("a",{href:"#",className:"text-gray-600 hover:text-gray-900 transition-colors",children:"Templates"}),o.jsx("a",{href:"#",className:"text-gray-600 hover:text-gray-900 transition-colors",children:"History"}),(n==null?void 0:n.is_admin)&&o.jsx("a",{href:"#",className:"text-gray-600 hover:text-gray-900 transition-colors",children:"Admin"})]}),o.jsx("div",{className:"flex items-center space-x-4",children:i?o.jsxs("div",{className:"flex items-center space-x-3",children:[a?o.jsxs("span",{className:"px-3 py-1 bg-gradient-to-r from-yellow-400 to-orange-500 text-white text-sm font-medium rounded-full flex items-center space-x-1",children:[o.jsx(Nn,{className:"w-4 h-4"}),o.jsx("span",{children:((l=(s=n.subscription)==null?void 0:s.package)==null?void 0:l.name)||"Premium"})]}):o.jsx(H,{variant:"outline",size:"sm",onClick:t,children:"Upgrade"}),o.jsxs("div",{className:"relative group",children:[o.jsxs("button",{className:"flex items-center space-x-2 p-2 rounded-lg hover:bg-gray-100 transition-colors",children:[o.jsx(hh,{className:"w-5 h-5 text-gray-600"}),o.jsx("span",{className:"hidden md:block text-sm font-medium text-gray-700",children:n==null?void 0:n.first_name})]}),o.jsxs("div",{className:"absolute right-0 mt-2 w-48 bg-white rounded-lg shadow-lg border border-gray-200 py-1 opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all duration-200",children:[o.jsxs("button",{className:"w-full px-4 py-2 text-left text-sm text-gray-700 hover:bg-gray-50 flex items-center space-x-2",children:[o.jsx(V0,{className:"w-4 h-4"}),o.jsx("span",{children:"Settings"})]}),o.jsxs("button",{onClick:r,className:"w-full px-4 py-2 text-left text-sm text-gray-700 hover:bg-gray-50 flex items-center space-x-2",children:[o.jsx(B0,{className:"w-4 h-4"}),o.jsx("span",{children:"Sign Out"})]})]})]})]}):o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx(H,{variant:"ghost",children:"Sign In"}),o.jsx(H,{children:"Get Started"})]})})]})})})},tt=({label:t,error:e,helpText:n,className:r,id:i,...a})=>{const s=i||`input-${Math.random().toString(36).substr(2,9)}`;return o.jsxs("div",{className:"space-y-1",children:[t&&o.jsx("label",{htmlFor:s,className:"block text-sm font-medium text-gray-700",children:t}),o.jsx("input",{id:s,className:wc("block w-full px-3 py-2 border rounded-lg shadow-sm transition-colors duration-200","focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",e?"border-red-300 focus:ring-red-500":"border-gray-300 hover:border-gray-400",r),...a}),e&&o.jsx("p",{className:"text-sm text-red-600",children:e}),n&&!e&&o.jsx("p",{className:"text-sm text-gray-500",children:n})]})},X=({children:t,className:e,padding:n="md",hover:r=!1})=>{const i={none:"",sm:"p-4",md:"p-6",lg:"p-8"};return o.jsx("div",{className:wc("bg-white rounded-xl border border-gray-200 shadow-sm",r&&"hover:shadow-md transition-shadow duration-200",i[n],e),children:t})},J0=({onToggleForm:t})=>{const[e,n]=j.useState(""),[r,i]=j.useState(""),[a,s]=j.useState(""),{login:l,isLoading:c}=Ni(),u=async d=>{var p,f,v,x;d.preventDefault(),s("");try{await l(e,r)}catch(y){console.error("Login error:",y),(p=y.message)!=null&&p.includes("Supabase configuration required")?s("Database connection not configured. Please check the console for setup instructions."):(f=y.message)!=null&&f.includes("Failed to fetch")||(v=y.message)!=null&&v.includes("fetch")?s("Unable to connect to the database. Please check your internet connection and try again."):(x=y.message)!=null&&x.includes("Invalid login credentials")?s("Invalid email or password. Please check your credentials and try again."):s(y.message||"Login failed. Please try again.")}};return o.jsxs(X,{className:"w-full max-w-md mx-auto",children:[o.jsxs("div",{className:"text-center mb-6",children:[o.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Welcome Back"}),o.jsx("p",{className:"text-gray-600 mt-2",children:"Sign in to your account"})]}),o.jsxs("form",{onSubmit:u,className:"space-y-4",children:[a&&o.jsx("div",{className:"p-3 bg-red-50 border border-red-200 rounded-lg text-red-700 text-sm",children:a}),o.jsx(tt,{type:"email",label:"Email",value:e,onChange:d=>n(d.target.value),required:!0,placeholder:"your@email.com"}),o.jsx(tt,{type:"password",label:"Password",value:r,onChange:d=>i(d.target.value),required:!0,placeholder:"Enter your password"}),o.jsx(H,{type:"submit",className:"w-full",isLoading:c,children:c?"Signing In...":"Sign In"})]}),o.jsx("div",{className:"mt-6 text-center",children:o.jsxs("p",{className:"text-gray-600",children:["Don't have an account?"," ",o.jsx("button",{onClick:t,className:"text-blue-600 hover:text-blue-700 font-medium",children:"Sign up"})]})}),o.jsx("div",{className:"mt-4 p-3 bg-blue-50 rounded-lg",children:o.jsxs("p",{className:"text-sm text-blue-800",children:[o.jsx("strong",{children:"Demo accounts:"}),o.jsx("br",{}),"Free: demo@example.com",o.jsx("br",{}),"Premium: premium@example.com",o.jsx("br",{}),"Admin: admin@example.com",o.jsx("br",{}),"Password: any"]})})]})},X0=({onToggleForm:t})=>{const[e,n]=j.useState({firstName:"",lastName:"",email:"",password:"",confirmPassword:""}),[r,i]=j.useState(""),{register:a,isLoading:s}=Ni(),l=d=>{if(d.length<8)return"Password must be at least 8 characters long";const p=/[a-z]/.test(d),f=/[A-Z]/.test(d),v=/[0-9]/.test(d),x=/[!@#$%^&*()_+\-=\[\]{};':"\\|,.<>?/`~]/.test(d);return p?f?v?x?null:"Password must contain at least one special character":"Password must contain at least one number":"Password must contain at least one uppercase letter":"Password must contain at least one lowercase letter"},c=d=>{n(p=>({...p,[d.target.name]:d.target.value}))},u=async d=>{var f,v,x,y,_,g;d.preventDefault(),i("");const p=l(e.password);if(p){i(p);return}if(e.password!==e.confirmPassword){i("Passwords do not match");return}try{await a(e)}catch(h){(f=h==null?void 0:h.message)!=null&&f.includes("User already registered")||(v=h==null?void 0:h.message)!=null&&v.includes("user_already_exists")||(h==null?void 0:h.code)==="user_already_exists"?i("This email is already registered. Please sign in instead."):(x=h==null?void 0:h.message)!=null&&x.includes("Invalid email")?i("Please enter a valid email address."):(y=h==null?void 0:h.message)!=null&&y.includes("weak_password")||(h==null?void 0:h.code)==="weak_password"?i("Password does not meet security requirements. Please ensure it contains uppercase, lowercase, numbers, and special characters."):(_=h==null?void 0:h.message)!=null&&_.includes("Database error saving new user")?i("Registration failed due to a server error. Please try again or contact support if the problem persists."):(g=h==null?void 0:h.message)!=null&&g.includes("Password")?i("Password requirements not met. Please choose a stronger password."):i((h==null?void 0:h.message)||"Registration failed. Please try again.")}};return o.jsxs(X,{className:"w-full max-w-md mx-auto",children:[o.jsxs("div",{className:"text-center mb-6",children:[o.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Create Account"}),o.jsx("p",{className:"text-gray-600 mt-2",children:"Join ResumeAI today"})]}),o.jsxs("form",{onSubmit:u,className:"space-y-4",children:[r&&o.jsxs("div",{className:"p-3 bg-red-50 border border-red-200 rounded-lg text-red-700 text-sm",children:[r,r.includes("already registered")&&o.jsx("div",{className:"mt-2",children:o.jsx("button",{type:"button",onClick:t,className:"text-blue-600 hover:text-blue-700 font-medium underline",children:"Sign in here"})})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsx(tt,{name:"firstName",label:"First Name",value:e.firstName,onChange:c,required:!0,placeholder:"John"}),o.jsx(tt,{name:"lastName",label:"Last Name",value:e.lastName,onChange:c,required:!0,placeholder:"Doe"})]}),o.jsx(tt,{type:"email",name:"email",label:"Email",value:e.email,onChange:c,required:!0,placeholder:"your@email.com"}),o.jsx(tt,{type:"password",name:"password",label:"Password",value:e.password,onChange:c,required:!0,placeholder:"Create a strong password",helpText:"Must contain: 8+ characters, uppercase, lowercase, number, and special character"}),o.jsx(tt,{type:"password",name:"confirmPassword",label:"Confirm Password",value:e.confirmPassword,onChange:c,required:!0,placeholder:"Repeat your password"}),o.jsx(H,{type:"submit",className:"w-full",isLoading:s,children:s?"Creating Account...":"Create Account"})]}),o.jsx("div",{className:"mt-6 text-center",children:o.jsxs("p",{className:"text-gray-600",children:["Already have an account?"," ",o.jsx("button",{onClick:t,className:"text-blue-600 hover:text-blue-700 font-medium",children:"Sign in"})]})})]})};var mh={exports:{}},Z0="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",ex=Z0,tx=ex;function gh(){}function vh(){}vh.resetWarningCache=gh;var nx=function(){function t(r,i,a,s,l,c){if(c!==tx){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:vh,resetWarningCache:gh};return n.PropTypes=n,n};mh.exports=nx();var rx=mh.exports;const J=_d(rx);function On(t,e,n,r){function i(a){return a instanceof n?a:new n(function(s){s(a)})}return new(n||(n=Promise))(function(a,s){function l(d){try{u(r.next(d))}catch(p){s(p)}}function c(d){try{u(r.throw(d))}catch(p){s(p)}}function u(d){d.done?a(d.value):i(d.value).then(l,c)}u((r=r.apply(t,e||[])).next())})}const ix=new Map([["1km","application/vnd.1000minds.decision-model+xml"],["3dml","text/vnd.in3d.3dml"],["3ds","image/x-3ds"],["3g2","video/3gpp2"],["3gp","video/3gp"],["3gpp","video/3gpp"],["3mf","model/3mf"],["7z","application/x-7z-compressed"],["7zip","application/x-7z-compressed"],["123","application/vnd.lotus-1-2-3"],["aab","application/x-authorware-bin"],["aac","audio/x-acc"],["aam","application/x-authorware-map"],["aas","application/x-authorware-seg"],["abw","application/x-abiword"],["ac","application/vnd.nokia.n-gage.ac+xml"],["ac3","audio/ac3"],["acc","application/vnd.americandynamics.acc"],["ace","application/x-ace-compressed"],["acu","application/vnd.acucobol"],["acutc","application/vnd.acucorp"],["adp","audio/adpcm"],["aep","application/vnd.audiograph"],["afm","application/x-font-type1"],["afp","application/vnd.ibm.modcap"],["ahead","application/vnd.ahead.space"],["ai","application/pdf"],["aif","audio/x-aiff"],["aifc","audio/x-aiff"],["aiff","audio/x-aiff"],["air","application/vnd.adobe.air-application-installer-package+zip"],["ait","application/vnd.dvb.ait"],["ami","application/vnd.amiga.ami"],["amr","audio/amr"],["apk","application/vnd.android.package-archive"],["apng","image/apng"],["appcache","text/cache-manifest"],["application","application/x-ms-application"],["apr","application/vnd.lotus-approach"],["arc","application/x-freearc"],["arj","application/x-arj"],["asc","application/pgp-signature"],["asf","video/x-ms-asf"],["asm","text/x-asm"],["aso","application/vnd.accpac.simply.aso"],["asx","video/x-ms-asf"],["atc","application/vnd.acucorp"],["atom","application/atom+xml"],["atomcat","application/atomcat+xml"],["atomdeleted","application/atomdeleted+xml"],["atomsvc","application/atomsvc+xml"],["atx","application/vnd.antix.game-component"],["au","audio/x-au"],["avi","video/x-msvideo"],["avif","image/avif"],["aw","application/applixware"],["azf","application/vnd.airzip.filesecure.azf"],["azs","application/vnd.airzip.filesecure.azs"],["azv","image/vnd.airzip.accelerator.azv"],["azw","application/vnd.amazon.ebook"],["b16","image/vnd.pco.b16"],["bat","application/x-msdownload"],["bcpio","application/x-bcpio"],["bdf","application/x-font-bdf"],["bdm","application/vnd.syncml.dm+wbxml"],["bdoc","application/x-bdoc"],["bed","application/vnd.realvnc.bed"],["bh2","application/vnd.fujitsu.oasysprs"],["bin","application/octet-stream"],["blb","application/x-blorb"],["blorb","application/x-blorb"],["bmi","application/vnd.bmi"],["bmml","application/vnd.balsamiq.bmml+xml"],["bmp","image/bmp"],["book","application/vnd.framemaker"],["box","application/vnd.previewsystems.box"],["boz","application/x-bzip2"],["bpk","application/octet-stream"],["bpmn","application/octet-stream"],["bsp","model/vnd.valve.source.compiled-map"],["btif","image/prs.btif"],["buffer","application/octet-stream"],["bz","application/x-bzip"],["bz2","application/x-bzip2"],["c","text/x-c"],["c4d","application/vnd.clonk.c4group"],["c4f","application/vnd.clonk.c4group"],["c4g","application/vnd.clonk.c4group"],["c4p","application/vnd.clonk.c4group"],["c4u","application/vnd.clonk.c4group"],["c11amc","application/vnd.cluetrust.cartomobile-config"],["c11amz","application/vnd.cluetrust.cartomobile-config-pkg"],["cab","application/vnd.ms-cab-compressed"],["caf","audio/x-caf"],["cap","application/vnd.tcpdump.pcap"],["car","application/vnd.curl.car"],["cat","application/vnd.ms-pki.seccat"],["cb7","application/x-cbr"],["cba","application/x-cbr"],["cbr","application/x-cbr"],["cbt","application/x-cbr"],["cbz","application/x-cbr"],["cc","text/x-c"],["cco","application/x-cocoa"],["cct","application/x-director"],["ccxml","application/ccxml+xml"],["cdbcmsg","application/vnd.contact.cmsg"],["cda","application/x-cdf"],["cdf","application/x-netcdf"],["cdfx","application/cdfx+xml"],["cdkey","application/vnd.mediastation.cdkey"],["cdmia","application/cdmi-capability"],["cdmic","application/cdmi-container"],["cdmid","application/cdmi-domain"],["cdmio","application/cdmi-object"],["cdmiq","application/cdmi-queue"],["cdr","application/cdr"],["cdx","chemical/x-cdx"],["cdxml","application/vnd.chemdraw+xml"],["cdy","application/vnd.cinderella"],["cer","application/pkix-cert"],["cfs","application/x-cfs-compressed"],["cgm","image/cgm"],["chat","application/x-chat"],["chm","application/vnd.ms-htmlhelp"],["chrt","application/vnd.kde.kchart"],["cif","chemical/x-cif"],["cii","application/vnd.anser-web-certificate-issue-initiation"],["cil","application/vnd.ms-artgalry"],["cjs","application/node"],["cla","application/vnd.claymore"],["class","application/octet-stream"],["clkk","application/vnd.crick.clicker.keyboard"],["clkp","application/vnd.crick.clicker.palette"],["clkt","application/vnd.crick.clicker.template"],["clkw","application/vnd.crick.clicker.wordbank"],["clkx","application/vnd.crick.clicker"],["clp","application/x-msclip"],["cmc","application/vnd.cosmocaller"],["cmdf","chemical/x-cmdf"],["cml","chemical/x-cml"],["cmp","application/vnd.yellowriver-custom-menu"],["cmx","image/x-cmx"],["cod","application/vnd.rim.cod"],["coffee","text/coffeescript"],["com","application/x-msdownload"],["conf","text/plain"],["cpio","application/x-cpio"],["cpp","text/x-c"],["cpt","application/mac-compactpro"],["crd","application/x-mscardfile"],["crl","application/pkix-crl"],["crt","application/x-x509-ca-cert"],["crx","application/x-chrome-extension"],["cryptonote","application/vnd.rig.cryptonote"],["csh","application/x-csh"],["csl","application/vnd.citationstyles.style+xml"],["csml","chemical/x-csml"],["csp","application/vnd.commonspace"],["csr","application/octet-stream"],["css","text/css"],["cst","application/x-director"],["csv","text/csv"],["cu","application/cu-seeme"],["curl","text/vnd.curl"],["cww","application/prs.cww"],["cxt","application/x-director"],["cxx","text/x-c"],["dae","model/vnd.collada+xml"],["daf","application/vnd.mobius.daf"],["dart","application/vnd.dart"],["dataless","application/vnd.fdsn.seed"],["davmount","application/davmount+xml"],["dbf","application/vnd.dbf"],["dbk","application/docbook+xml"],["dcr","application/x-director"],["dcurl","text/vnd.curl.dcurl"],["dd2","application/vnd.oma.dd2+xml"],["ddd","application/vnd.fujixerox.ddd"],["ddf","application/vnd.syncml.dmddf+xml"],["dds","image/vnd.ms-dds"],["deb","application/x-debian-package"],["def","text/plain"],["deploy","application/octet-stream"],["der","application/x-x509-ca-cert"],["dfac","application/vnd.dreamfactory"],["dgc","application/x-dgc-compressed"],["dic","text/x-c"],["dir","application/x-director"],["dis","application/vnd.mobius.dis"],["disposition-notification","message/disposition-notification"],["dist","application/octet-stream"],["distz","application/octet-stream"],["djv","image/vnd.djvu"],["djvu","image/vnd.djvu"],["dll","application/octet-stream"],["dmg","application/x-apple-diskimage"],["dmn","application/octet-stream"],["dmp","application/vnd.tcpdump.pcap"],["dms","application/octet-stream"],["dna","application/vnd.dna"],["doc","application/msword"],["docm","application/vnd.ms-word.template.macroEnabled.12"],["docx","application/vnd.openxmlformats-officedocument.wordprocessingml.document"],["dot","application/msword"],["dotm","application/vnd.ms-word.template.macroEnabled.12"],["dotx","application/vnd.openxmlformats-officedocument.wordprocessingml.template"],["dp","application/vnd.osgi.dp"],["dpg","application/vnd.dpgraph"],["dra","audio/vnd.dra"],["drle","image/dicom-rle"],["dsc","text/prs.lines.tag"],["dssc","application/dssc+der"],["dtb","application/x-dtbook+xml"],["dtd","application/xml-dtd"],["dts","audio/vnd.dts"],["dtshd","audio/vnd.dts.hd"],["dump","application/octet-stream"],["dvb","video/vnd.dvb.file"],["dvi","application/x-dvi"],["dwd","application/atsc-dwd+xml"],["dwf","model/vnd.dwf"],["dwg","image/vnd.dwg"],["dxf","image/vnd.dxf"],["dxp","application/vnd.spotfire.dxp"],["dxr","application/x-director"],["ear","application/java-archive"],["ecelp4800","audio/vnd.nuera.ecelp4800"],["ecelp7470","audio/vnd.nuera.ecelp7470"],["ecelp9600","audio/vnd.nuera.ecelp9600"],["ecma","application/ecmascript"],["edm","application/vnd.novadigm.edm"],["edx","application/vnd.novadigm.edx"],["efif","application/vnd.picsel"],["ei6","application/vnd.pg.osasli"],["elc","application/octet-stream"],["emf","image/emf"],["eml","message/rfc822"],["emma","application/emma+xml"],["emotionml","application/emotionml+xml"],["emz","application/x-msmetafile"],["eol","audio/vnd.digital-winds"],["eot","application/vnd.ms-fontobject"],["eps","application/postscript"],["epub","application/epub+zip"],["es","application/ecmascript"],["es3","application/vnd.eszigno3+xml"],["esa","application/vnd.osgi.subsystem"],["esf","application/vnd.epson.esf"],["et3","application/vnd.eszigno3+xml"],["etx","text/x-setext"],["eva","application/x-eva"],["evy","application/x-envoy"],["exe","application/octet-stream"],["exi","application/exi"],["exp","application/express"],["exr","image/aces"],["ext","application/vnd.novadigm.ext"],["ez","application/andrew-inset"],["ez2","application/vnd.ezpix-album"],["ez3","application/vnd.ezpix-package"],["f","text/x-fortran"],["f4v","video/mp4"],["f77","text/x-fortran"],["f90","text/x-fortran"],["fbs","image/vnd.fastbidsheet"],["fcdt","application/vnd.adobe.formscentral.fcdt"],["fcs","application/vnd.isac.fcs"],["fdf","application/vnd.fdf"],["fdt","application/fdt+xml"],["fe_launch","application/vnd.denovo.fcselayout-link"],["fg5","application/vnd.fujitsu.oasysgp"],["fgd","application/x-director"],["fh","image/x-freehand"],["fh4","image/x-freehand"],["fh5","image/x-freehand"],["fh7","image/x-freehand"],["fhc","image/x-freehand"],["fig","application/x-xfig"],["fits","image/fits"],["flac","audio/x-flac"],["fli","video/x-fli"],["flo","application/vnd.micrografx.flo"],["flv","video/x-flv"],["flw","application/vnd.kde.kivio"],["flx","text/vnd.fmi.flexstor"],["fly","text/vnd.fly"],["fm","application/vnd.framemaker"],["fnc","application/vnd.frogans.fnc"],["fo","application/vnd.software602.filler.form+xml"],["for","text/x-fortran"],["fpx","image/vnd.fpx"],["frame","application/vnd.framemaker"],["fsc","application/vnd.fsc.weblaunch"],["fst","image/vnd.fst"],["ftc","application/vnd.fluxtime.clip"],["fti","application/vnd.anser-web-funds-transfer-initiation"],["fvt","video/vnd.fvt"],["fxp","application/vnd.adobe.fxp"],["fxpl","application/vnd.adobe.fxp"],["fzs","application/vnd.fuzzysheet"],["g2w","application/vnd.geoplan"],["g3","image/g3fax"],["g3w","application/vnd.geospace"],["gac","application/vnd.groove-account"],["gam","application/x-tads"],["gbr","application/rpki-ghostbusters"],["gca","application/x-gca-compressed"],["gdl","model/vnd.gdl"],["gdoc","application/vnd.google-apps.document"],["geo","application/vnd.dynageo"],["geojson","application/geo+json"],["gex","application/vnd.geometry-explorer"],["ggb","application/vnd.geogebra.file"],["ggt","application/vnd.geogebra.tool"],["ghf","application/vnd.groove-help"],["gif","image/gif"],["gim","application/vnd.groove-identity-message"],["glb","model/gltf-binary"],["gltf","model/gltf+json"],["gml","application/gml+xml"],["gmx","application/vnd.gmx"],["gnumeric","application/x-gnumeric"],["gpg","application/gpg-keys"],["gph","application/vnd.flographit"],["gpx","application/gpx+xml"],["gqf","application/vnd.grafeq"],["gqs","application/vnd.grafeq"],["gram","application/srgs"],["gramps","application/x-gramps-xml"],["gre","application/vnd.geometry-explorer"],["grv","application/vnd.groove-injector"],["grxml","application/srgs+xml"],["gsf","application/x-font-ghostscript"],["gsheet","application/vnd.google-apps.spreadsheet"],["gslides","application/vnd.google-apps.presentation"],["gtar","application/x-gtar"],["gtm","application/vnd.groove-tool-message"],["gtw","model/vnd.gtw"],["gv","text/vnd.graphviz"],["gxf","application/gxf"],["gxt","application/vnd.geonext"],["gz","application/gzip"],["gzip","application/gzip"],["h","text/x-c"],["h261","video/h261"],["h263","video/h263"],["h264","video/h264"],["hal","application/vnd.hal+xml"],["hbci","application/vnd.hbci"],["hbs","text/x-handlebars-template"],["hdd","application/x-virtualbox-hdd"],["hdf","application/x-hdf"],["heic","image/heic"],["heics","image/heic-sequence"],["heif","image/heif"],["heifs","image/heif-sequence"],["hej2","image/hej2k"],["held","application/atsc-held+xml"],["hh","text/x-c"],["hjson","application/hjson"],["hlp","application/winhlp"],["hpgl","application/vnd.hp-hpgl"],["hpid","application/vnd.hp-hpid"],["hps","application/vnd.hp-hps"],["hqx","application/mac-binhex40"],["hsj2","image/hsj2"],["htc","text/x-component"],["htke","application/vnd.kenameaapp"],["htm","text/html"],["html","text/html"],["hvd","application/vnd.yamaha.hv-dic"],["hvp","application/vnd.yamaha.hv-voice"],["hvs","application/vnd.yamaha.hv-script"],["i2g","application/vnd.intergeo"],["icc","application/vnd.iccprofile"],["ice","x-conference/x-cooltalk"],["icm","application/vnd.iccprofile"],["ico","image/x-icon"],["ics","text/calendar"],["ief","image/ief"],["ifb","text/calendar"],["ifm","application/vnd.shana.informed.formdata"],["iges","model/iges"],["igl","application/vnd.igloader"],["igm","application/vnd.insors.igm"],["igs","model/iges"],["igx","application/vnd.micrografx.igx"],["iif","application/vnd.shana.informed.interchange"],["img","application/octet-stream"],["imp","application/vnd.accpac.simply.imp"],["ims","application/vnd.ms-ims"],["in","text/plain"],["ini","text/plain"],["ink","application/inkml+xml"],["inkml","application/inkml+xml"],["install","application/x-install-instructions"],["iota","application/vnd.astraea-software.iota"],["ipfix","application/ipfix"],["ipk","application/vnd.shana.informed.package"],["irm","application/vnd.ibm.rights-management"],["irp","application/vnd.irepository.package+xml"],["iso","application/x-iso9660-image"],["itp","application/vnd.shana.informed.formtemplate"],["its","application/its+xml"],["ivp","application/vnd.immervision-ivp"],["ivu","application/vnd.immervision-ivu"],["jad","text/vnd.sun.j2me.app-descriptor"],["jade","text/jade"],["jam","application/vnd.jam"],["jar","application/java-archive"],["jardiff","application/x-java-archive-diff"],["java","text/x-java-source"],["jhc","image/jphc"],["jisp","application/vnd.jisp"],["jls","image/jls"],["jlt","application/vnd.hp-jlyt"],["jng","image/x-jng"],["jnlp","application/x-java-jnlp-file"],["joda","application/vnd.joost.joda-archive"],["jp2","image/jp2"],["jpe","image/jpeg"],["jpeg","image/jpeg"],["jpf","image/jpx"],["jpg","image/jpeg"],["jpg2","image/jp2"],["jpgm","video/jpm"],["jpgv","video/jpeg"],["jph","image/jph"],["jpm","video/jpm"],["jpx","image/jpx"],["js","application/javascript"],["json","application/json"],["json5","application/json5"],["jsonld","application/ld+json"],["jsonl","application/jsonl"],["jsonml","application/jsonml+json"],["jsx","text/jsx"],["jxr","image/jxr"],["jxra","image/jxra"],["jxrs","image/jxrs"],["jxs","image/jxs"],["jxsc","image/jxsc"],["jxsi","image/jxsi"],["jxss","image/jxss"],["kar","audio/midi"],["karbon","application/vnd.kde.karbon"],["kdb","application/octet-stream"],["kdbx","application/x-keepass2"],["key","application/x-iwork-keynote-sffkey"],["kfo","application/vnd.kde.kformula"],["kia","application/vnd.kidspiration"],["kml","application/vnd.google-earth.kml+xml"],["kmz","application/vnd.google-earth.kmz"],["kne","application/vnd.kinar"],["knp","application/vnd.kinar"],["kon","application/vnd.kde.kontour"],["kpr","application/vnd.kde.kpresenter"],["kpt","application/vnd.kde.kpresenter"],["kpxx","application/vnd.ds-keypoint"],["ksp","application/vnd.kde.kspread"],["ktr","application/vnd.kahootz"],["ktx","image/ktx"],["ktx2","image/ktx2"],["ktz","application/vnd.kahootz"],["kwd","application/vnd.kde.kword"],["kwt","application/vnd.kde.kword"],["lasxml","application/vnd.las.las+xml"],["latex","application/x-latex"],["lbd","application/vnd.llamagraphics.life-balance.desktop"],["lbe","application/vnd.llamagraphics.life-balance.exchange+xml"],["les","application/vnd.hhe.lesson-player"],["less","text/less"],["lgr","application/lgr+xml"],["lha","application/octet-stream"],["link66","application/vnd.route66.link66+xml"],["list","text/plain"],["list3820","application/vnd.ibm.modcap"],["listafp","application/vnd.ibm.modcap"],["litcoffee","text/coffeescript"],["lnk","application/x-ms-shortcut"],["log","text/plain"],["lostxml","application/lost+xml"],["lrf","application/octet-stream"],["lrm","application/vnd.ms-lrm"],["ltf","application/vnd.frogans.ltf"],["lua","text/x-lua"],["luac","application/x-lua-bytecode"],["lvp","audio/vnd.lucent.voice"],["lwp","application/vnd.lotus-wordpro"],["lzh","application/octet-stream"],["m1v","video/mpeg"],["m2a","audio/mpeg"],["m2v","video/mpeg"],["m3a","audio/mpeg"],["m3u","text/plain"],["m3u8","application/vnd.apple.mpegurl"],["m4a","audio/x-m4a"],["m4p","application/mp4"],["m4s","video/iso.segment"],["m4u","application/vnd.mpegurl"],["m4v","video/x-m4v"],["m13","application/x-msmediaview"],["m14","application/x-msmediaview"],["m21","application/mp21"],["ma","application/mathematica"],["mads","application/mads+xml"],["maei","application/mmt-aei+xml"],["mag","application/vnd.ecowin.chart"],["maker","application/vnd.framemaker"],["man","text/troff"],["manifest","text/cache-manifest"],["map","application/json"],["mar","application/octet-stream"],["markdown","text/markdown"],["mathml","application/mathml+xml"],["mb","application/mathematica"],["mbk","application/vnd.mobius.mbk"],["mbox","application/mbox"],["mc1","application/vnd.medcalcdata"],["mcd","application/vnd.mcd"],["mcurl","text/vnd.curl.mcurl"],["md","text/markdown"],["mdb","application/x-msaccess"],["mdi","image/vnd.ms-modi"],["mdx","text/mdx"],["me","text/troff"],["mesh","model/mesh"],["meta4","application/metalink4+xml"],["metalink","application/metalink+xml"],["mets","application/mets+xml"],["mfm","application/vnd.mfmp"],["mft","application/rpki-manifest"],["mgp","application/vnd.osgeo.mapguide.package"],["mgz","application/vnd.proteus.magazine"],["mid","audio/midi"],["midi","audio/midi"],["mie","application/x-mie"],["mif","application/vnd.mif"],["mime","message/rfc822"],["mj2","video/mj2"],["mjp2","video/mj2"],["mjs","application/javascript"],["mk3d","video/x-matroska"],["mka","audio/x-matroska"],["mkd","text/x-markdown"],["mks","video/x-matroska"],["mkv","video/x-matroska"],["mlp","application/vnd.dolby.mlp"],["mmd","application/vnd.chipnuts.karaoke-mmd"],["mmf","application/vnd.smaf"],["mml","text/mathml"],["mmr","image/vnd.fujixerox.edmics-mmr"],["mng","video/x-mng"],["mny","application/x-msmoney"],["mobi","application/x-mobipocket-ebook"],["mods","application/mods+xml"],["mov","video/quicktime"],["movie","video/x-sgi-movie"],["mp2","audio/mpeg"],["mp2a","audio/mpeg"],["mp3","audio/mpeg"],["mp4","video/mp4"],["mp4a","audio/mp4"],["mp4s","application/mp4"],["mp4v","video/mp4"],["mp21","application/mp21"],["mpc","application/vnd.mophun.certificate"],["mpd","application/dash+xml"],["mpe","video/mpeg"],["mpeg","video/mpeg"],["mpg","video/mpeg"],["mpg4","video/mp4"],["mpga","audio/mpeg"],["mpkg","application/vnd.apple.installer+xml"],["mpm","application/vnd.blueice.multipass"],["mpn","application/vnd.mophun.application"],["mpp","application/vnd.ms-project"],["mpt","application/vnd.ms-project"],["mpy","application/vnd.ibm.minipay"],["mqy","application/vnd.mobius.mqy"],["mrc","application/marc"],["mrcx","application/marcxml+xml"],["ms","text/troff"],["mscml","application/mediaservercontrol+xml"],["mseed","application/vnd.fdsn.mseed"],["mseq","application/vnd.mseq"],["msf","application/vnd.epson.msf"],["msg","application/vnd.ms-outlook"],["msh","model/mesh"],["msi","application/x-msdownload"],["msl","application/vnd.mobius.msl"],["msm","application/octet-stream"],["msp","application/octet-stream"],["msty","application/vnd.muvee.style"],["mtl","model/mtl"],["mts","model/vnd.mts"],["mus","application/vnd.musician"],["musd","application/mmt-usd+xml"],["musicxml","application/vnd.recordare.musicxml+xml"],["mvb","application/x-msmediaview"],["mvt","application/vnd.mapbox-vector-tile"],["mwf","application/vnd.mfer"],["mxf","application/mxf"],["mxl","application/vnd.recordare.musicxml"],["mxmf","audio/mobile-xmf"],["mxml","application/xv+xml"],["mxs","application/vnd.triscape.mxs"],["mxu","video/vnd.mpegurl"],["n-gage","application/vnd.nokia.n-gage.symbian.install"],["n3","text/n3"],["nb","application/mathematica"],["nbp","application/vnd.wolfram.player"],["nc","application/x-netcdf"],["ncx","application/x-dtbncx+xml"],["nfo","text/x-nfo"],["ngdat","application/vnd.nokia.n-gage.data"],["nitf","application/vnd.nitf"],["nlu","application/vnd.neurolanguage.nlu"],["nml","application/vnd.enliven"],["nnd","application/vnd.noblenet-directory"],["nns","application/vnd.noblenet-sealer"],["nnw","application/vnd.noblenet-web"],["npx","image/vnd.net-fpx"],["nq","application/n-quads"],["nsc","application/x-conference"],["nsf","application/vnd.lotus-notes"],["nt","application/n-triples"],["ntf","application/vnd.nitf"],["numbers","application/x-iwork-numbers-sffnumbers"],["nzb","application/x-nzb"],["oa2","application/vnd.fujitsu.oasys2"],["oa3","application/vnd.fujitsu.oasys3"],["oas","application/vnd.fujitsu.oasys"],["obd","application/x-msbinder"],["obgx","application/vnd.openblox.game+xml"],["obj","model/obj"],["oda","application/oda"],["odb","application/vnd.oasis.opendocument.database"],["odc","application/vnd.oasis.opendocument.chart"],["odf","application/vnd.oasis.opendocument.formula"],["odft","application/vnd.oasis.opendocument.formula-template"],["odg","application/vnd.oasis.opendocument.graphics"],["odi","application/vnd.oasis.opendocument.image"],["odm","application/vnd.oasis.opendocument.text-master"],["odp","application/vnd.oasis.opendocument.presentation"],["ods","application/vnd.oasis.opendocument.spreadsheet"],["odt","application/vnd.oasis.opendocument.text"],["oga","audio/ogg"],["ogex","model/vnd.opengex"],["ogg","audio/ogg"],["ogv","video/ogg"],["ogx","application/ogg"],["omdoc","application/omdoc+xml"],["onepkg","application/onenote"],["onetmp","application/onenote"],["onetoc","application/onenote"],["onetoc2","application/onenote"],["opf","application/oebps-package+xml"],["opml","text/x-opml"],["oprc","application/vnd.palm"],["opus","audio/ogg"],["org","text/x-org"],["osf","application/vnd.yamaha.openscoreformat"],["osfpvg","application/vnd.yamaha.openscoreformat.osfpvg+xml"],["osm","application/vnd.openstreetmap.data+xml"],["otc","application/vnd.oasis.opendocument.chart-template"],["otf","font/otf"],["otg","application/vnd.oasis.opendocument.graphics-template"],["oth","application/vnd.oasis.opendocument.text-web"],["oti","application/vnd.oasis.opendocument.image-template"],["otp","application/vnd.oasis.opendocument.presentation-template"],["ots","application/vnd.oasis.opendocument.spreadsheet-template"],["ott","application/vnd.oasis.opendocument.text-template"],["ova","application/x-virtualbox-ova"],["ovf","application/x-virtualbox-ovf"],["owl","application/rdf+xml"],["oxps","application/oxps"],["oxt","application/vnd.openofficeorg.extension"],["p","text/x-pascal"],["p7a","application/x-pkcs7-signature"],["p7b","application/x-pkcs7-certificates"],["p7c","application/pkcs7-mime"],["p7m","application/pkcs7-mime"],["p7r","application/x-pkcs7-certreqresp"],["p7s","application/pkcs7-signature"],["p8","application/pkcs8"],["p10","application/x-pkcs10"],["p12","application/x-pkcs12"],["pac","application/x-ns-proxy-autoconfig"],["pages","application/x-iwork-pages-sffpages"],["pas","text/x-pascal"],["paw","application/vnd.pawaafile"],["pbd","application/vnd.powerbuilder6"],["pbm","image/x-portable-bitmap"],["pcap","application/vnd.tcpdump.pcap"],["pcf","application/x-font-pcf"],["pcl","application/vnd.hp-pcl"],["pclxl","application/vnd.hp-pclxl"],["pct","image/x-pict"],["pcurl","application/vnd.curl.pcurl"],["pcx","image/x-pcx"],["pdb","application/x-pilot"],["pde","text/x-processing"],["pdf","application/pdf"],["pem","application/x-x509-user-cert"],["pfa","application/x-font-type1"],["pfb","application/x-font-type1"],["pfm","application/x-font-type1"],["pfr","application/font-tdpfr"],["pfx","application/x-pkcs12"],["pgm","image/x-portable-graymap"],["pgn","application/x-chess-pgn"],["pgp","application/pgp"],["php","application/x-httpd-php"],["php3","application/x-httpd-php"],["php4","application/x-httpd-php"],["phps","application/x-httpd-php-source"],["phtml","application/x-httpd-php"],["pic","image/x-pict"],["pkg","application/octet-stream"],["pki","application/pkixcmp"],["pkipath","application/pkix-pkipath"],["pkpass","application/vnd.apple.pkpass"],["pl","application/x-perl"],["plb","application/vnd.3gpp.pic-bw-large"],["plc","application/vnd.mobius.plc"],["plf","application/vnd.pocketlearn"],["pls","application/pls+xml"],["pm","application/x-perl"],["pml","application/vnd.ctc-posml"],["png","image/png"],["pnm","image/x-portable-anymap"],["portpkg","application/vnd.macports.portpkg"],["pot","application/vnd.ms-powerpoint"],["potm","application/vnd.ms-powerpoint.presentation.macroEnabled.12"],["potx","application/vnd.openxmlformats-officedocument.presentationml.template"],["ppa","application/vnd.ms-powerpoint"],["ppam","application/vnd.ms-powerpoint.addin.macroEnabled.12"],["ppd","application/vnd.cups-ppd"],["ppm","image/x-portable-pixmap"],["pps","application/vnd.ms-powerpoint"],["ppsm","application/vnd.ms-powerpoint.slideshow.macroEnabled.12"],["ppsx","application/vnd.openxmlformats-officedocument.presentationml.slideshow"],["ppt","application/powerpoint"],["pptm","application/vnd.ms-powerpoint.presentation.macroEnabled.12"],["pptx","application/vnd.openxmlformats-officedocument.presentationml.presentation"],["pqa","application/vnd.palm"],["prc","application/x-pilot"],["pre","application/vnd.lotus-freelance"],["prf","application/pics-rules"],["provx","application/provenance+xml"],["ps","application/postscript"],["psb","application/vnd.3gpp.pic-bw-small"],["psd","application/x-photoshop"],["psf","application/x-font-linux-psf"],["pskcxml","application/pskc+xml"],["pti","image/prs.pti"],["ptid","application/vnd.pvi.ptid1"],["pub","application/x-mspublisher"],["pvb","application/vnd.3gpp.pic-bw-var"],["pwn","application/vnd.3m.post-it-notes"],["pya","audio/vnd.ms-playready.media.pya"],["pyv","video/vnd.ms-playready.media.pyv"],["qam","application/vnd.epson.quickanime"],["qbo","application/vnd.intu.qbo"],["qfx","application/vnd.intu.qfx"],["qps","application/vnd.publishare-delta-tree"],["qt","video/quicktime"],["qwd","application/vnd.quark.quarkxpress"],["qwt","application/vnd.quark.quarkxpress"],["qxb","application/vnd.quark.quarkxpress"],["qxd","application/vnd.quark.quarkxpress"],["qxl","application/vnd.quark.quarkxpress"],["qxt","application/vnd.quark.quarkxpress"],["ra","audio/x-realaudio"],["ram","audio/x-pn-realaudio"],["raml","application/raml+yaml"],["rapd","application/route-apd+xml"],["rar","application/x-rar"],["ras","image/x-cmu-raster"],["rcprofile","application/vnd.ipunplugged.rcprofile"],["rdf","application/rdf+xml"],["rdz","application/vnd.data-vision.rdz"],["relo","application/p2p-overlay+xml"],["rep","application/vnd.businessobjects"],["res","application/x-dtbresource+xml"],["rgb","image/x-rgb"],["rif","application/reginfo+xml"],["rip","audio/vnd.rip"],["ris","application/x-research-info-systems"],["rl","application/resource-lists+xml"],["rlc","image/vnd.fujixerox.edmics-rlc"],["rld","application/resource-lists-diff+xml"],["rm","audio/x-pn-realaudio"],["rmi","audio/midi"],["rmp","audio/x-pn-realaudio-plugin"],["rms","application/vnd.jcp.javame.midlet-rms"],["rmvb","application/vnd.rn-realmedia-vbr"],["rnc","application/relax-ng-compact-syntax"],["rng","application/xml"],["roa","application/rpki-roa"],["roff","text/troff"],["rp9","application/vnd.cloanto.rp9"],["rpm","audio/x-pn-realaudio-plugin"],["rpss","application/vnd.nokia.radio-presets"],["rpst","application/vnd.nokia.radio-preset"],["rq","application/sparql-query"],["rs","application/rls-services+xml"],["rsa","application/x-pkcs7"],["rsat","application/atsc-rsat+xml"],["rsd","application/rsd+xml"],["rsheet","application/urc-ressheet+xml"],["rss","application/rss+xml"],["rtf","text/rtf"],["rtx","text/richtext"],["run","application/x-makeself"],["rusd","application/route-usd+xml"],["rv","video/vnd.rn-realvideo"],["s","text/x-asm"],["s3m","audio/s3m"],["saf","application/vnd.yamaha.smaf-audio"],["sass","text/x-sass"],["sbml","application/sbml+xml"],["sc","application/vnd.ibm.secure-container"],["scd","application/x-msschedule"],["scm","application/vnd.lotus-screencam"],["scq","application/scvp-cv-request"],["scs","application/scvp-cv-response"],["scss","text/x-scss"],["scurl","text/vnd.curl.scurl"],["sda","application/vnd.stardivision.draw"],["sdc","application/vnd.stardivision.calc"],["sdd","application/vnd.stardivision.impress"],["sdkd","application/vnd.solent.sdkm+xml"],["sdkm","application/vnd.solent.sdkm+xml"],["sdp","application/sdp"],["sdw","application/vnd.stardivision.writer"],["sea","application/octet-stream"],["see","application/vnd.seemail"],["seed","application/vnd.fdsn.seed"],["sema","application/vnd.sema"],["semd","application/vnd.semd"],["semf","application/vnd.semf"],["senmlx","application/senml+xml"],["sensmlx","application/sensml+xml"],["ser","application/java-serialized-object"],["setpay","application/set-payment-initiation"],["setreg","application/set-registration-initiation"],["sfd-hdstx","application/vnd.hydrostatix.sof-data"],["sfs","application/vnd.spotfire.sfs"],["sfv","text/x-sfv"],["sgi","image/sgi"],["sgl","application/vnd.stardivision.writer-global"],["sgm","text/sgml"],["sgml","text/sgml"],["sh","application/x-sh"],["shar","application/x-shar"],["shex","text/shex"],["shf","application/shf+xml"],["shtml","text/html"],["sid","image/x-mrsid-image"],["sieve","application/sieve"],["sig","application/pgp-signature"],["sil","audio/silk"],["silo","model/mesh"],["sis","application/vnd.symbian.install"],["sisx","application/vnd.symbian.install"],["sit","application/x-stuffit"],["sitx","application/x-stuffitx"],["siv","application/sieve"],["skd","application/vnd.koan"],["skm","application/vnd.koan"],["skp","application/vnd.koan"],["skt","application/vnd.koan"],["sldm","application/vnd.ms-powerpoint.slide.macroenabled.12"],["sldx","application/vnd.openxmlformats-officedocument.presentationml.slide"],["slim","text/slim"],["slm","text/slim"],["sls","application/route-s-tsid+xml"],["slt","application/vnd.epson.salt"],["sm","application/vnd.stepmania.stepchart"],["smf","application/vnd.stardivision.math"],["smi","application/smil"],["smil","application/smil"],["smv","video/x-smv"],["smzip","application/vnd.stepmania.package"],["snd","audio/basic"],["snf","application/x-font-snf"],["so","application/octet-stream"],["spc","application/x-pkcs7-certificates"],["spdx","text/spdx"],["spf","application/vnd.yamaha.smaf-phrase"],["spl","application/x-futuresplash"],["spot","text/vnd.in3d.spot"],["spp","application/scvp-vp-response"],["spq","application/scvp-vp-request"],["spx","audio/ogg"],["sql","application/x-sql"],["src","application/x-wais-source"],["srt","application/x-subrip"],["sru","application/sru+xml"],["srx","application/sparql-results+xml"],["ssdl","application/ssdl+xml"],["sse","application/vnd.kodak-descriptor"],["ssf","application/vnd.epson.ssf"],["ssml","application/ssml+xml"],["sst","application/octet-stream"],["st","application/vnd.sailingtracker.track"],["stc","application/vnd.sun.xml.calc.template"],["std","application/vnd.sun.xml.draw.template"],["stf","application/vnd.wt.stf"],["sti","application/vnd.sun.xml.impress.template"],["stk","application/hyperstudio"],["stl","model/stl"],["stpx","model/step+xml"],["stpxz","model/step-xml+zip"],["stpz","model/step+zip"],["str","application/vnd.pg.format"],["stw","application/vnd.sun.xml.writer.template"],["styl","text/stylus"],["stylus","text/stylus"],["sub","text/vnd.dvb.subtitle"],["sus","application/vnd.sus-calendar"],["susp","application/vnd.sus-calendar"],["sv4cpio","application/x-sv4cpio"],["sv4crc","application/x-sv4crc"],["svc","application/vnd.dvb.service"],["svd","application/vnd.svd"],["svg","image/svg+xml"],["svgz","image/svg+xml"],["swa","application/x-director"],["swf","application/x-shockwave-flash"],["swi","application/vnd.aristanetworks.swi"],["swidtag","application/swid+xml"],["sxc","application/vnd.sun.xml.calc"],["sxd","application/vnd.sun.xml.draw"],["sxg","application/vnd.sun.xml.writer.global"],["sxi","application/vnd.sun.xml.impress"],["sxm","application/vnd.sun.xml.math"],["sxw","application/vnd.sun.xml.writer"],["t","text/troff"],["t3","application/x-t3vm-image"],["t38","image/t38"],["taglet","application/vnd.mynfc"],["tao","application/vnd.tao.intent-module-archive"],["tap","image/vnd.tencent.tap"],["tar","application/x-tar"],["tcap","application/vnd.3gpp2.tcap"],["tcl","application/x-tcl"],["td","application/urc-targetdesc+xml"],["teacher","application/vnd.smart.teacher"],["tei","application/tei+xml"],["teicorpus","application/tei+xml"],["tex","application/x-tex"],["texi","application/x-texinfo"],["texinfo","application/x-texinfo"],["text","text/plain"],["tfi","application/thraud+xml"],["tfm","application/x-tex-tfm"],["tfx","image/tiff-fx"],["tga","image/x-tga"],["tgz","application/x-tar"],["thmx","application/vnd.ms-officetheme"],["tif","image/tiff"],["tiff","image/tiff"],["tk","application/x-tcl"],["tmo","application/vnd.tmobile-livetv"],["toml","application/toml"],["torrent","application/x-bittorrent"],["tpl","application/vnd.groove-tool-template"],["tpt","application/vnd.trid.tpt"],["tr","text/troff"],["tra","application/vnd.trueapp"],["trig","application/trig"],["trm","application/x-msterminal"],["ts","video/mp2t"],["tsd","application/timestamped-data"],["tsv","text/tab-separated-values"],["ttc","font/collection"],["ttf","font/ttf"],["ttl","text/turtle"],["ttml","application/ttml+xml"],["twd","application/vnd.simtech-mindmapper"],["twds","application/vnd.simtech-mindmapper"],["txd","application/vnd.genomatix.tuxedo"],["txf","application/vnd.mobius.txf"],["txt","text/plain"],["u8dsn","message/global-delivery-status"],["u8hdr","message/global-headers"],["u8mdn","message/global-disposition-notification"],["u8msg","message/global"],["u32","application/x-authorware-bin"],["ubj","application/ubjson"],["udeb","application/x-debian-package"],["ufd","application/vnd.ufdl"],["ufdl","application/vnd.ufdl"],["ulx","application/x-glulx"],["umj","application/vnd.umajin"],["unityweb","application/vnd.unity"],["uoml","application/vnd.uoml+xml"],["uri","text/uri-list"],["uris","text/uri-list"],["urls","text/uri-list"],["usdz","model/vnd.usdz+zip"],["ustar","application/x-ustar"],["utz","application/vnd.uiq.theme"],["uu","text/x-uuencode"],["uva","audio/vnd.dece.audio"],["uvd","application/vnd.dece.data"],["uvf","application/vnd.dece.data"],["uvg","image/vnd.dece.graphic"],["uvh","video/vnd.dece.hd"],["uvi","image/vnd.dece.graphic"],["uvm","video/vnd.dece.mobile"],["uvp","video/vnd.dece.pd"],["uvs","video/vnd.dece.sd"],["uvt","application/vnd.dece.ttml+xml"],["uvu","video/vnd.uvvu.mp4"],["uvv","video/vnd.dece.video"],["uvva","audio/vnd.dece.audio"],["uvvd","application/vnd.dece.data"],["uvvf","application/vnd.dece.data"],["uvvg","image/vnd.dece.graphic"],["uvvh","video/vnd.dece.hd"],["uvvi","image/vnd.dece.graphic"],["uvvm","video/vnd.dece.mobile"],["uvvp","video/vnd.dece.pd"],["uvvs","video/vnd.dece.sd"],["uvvt","application/vnd.dece.ttml+xml"],["uvvu","video/vnd.uvvu.mp4"],["uvvv","video/vnd.dece.video"],["uvvx","application/vnd.dece.unspecified"],["uvvz","application/vnd.dece.zip"],["uvx","application/vnd.dece.unspecified"],["uvz","application/vnd.dece.zip"],["vbox","application/x-virtualbox-vbox"],["vbox-extpack","application/x-virtualbox-vbox-extpack"],["vcard","text/vcard"],["vcd","application/x-cdlink"],["vcf","text/x-vcard"],["vcg","application/vnd.groove-vcard"],["vcs","text/x-vcalendar"],["vcx","application/vnd.vcx"],["vdi","application/x-virtualbox-vdi"],["vds","model/vnd.sap.vds"],["vhd","application/x-virtualbox-vhd"],["vis","application/vnd.visionary"],["viv","video/vnd.vivo"],["vlc","application/videolan"],["vmdk","application/x-virtualbox-vmdk"],["vob","video/x-ms-vob"],["vor","application/vnd.stardivision.writer"],["vox","application/x-authorware-bin"],["vrml","model/vrml"],["vsd","application/vnd.visio"],["vsf","application/vnd.vsf"],["vss","application/vnd.visio"],["vst","application/vnd.visio"],["vsw","application/vnd.visio"],["vtf","image/vnd.valve.source.texture"],["vtt","text/vtt"],["vtu","model/vnd.vtu"],["vxml","application/voicexml+xml"],["w3d","application/x-director"],["wad","application/x-doom"],["wadl","application/vnd.sun.wadl+xml"],["war","application/java-archive"],["wasm","application/wasm"],["wav","audio/x-wav"],["wax","audio/x-ms-wax"],["wbmp","image/vnd.wap.wbmp"],["wbs","application/vnd.criticaltools.wbs+xml"],["wbxml","application/wbxml"],["wcm","application/vnd.ms-works"],["wdb","application/vnd.ms-works"],["wdp","image/vnd.ms-photo"],["weba","audio/webm"],["webapp","application/x-web-app-manifest+json"],["webm","video/webm"],["webmanifest","application/manifest+json"],["webp","image/webp"],["wg","application/vnd.pmi.widget"],["wgt","application/widget"],["wks","application/vnd.ms-works"],["wm","video/x-ms-wm"],["wma","audio/x-ms-wma"],["wmd","application/x-ms-wmd"],["wmf","image/wmf"],["wml","text/vnd.wap.wml"],["wmlc","application/wmlc"],["wmls","text/vnd.wap.wmlscript"],["wmlsc","application/vnd.wap.wmlscriptc"],["wmv","video/x-ms-wmv"],["wmx","video/x-ms-wmx"],["wmz","application/x-msmetafile"],["woff","font/woff"],["woff2","font/woff2"],["word","application/msword"],["wpd","application/vnd.wordperfect"],["wpl","application/vnd.ms-wpl"],["wps","application/vnd.ms-works"],["wqd","application/vnd.wqd"],["wri","application/x-mswrite"],["wrl","model/vrml"],["wsc","message/vnd.wfa.wsc"],["wsdl","application/wsdl+xml"],["wspolicy","application/wspolicy+xml"],["wtb","application/vnd.webturbo"],["wvx","video/x-ms-wvx"],["x3d","model/x3d+xml"],["x3db","model/x3d+fastinfoset"],["x3dbz","model/x3d+binary"],["x3dv","model/x3d-vrml"],["x3dvz","model/x3d+vrml"],["x3dz","model/x3d+xml"],["x32","application/x-authorware-bin"],["x_b","model/vnd.parasolid.transmit.binary"],["x_t","model/vnd.parasolid.transmit.text"],["xaml","application/xaml+xml"],["xap","application/x-silverlight-app"],["xar","application/vnd.xara"],["xav","application/xcap-att+xml"],["xbap","application/x-ms-xbap"],["xbd","application/vnd.fujixerox.docuworks.binder"],["xbm","image/x-xbitmap"],["xca","application/xcap-caps+xml"],["xcs","application/calendar+xml"],["xdf","application/xcap-diff+xml"],["xdm","application/vnd.syncml.dm+xml"],["xdp","application/vnd.adobe.xdp+xml"],["xdssc","application/dssc+xml"],["xdw","application/vnd.fujixerox.docuworks"],["xel","application/xcap-el+xml"],["xenc","application/xenc+xml"],["xer","application/patch-ops-error+xml"],["xfdf","application/vnd.adobe.xfdf"],["xfdl","application/vnd.xfdl"],["xht","application/xhtml+xml"],["xhtml","application/xhtml+xml"],["xhvml","application/xv+xml"],["xif","image/vnd.xiff"],["xl","application/excel"],["xla","application/vnd.ms-excel"],["xlam","application/vnd.ms-excel.addin.macroEnabled.12"],["xlc","application/vnd.ms-excel"],["xlf","application/xliff+xml"],["xlm","application/vnd.ms-excel"],["xls","application/vnd.ms-excel"],["xlsb","application/vnd.ms-excel.sheet.binary.macroEnabled.12"],["xlsm","application/vnd.ms-excel.sheet.macroEnabled.12"],["xlsx","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"],["xlt","application/vnd.ms-excel"],["xltm","application/vnd.ms-excel.template.macroEnabled.12"],["xltx","application/vnd.openxmlformats-officedocument.spreadsheetml.template"],["xlw","application/vnd.ms-excel"],["xm","audio/xm"],["xml","application/xml"],["xns","application/xcap-ns+xml"],["xo","application/vnd.olpc-sugar"],["xop","application/xop+xml"],["xpi","application/x-xpinstall"],["xpl","application/xproc+xml"],["xpm","image/x-xpixmap"],["xpr","application/vnd.is-xpr"],["xps","application/vnd.ms-xpsdocument"],["xpw","application/vnd.intercon.formnet"],["xpx","application/vnd.intercon.formnet"],["xsd","application/xml"],["xsl","application/xml"],["xslt","application/xslt+xml"],["xsm","application/vnd.syncml+xml"],["xspf","application/xspf+xml"],["xul","application/vnd.mozilla.xul+xml"],["xvm","application/xv+xml"],["xvml","application/xv+xml"],["xwd","image/x-xwindowdump"],["xyz","chemical/x-xyz"],["xz","application/x-xz"],["yaml","text/yaml"],["yang","application/yang"],["yin","application/yin+xml"],["yml","text/yaml"],["ymp","text/x-suse-ymp"],["z","application/x-compress"],["z1","application/x-zmachine"],["z2","application/x-zmachine"],["z3","application/x-zmachine"],["z4","application/x-zmachine"],["z5","application/x-zmachine"],["z6","application/x-zmachine"],["z7","application/x-zmachine"],["z8","application/x-zmachine"],["zaz","application/vnd.zzazz.deck+xml"],["zip","application/zip"],["zir","application/vnd.zul"],["zirz","application/vnd.zul"],["zmm","application/vnd.handheld-entertainment+xml"],["zsh","text/x-scriptzsh"]]);function gr(t,e,n){const r=ax(t),{webkitRelativePath:i}=t,a=typeof e=="string"?e:typeof i=="string"&&i.length>0?i:`./${t.name}`;return typeof r.path!="string"&&rd(r,"path",a),rd(r,"relativePath",a),r}function ax(t){const{name:e}=t;if(e&&e.lastIndexOf(".")!==-1&&!t.type){const r=e.split(".").pop().toLowerCase(),i=ix.get(r);i&&Object.defineProperty(t,"type",{value:i,writable:!1,configurable:!1,enumerable:!0})}return t}function rd(t,e,n){Object.defineProperty(t,e,{value:n,writable:!1,configurable:!1,enumerable:!0})}const sx=[".DS_Store","Thumbs.db"];function ox(t){return On(this,void 0,void 0,function*(){return Va(t)&&lx(t.dataTransfer)?px(t.dataTransfer,t.type):cx(t)?ux(t):Array.isArray(t)&&t.every(e=>"getFile"in e&&typeof e.getFile=="function")?dx(t):[]})}function lx(t){return Va(t)}function cx(t){return Va(t)&&Va(t.target)}function Va(t){return typeof t=="object"&&t!==null}function ux(t){return ml(t.target.files).map(e=>gr(e))}function dx(t){return On(this,void 0,void 0,function*(){return(yield Promise.all(t.map(n=>n.getFile()))).map(n=>gr(n))})}function px(t,e){return On(this,void 0,void 0,function*(){if(t.items){const n=ml(t.items).filter(i=>i.kind==="file");if(e!=="drop")return n;const r=yield Promise.all(n.map(fx));return id(yh(r))}return id(ml(t.files).map(n=>gr(n)))})}function id(t){return t.filter(e=>sx.indexOf(e.name)===-1)}function ml(t){if(t===null)return[];const e=[];for(let n=0;n<t.length;n++){const r=t[n];e.push(r)}return e}function fx(t){if(typeof t.webkitGetAsEntry!="function")return ad(t);const e=t.webkitGetAsEntry();return e&&e.isDirectory?xh(e):ad(t,e)}function yh(t){return t.reduce((e,n)=>[...e,...Array.isArray(n)?yh(n):[n]],[])}function ad(t,e){return On(this,void 0,void 0,function*(){var n;if(globalThis.isSecureContext&&typeof t.getAsFileSystemHandle=="function"){const a=yield t.getAsFileSystemHandle();if(a===null)throw new Error(`${t} is not a File`);if(a!==void 0){const s=yield a.getFile();return s.handle=a,gr(s)}}const r=t.getAsFile();if(!r)throw new Error(`${t} is not a File`);return gr(r,(n=e==null?void 0:e.fullPath)!==null&&n!==void 0?n:void 0)})}function hx(t){return On(this,void 0,void 0,function*(){return t.isDirectory?xh(t):mx(t)})}function xh(t){const e=t.createReader();return new Promise((n,r)=>{const i=[];function a(){e.readEntries(s=>On(this,void 0,void 0,function*(){if(s.length){const l=Promise.all(s.map(hx));i.push(l),a()}else try{const l=yield Promise.all(i);n(l)}catch(l){r(l)}}),s=>{r(s)})}a()})}function mx(t){return On(this,void 0,void 0,function*(){return new Promise((e,n)=>{t.file(r=>{const i=gr(r,t.fullPath);e(i)},r=>{n(r)})})})}var lo=function(t,e){if(t&&e){var n=Array.isArray(e)?e:e.split(",");if(n.length===0)return!0;var r=t.name||"",i=(t.type||"").toLowerCase(),a=i.replace(/\/.*$/,"");return n.some(function(s){var l=s.trim().toLowerCase();return l.charAt(0)==="."?r.toLowerCase().endsWith(l):l.endsWith("/*")?a===l.replace(/\/.*$/,""):i===l})}return!0};function sd(t){return yx(t)||vx(t)||_h(t)||gx()}function gx(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function vx(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function yx(t){if(Array.isArray(t))return gl(t)}function od(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ld(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?od(Object(n),!0).forEach(function(r){wh(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):od(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function wh(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function xi(t,e){return _x(t)||wx(t,e)||_h(t,e)||xx()}function xx(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _h(t,e){if(t){if(typeof t=="string")return gl(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return gl(t,e)}}function gl(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function wx(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r=[],i=!0,a=!1,s,l;try{for(n=n.call(t);!(i=(s=n.next()).done)&&(r.push(s.value),!(e&&r.length===e));i=!0);}catch(c){a=!0,l=c}finally{try{!i&&n.return!=null&&n.return()}finally{if(a)throw l}}return r}}function _x(t){if(Array.isArray(t))return t}var bx=typeof lo=="function"?lo:lo.default,kx="file-invalid-type",jx="file-too-large",Sx="file-too-small",Ex="too-many-files",Nx=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",n=e.split(","),r=n.length>1?"one of ".concat(n.join(", ")):n[0];return{code:kx,message:"File type must be ".concat(r)}},cd=function(e){return{code:jx,message:"File is larger than ".concat(e," ").concat(e===1?"byte":"bytes")}},ud=function(e){return{code:Sx,message:"File is smaller than ".concat(e," ").concat(e===1?"byte":"bytes")}},Cx={code:Ex,message:"Too many files"};function bh(t,e){var n=t.type==="application/x-moz-file"||bx(t,e);return[n,n?null:Nx(e)]}function kh(t,e,n){if(gn(t.size))if(gn(e)&&gn(n)){if(t.size>n)return[!1,cd(n)];if(t.size<e)return[!1,ud(e)]}else{if(gn(e)&&t.size<e)return[!1,ud(e)];if(gn(n)&&t.size>n)return[!1,cd(n)]}return[!0,null]}function gn(t){return t!=null}function Px(t){var e=t.files,n=t.accept,r=t.minSize,i=t.maxSize,a=t.multiple,s=t.maxFiles,l=t.validator;return!a&&e.length>1||a&&s>=1&&e.length>s?!1:e.every(function(c){var u=bh(c,n),d=xi(u,1),p=d[0],f=kh(c,r,i),v=xi(f,1),x=v[0],y=l?l(c):null;return p&&x&&!y})}function Ka(t){return typeof t.isPropagationStopped=="function"?t.isPropagationStopped():typeof t.cancelBubble<"u"?t.cancelBubble:!1}function ta(t){return t.dataTransfer?Array.prototype.some.call(t.dataTransfer.types,function(e){return e==="Files"||e==="application/x-moz-file"}):!!t.target&&!!t.target.files}function dd(t){t.preventDefault()}function Tx(t){return t.indexOf("MSIE")!==-1||t.indexOf("Trident/")!==-1}function Ox(t){return t.indexOf("Edge/")!==-1}function Dx(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:window.navigator.userAgent;return Tx(t)||Ox(t)}function vt(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return function(r){for(var i=arguments.length,a=new Array(i>1?i-1:0),s=1;s<i;s++)a[s-1]=arguments[s];return e.some(function(l){return!Ka(r)&&l&&l.apply(void 0,[r].concat(a)),Ka(r)})}}function Ax(){return"showOpenFilePicker"in window}function Rx(t){if(gn(t)){var e=Object.entries(t).filter(function(n){var r=xi(n,2),i=r[0],a=r[1],s=!0;return jh(i)||(console.warn('Skipped "'.concat(i,'" because it is not a valid MIME type. Check https://developer.mozilla.org/en-US/docs/Web/HTTP/Basics_of_HTTP/MIME_types/Common_types for a list of valid MIME types.')),s=!1),(!Array.isArray(a)||!a.every(Sh))&&(console.warn('Skipped "'.concat(i,'" because an invalid file extension was provided.')),s=!1),s}).reduce(function(n,r){var i=xi(r,2),a=i[0],s=i[1];return ld(ld({},n),{},wh({},a,s))},{});return[{description:"Files",accept:e}]}return t}function Ix(t){if(gn(t))return Object.entries(t).reduce(function(e,n){var r=xi(n,2),i=r[0],a=r[1];return[].concat(sd(e),[i],sd(a))},[]).filter(function(e){return jh(e)||Sh(e)}).join(",")}function Mx(t){return t instanceof DOMException&&(t.name==="AbortError"||t.code===t.ABORT_ERR)}function Ux(t){return t instanceof DOMException&&(t.name==="SecurityError"||t.code===t.SECURITY_ERR)}function jh(t){return t==="audio/*"||t==="video/*"||t==="image/*"||t==="text/*"||t==="application/*"||/\w+\/[-+.\w]+/g.test(t)}function Sh(t){return/^.*\.[\w]+$/.test(t)}var $x=["children"],Lx=["open"],zx=["refKey","role","onKeyDown","onFocus","onBlur","onClick","onDragEnter","onDragOver","onDragLeave","onDrop"],Fx=["refKey","onChange","onClick"];function Bx(t){return Hx(t)||qx(t)||Eh(t)||Wx()}function Wx(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function qx(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Hx(t){if(Array.isArray(t))return vl(t)}function co(t,e){return Gx(t)||Kx(t,e)||Eh(t,e)||Vx()}function Vx(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Eh(t,e){if(t){if(typeof t=="string")return vl(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return vl(t,e)}}function vl(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Kx(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r=[],i=!0,a=!1,s,l;try{for(n=n.call(t);!(i=(s=n.next()).done)&&(r.push(s.value),!(e&&r.length===e));i=!0);}catch(c){a=!0,l=c}finally{try{!i&&n.return!=null&&n.return()}finally{if(a)throw l}}return r}}function Gx(t){if(Array.isArray(t))return t}function pd(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function se(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?pd(Object(n),!0).forEach(function(r){yl(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):pd(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function yl(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ga(t,e){if(t==null)return{};var n=Yx(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Yx(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,a;for(a=0;a<r.length;a++)i=r[a],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var kc=j.forwardRef(function(t,e){var n=t.children,r=Ga(t,$x),i=Ch(r),a=i.open,s=Ga(i,Lx);return j.useImperativeHandle(e,function(){return{open:a}},[a]),em.createElement(j.Fragment,null,n(se(se({},s),{},{open:a})))});kc.displayName="Dropzone";var Nh={disabled:!1,getFilesFromEvent:ox,maxSize:1/0,minSize:0,multiple:!0,maxFiles:0,preventDropOnDocument:!0,noClick:!1,noKeyboard:!1,noDrag:!1,noDragEventsBubbling:!1,validator:null,useFsAccessApi:!1,autoFocus:!1};kc.defaultProps=Nh;kc.propTypes={children:J.func,accept:J.objectOf(J.arrayOf(J.string)),multiple:J.bool,preventDropOnDocument:J.bool,noClick:J.bool,noKeyboard:J.bool,noDrag:J.bool,noDragEventsBubbling:J.bool,minSize:J.number,maxSize:J.number,maxFiles:J.number,disabled:J.bool,getFilesFromEvent:J.func,onFileDialogCancel:J.func,onFileDialogOpen:J.func,useFsAccessApi:J.bool,autoFocus:J.bool,onDragEnter:J.func,onDragLeave:J.func,onDragOver:J.func,onDrop:J.func,onDropAccepted:J.func,onDropRejected:J.func,onError:J.func,validator:J.func};var xl={isFocused:!1,isFileDialogActive:!1,isDragActive:!1,isDragAccept:!1,isDragReject:!1,acceptedFiles:[],fileRejections:[]};function Ch(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=se(se({},Nh),t),n=e.accept,r=e.disabled,i=e.getFilesFromEvent,a=e.maxSize,s=e.minSize,l=e.multiple,c=e.maxFiles,u=e.onDragEnter,d=e.onDragLeave,p=e.onDragOver,f=e.onDrop,v=e.onDropAccepted,x=e.onDropRejected,y=e.onFileDialogCancel,_=e.onFileDialogOpen,g=e.useFsAccessApi,h=e.autoFocus,m=e.preventDropOnDocument,w=e.noClick,S=e.noKeyboard,b=e.noDrag,k=e.noDragEventsBubbling,C=e.onError,L=e.validator,A=j.useMemo(function(){return Ix(n)},[n]),W=j.useMemo(function(){return Rx(n)},[n]),M=j.useMemo(function(){return typeof _=="function"?_:fd},[_]),V=j.useMemo(function(){return typeof y=="function"?y:fd},[y]),Q=j.useRef(null),he=j.useRef(null),P=j.useReducer(Qx,xl),q=co(P,2),N=q[0],D=q[1],U=N.isFocused,re=N.isFileDialogActive,ae=j.useRef(typeof window<"u"&&window.isSecureContext&&g&&Ax()),ln=function(){!ae.current&&re&&setTimeout(function(){if(he.current){var I=he.current.files;I.length||(D({type:"closeDialog"}),V())}},300)};j.useEffect(function(){return window.addEventListener("focus",ln,!1),function(){window.removeEventListener("focus",ln,!1)}},[he,re,V,ae]);var Ue=j.useRef([]),Dn=function(I){Q.current&&Q.current.contains(I.target)||(I.preventDefault(),Ue.current=[])};j.useEffect(function(){return m&&(document.addEventListener("dragover",dd,!1),document.addEventListener("drop",Dn,!1)),function(){m&&(document.removeEventListener("dragover",dd),document.removeEventListener("drop",Dn))}},[Q,m]),j.useEffect(function(){return!r&&h&&Q.current&&Q.current.focus(),function(){}},[Q,h,r]);var De=j.useCallback(function(T){C?C(T):console.error(T)},[C]),cn=j.useCallback(function(T){T.preventDefault(),T.persist(),Oi(T),Ue.current=[].concat(Bx(Ue.current),[T.target]),ta(T)&&Promise.resolve(i(T)).then(function(I){if(!(Ka(T)&&!k)){var pe=I.length,ye=pe>0&&Px({files:I,accept:A,minSize:s,maxSize:a,multiple:l,maxFiles:c,validator:L}),He=pe>0&&!ye;D({isDragAccept:ye,isDragReject:He,isDragActive:!0,type:"setDraggedFiles"}),u&&u(T)}}).catch(function(I){return De(I)})},[i,u,De,k,A,s,a,l,c,L]),jc=j.useCallback(function(T){T.preventDefault(),T.persist(),Oi(T);var I=ta(T);if(I&&T.dataTransfer)try{T.dataTransfer.dropEffect="copy"}catch{}return I&&p&&p(T),!1},[p,k]),Sc=j.useCallback(function(T){T.preventDefault(),T.persist(),Oi(T);var I=Ue.current.filter(function(ye){return Q.current&&Q.current.contains(ye)}),pe=I.indexOf(T.target);pe!==-1&&I.splice(pe,1),Ue.current=I,!(I.length>0)&&(D({type:"setDraggedFiles",isDragActive:!1,isDragAccept:!1,isDragReject:!1}),ta(T)&&d&&d(T))},[Q,d,k]),Ci=j.useCallback(function(T,I){var pe=[],ye=[];T.forEach(function(He){var br=bh(He,A),In=co(br,2),ks=In[0],js=In[1],Ss=kh(He,s,a),Di=co(Ss,2),Es=Di[0],Ns=Di[1],Cs=L?L(He):null;if(ks&&Es&&!Cs)pe.push(He);else{var Ps=[js,Ns];Cs&&(Ps=Ps.concat(Cs)),ye.push({file:He,errors:Ps.filter(function(Uh){return Uh})})}}),(!l&&pe.length>1||l&&c>=1&&pe.length>c)&&(pe.forEach(function(He){ye.push({file:He,errors:[Cx]})}),pe.splice(0)),D({acceptedFiles:pe,fileRejections:ye,isDragReject:ye.length>0,type:"setFiles"}),f&&f(pe,ye,I),ye.length>0&&x&&x(ye,I),pe.length>0&&v&&v(pe,I)},[D,l,A,s,a,c,f,v,x,L]),Pi=j.useCallback(function(T){T.preventDefault(),T.persist(),Oi(T),Ue.current=[],ta(T)&&Promise.resolve(i(T)).then(function(I){Ka(T)&&!k||Ci(I,T)}).catch(function(I){return De(I)}),D({type:"reset"})},[i,Ci,De,k]),An=j.useCallback(function(){if(ae.current){D({type:"openDialog"}),M();var T={multiple:l,types:W};window.showOpenFilePicker(T).then(function(I){return i(I)}).then(function(I){Ci(I,null),D({type:"closeDialog"})}).catch(function(I){Mx(I)?(V(I),D({type:"closeDialog"})):Ux(I)?(ae.current=!1,he.current?(he.current.value=null,he.current.click()):De(new Error("Cannot open the file picker because the https://developer.mozilla.org/en-US/docs/Web/API/File_System_Access_API is not supported and no <input> was provided."))):De(I)});return}he.current&&(D({type:"openDialog"}),M(),he.current.value=null,he.current.click())},[D,M,V,g,Ci,De,W,l]),Ec=j.useCallback(function(T){!Q.current||!Q.current.isEqualNode(T.target)||(T.key===" "||T.key==="Enter"||T.keyCode===32||T.keyCode===13)&&(T.preventDefault(),An())},[Q,An]),Nc=j.useCallback(function(){D({type:"focus"})},[]),Cc=j.useCallback(function(){D({type:"blur"})},[]),Pc=j.useCallback(function(){w||(Dx()?setTimeout(An,0):An())},[w,An]),Rn=function(I){return r?null:I},bs=function(I){return S?null:Rn(I)},Ti=function(I){return b?null:Rn(I)},Oi=function(I){k&&I.stopPropagation()},Rh=j.useMemo(function(){return function(){var T=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},I=T.refKey,pe=I===void 0?"ref":I,ye=T.role,He=T.onKeyDown,br=T.onFocus,In=T.onBlur,ks=T.onClick,js=T.onDragEnter,Ss=T.onDragOver,Di=T.onDragLeave,Es=T.onDrop,Ns=Ga(T,zx);return se(se(yl({onKeyDown:bs(vt(He,Ec)),onFocus:bs(vt(br,Nc)),onBlur:bs(vt(In,Cc)),onClick:Rn(vt(ks,Pc)),onDragEnter:Ti(vt(js,cn)),onDragOver:Ti(vt(Ss,jc)),onDragLeave:Ti(vt(Di,Sc)),onDrop:Ti(vt(Es,Pi)),role:typeof ye=="string"&&ye!==""?ye:"presentation"},pe,Q),!r&&!S?{tabIndex:0}:{}),Ns)}},[Q,Ec,Nc,Cc,Pc,cn,jc,Sc,Pi,S,b,r]),Ih=j.useCallback(function(T){T.stopPropagation()},[]),Mh=j.useMemo(function(){return function(){var T=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},I=T.refKey,pe=I===void 0?"ref":I,ye=T.onChange,He=T.onClick,br=Ga(T,Fx),In=yl({accept:A,multiple:l,type:"file",style:{border:0,clip:"rect(0, 0, 0, 0)",clipPath:"inset(50%)",height:"1px",margin:"0 -1px -1px 0",overflow:"hidden",padding:0,position:"absolute",width:"1px",whiteSpace:"nowrap"},onChange:Rn(vt(ye,Pi)),onClick:Rn(vt(He,Ih)),tabIndex:-1},pe,he);return se(se({},In),br)}},[he,n,l,Pi,r]);return se(se({},N),{},{isFocused:U&&!r,getRootProps:Rh,getInputProps:Mh,rootRef:Q,inputRef:he,open:Rn(An)})}function Qx(t,e){switch(e.type){case"focus":return se(se({},t),{},{isFocused:!0});case"blur":return se(se({},t),{},{isFocused:!1});case"openDialog":return se(se({},xl),{},{isFileDialogActive:!0});case"closeDialog":return se(se({},t),{},{isFileDialogActive:!1});case"setDraggedFiles":return se(se({},t),{},{isDragActive:e.isDragActive,isDragAccept:e.isDragAccept,isDragReject:e.isDragReject});case"setFiles":return se(se({},t),{},{acceptedFiles:e.acceptedFiles,fileRejections:e.fileRejections,isDragReject:e.isDragReject});case"reset":return se({},xl);default:return t}}function fd(){}const Ph=t=>{const n=["application/pdf","application/vnd.openxmlformats-officedocument.wordprocessingml.document"];if(t.size>10485760)return{isValid:!1,error:"File size must be less than 10MB"};if(!n.includes(t.type))return{isValid:!1,error:"Only PDF and DOCX files are allowed"};const r=t.name.toLowerCase();return r.includes("..")||r.includes("/")||r.includes("\\")?{isValid:!1,error:"Invalid file name"}:t.size<100?{isValid:!1,error:"File appears to be empty or corrupted"}:{isValid:!0}},Th=t=>{switch(t){case"application/pdf":return"";case"application/vnd.openxmlformats-officedocument.wordprocessingml.document":return"";default:return""}},wl=t=>{if(t===0)return"0 Bytes";const e=1024,n=["Bytes","KB","MB","GB"],r=Math.floor(Math.log(t)/Math.log(e));return parseFloat((t/Math.pow(e,r)).toFixed(2))+" "+n[r]},Jx=async(t,e="resume.pdf")=>{try{const n=(await At(async()=>{const{default:p}=await import("./jspdf.es.min-BTddYGfP.js");return{default:p}},[])).default,r=new n;r.setFont("helvetica","normal"),r.setFontSize(12);const i=r.internal.pageSize.getWidth(),a=20,s=i-a*2,l=r.splitTextToSize(t,s);let c=a;const u=7,d=r.internal.pageSize.getHeight();l.forEach(p=>{c+u>d-a&&(r.addPage(),c=a),r.text(p,a,c),c+=u}),r.save(e)}catch(n){throw console.error("PDF generation error:",n),new Error("Failed to generate PDF. Please try again.")}},Xx=async(t,e="resume.docx")=>{try{const n=`
      <!DOCTYPE html>
      <html>
        <head>
          <meta charset="utf-8">
          <title>Resume</title>
          <style>
            body { font-family: Arial, sans-serif; line-height: 1.6; margin: 40px; }
            h1, h2, h3 { color: #333; }
            p { margin-bottom: 10px; }
          </style>
        </head>
        <body>
          <pre style="white-space: pre-wrap; font-family: Arial, sans-serif;">${t}</pre>
        </body>
      </html>
    `,r=new Blob([n],{type:"application/vnd.openxmlformats-officedocument.wordprocessingml.document"}),i=URL.createObjectURL(r),a=document.createElement("a");a.href=i,a.download=e,document.body.appendChild(a),a.click(),document.body.removeChild(a),URL.revokeObjectURL(i)}catch(n){throw console.error("DOCX generation error:",n),new Error("Failed to generate DOCX. Please try again.")}},Zx=Object.freeze(Object.defineProperty({__proto__:null,formatFileSize:wl,generateDOCX:Xx,generatePDF:Jx,getFileIcon:Th,validateFile:Ph},Symbol.toStringTag,{value:"Module"}));class uo{static async processFile(e){const n=Ph(e);if(!n.isValid)throw new Error(n.error);let r,i,a;try{if(e.type==="application/pdf"){const c=await this.extractTextFromPDF(e);r=c.text,a=c.pageCount,i="PDF.js"}else if(e.type==="application/vnd.openxmlformats-officedocument.wordprocessingml.document")r=await this.extractTextFromDOCX(e),i="Mammoth.js";else throw new Error("Unsupported file type");const s=this.cleanExtractedText(r);if(!s||s.trim().length<50)throw new Error("Insufficient text content extracted. Please ensure your resume contains readable text.");const l=this.countWords(s);return{text:s,metadata:{fileName:e.name,fileSize:e.size,fileType:e.type,pageCount:a,wordCount:l,extractionMethod:i}}}catch(s){throw console.error("File processing error:",s),new Error(`Failed to process file: ${s.message}`)}}static async extractTextFromPDF(e){var n,r,i,a,s;try{const l=await At(()=>import("./pdf-CLl1tYSi.js"),[]),c=`https://cdnjs.cloudflare.com/ajax/libs/pdf.js/${l.version}/pdf.worker.min.js`;l.GlobalWorkerOptions.workerSrc||(l.GlobalWorkerOptions.workerSrc=c);const u=await e.arrayBuffer(),p=await l.getDocument({data:u,verbosity:0,cMapUrl:"https://cdn.jsdelivr.net/npm/pdfjs-dist@3.11.174/cmaps/",cMapPacked:!0,standardFontDataUrl:"https://cdn.jsdelivr.net/npm/pdfjs-dist@3.11.174/standard_fonts/",useSystemFonts:!0,disableFontFace:!1,disableRange:!1,disableStream:!1,disableAutoFetch:!1,pdfBug:!1}).promise;let f="";const v=p.numPages;let x=0;for(let y=1;y<=v;y++)try{const h=(await(await p.getPage(y)).getTextContent({normalizeWhitespace:!0,disableCombineTextItems:!1})).items.filter(m=>m.str&&m.str.trim()).map(m=>m.str).join(" ");h.trim()&&(f+=h+`
`,x++)}catch(_){console.warn(`Error extracting text from page ${y}:`,_)}if(await p.destroy(),x===0)throw new Error("No readable text found in PDF. The document may contain only images or scanned content.");if(f.trim().length<50)throw new Error("Very little text extracted from PDF. The document may be primarily image-based or have formatting issues.");return{text:f.trim(),pageCount:v}}catch(l){throw console.error("PDF extraction error:",l),(n=l.message)!=null&&n.includes("Invalid PDF")?new Error("Invalid PDF file. Please ensure the file is not corrupted and is a valid PDF document."):(r=l.message)!=null&&r.includes("password")?new Error("Password-protected PDFs are not supported. Please upload an unprotected version."):(i=l.message)!=null&&i.includes("No readable text found")?new Error("This PDF appears to contain only images or scanned content. Please upload a PDF with selectable text or convert it using OCR software first."):(a=l.message)!=null&&a.includes("Very little text extracted")?new Error("Unable to extract sufficient text from this PDF. Please ensure it contains readable text content, not just images."):(s=l.message)!=null&&s.includes("Loading")?new Error("Failed to load PDF file. The file may be corrupted or too large."):l.name==="UnexpectedResponseException"?new Error("PDF processing failed due to network issues. Please try again."):new Error("Failed to extract text from PDF. The file may be corrupted, contain only images, or have an unsupported format. Please try uploading a different PDF or convert it to a text-based format.")}}static async extractTextFromDOCX(e){var n,r;try{const i=await At(()=>import("./index-DxXrsJIY.js").then(l=>l.i),[]),a=await e.arrayBuffer(),s=await i.extractRawText({arrayBuffer:a});if(s.messages&&s.messages.length>0&&console.warn("DOCX extraction warnings:",s.messages),!s.value||s.value.trim().length<50)throw new Error("Very little text extracted from DOCX. The document may be empty or contain primarily non-text content.");return s.value}catch(i){throw console.error("DOCX extraction error:",i),(n=i.message)!=null&&n.includes("not a valid zip file")?new Error("Invalid DOCX file. Please ensure the file is not corrupted and is a valid Word document."):(r=i.message)!=null&&r.includes("Very little text extracted")?new Error("Unable to extract sufficient text from this DOCX file. Please ensure it contains readable content."):new Error("Failed to extract text from DOCX file. The file may be corrupted or in an unsupported format.")}}static cleanExtractedText(e){return e.replace(/\s+/g," ").replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7F-\x9F]/g,"").replace(/\r\n/g,`
`).replace(/\r/g,`
`).replace(/\n{3,}/g,`

`).replace(/\f/g,`
`).replace(/\u00A0/g," ").trim()}static countWords(e){return e.split(/\s+/).filter(n=>n.length>0).length}static async validateResumeContent(e){const n=[];let r=!0;Object.entries({contact:/(?:email|phone|address|linkedin|github|contact)/i,experience:/(?:experience|work|employment|job|position|career)/i,education:/(?:education|degree|university|college|school|academic)/i,skills:/(?:skills|technologies|proficient|expertise|competencies)/i}).forEach(([s,l])=>{l.test(e)||n.push(`Consider adding a ${s} section to your resume`)});const a=this.countWords(e);return a<100?(r=!1,n.push("Resume appears too short. Consider adding more details about your experience and skills.")):a>1e3&&n.push("Resume is quite long. Consider condensing to 1-2 pages for better readability."),/\b\d{4}\b/.test(e)||n.push("Consider adding dates to your experience and education sections."),/(?:@|email)/i.test(e)||n.push("Make sure to include your email address for contact purposes."),(e.includes("")||/[^\x00-\x7F]{10,}/.test(e))&&n.push("Some characters may not have been extracted correctly. Please review the content."),{isValid:r,suggestions:n}}static generatePreview(e,n=500){return e.length<=n?e:e.substring(0,n)+"..."}static detectLanguage(e){const n=["the","and","or","but","in","on","at","to","for","of","with","by"],r=e.toLowerCase().split(/\s+/);return r.filter(s=>n.includes(s)).length/Math.min(r.length,100)>.1?"en":"unknown"}static extractContactInfo(e){const n={},r=e.match(/\b[A-Za-z0-9._%+-]+@[A-Za-z0-9.-]+\.[A-Z|a-z]{2,}\b/);r&&(n.email=r[0]);const i=e.match(/(?:\+?1[-.\s]?)?\(?[0-9]{3}\)?[-.\s]?[0-9]{3}[-.\s]?[0-9]{4}/);i&&(n.phone=i[0]);const a=e.match(/(?:linkedin\.com\/in\/|linkedin\.com\/pub\/)[A-Za-z0-9-]+/i);a&&(n.linkedin=a[0]);const s=e.match(/(?:github\.com\/)[A-Za-z0-9-]+/i);return s&&(n.github=s[0]),n}}const ew=({onFileSelect:t,selectedFile:e,processingResult:n,onClearFile:r})=>{const[i,a]=j.useState(!1),[s,l]=j.useState(""),[c,u]=j.useState(!1),d=j.useCallback(async x=>{if(x.length>0){const y=x[0];a(!0),l("");try{const _=await uo.processFile(y),g=await uo.validateResumeContent(_.text);if(!g.isValid){l("Resume validation failed: "+g.suggestions.join(", ")),a(!1);return}t(y,_)}catch(_){console.error("File processing error:",_),l(_.message||"Failed to process file")}finally{a(!1)}}},[t]),{getRootProps:p,getInputProps:f,isDragActive:v}=Ch({onDrop:d,accept:{"application/pdf":[".pdf"],"application/vnd.openxmlformats-officedocument.wordprocessingml.document":[".docx"]},maxFiles:1,multiple:!1,disabled:i});return e&&n?o.jsxs("div",{className:"space-y-4",children:[o.jsxs(X,{className:"border-green-200 bg-green-50",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx(qa,{className:"w-8 h-8 text-green-500"}),o.jsx("div",{className:"flex-1",children:o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("span",{className:"text-lg",children:Th(e.type)}),o.jsxs("div",{children:[o.jsx("p",{className:"font-medium text-gray-900",children:e.name}),o.jsxs("p",{className:"text-sm text-gray-600",children:[wl(e.size),"  ",n.metadata.wordCount," words",n.metadata.pageCount&&`  ${n.metadata.pageCount} pages`]})]})]})})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(H,{variant:"ghost",size:"sm",onClick:()=>u(!c),children:o.jsx(_c,{className:"w-4 h-4"})}),o.jsx(H,{variant:"ghost",size:"sm",onClick:r,children:o.jsx(yi,{className:"w-4 h-4"})})]})]}),o.jsx("div",{className:"mt-3 pt-3 border-t border-green-200",children:o.jsxs("div",{className:"flex items-center space-x-4 text-sm text-gray-600",children:[o.jsx("span",{children:" Text extracted successfully"}),o.jsx("span",{children:" Content validated"}),o.jsx("span",{children:" Ready for analysis"})]})}),c&&o.jsxs("div",{className:"mt-4 pt-4 border-t border-green-200",children:[o.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Content Preview:"}),o.jsx("div",{className:"bg-white p-3 rounded border max-h-40 overflow-y-auto",children:o.jsx("pre",{className:"text-sm text-gray-700 whitespace-pre-wrap",children:uo.generatePreview(n.text,300)})})]})]}),o.jsx(X,{className:"bg-blue-50 border-blue-200",children:o.jsxs("div",{className:"flex items-start space-x-2",children:[o.jsx(z0,{className:"w-5 h-5 text-blue-600 mt-0.5"}),o.jsxs("div",{className:"flex-1",children:[o.jsx("h4",{className:"font-medium text-blue-900 mb-2",children:"Processing Details"}),o.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[o.jsxs("div",{children:[o.jsx("span",{className:"text-blue-700",children:"Extraction Method:"}),o.jsx("span",{className:"ml-2 text-blue-900",children:n.metadata.extractionMethod})]}),o.jsxs("div",{children:[o.jsx("span",{className:"text-blue-700",children:"Word Count:"}),o.jsx("span",{className:"ml-2 text-blue-900",children:n.metadata.wordCount})]}),n.metadata.pageCount&&o.jsxs("div",{children:[o.jsx("span",{className:"text-blue-700",children:"Pages:"}),o.jsx("span",{className:"ml-2 text-blue-900",children:n.metadata.pageCount})]}),o.jsxs("div",{children:[o.jsx("span",{className:"text-blue-700",children:"File Size:"}),o.jsx("span",{className:"ml-2 text-blue-900",children:wl(n.metadata.fileSize)})]})]})]})]})})]}):o.jsxs(X,{className:"text-center",padding:"lg",children:[s&&o.jsx("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 rounded-lg",children:o.jsxs("div",{className:"flex items-center space-x-2 text-red-700",children:[o.jsx(ch,{className:"w-5 h-5"}),o.jsx("p",{className:"text-sm",children:s})]})}),o.jsxs("div",{...p(),className:`
          border-2 border-dashed rounded-xl p-8 cursor-pointer transition-all duration-200
          ${v?"border-blue-500 bg-blue-50":"border-gray-300 hover:border-gray-400 hover:bg-gray-50"}
          ${i?"pointer-events-none opacity-75":""}
        `,children:[o.jsx("input",{...f()}),o.jsxs("div",{className:"space-y-4",children:[i?o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"animate-spin mx-auto w-12 h-12 border-4 border-blue-500 border-t-transparent rounded-full"}),o.jsxs("div",{children:[o.jsx("p",{className:"text-lg font-medium text-gray-900",children:"Processing your resume..."}),o.jsx("p",{className:"text-gray-500 mt-1",children:"Extracting text and validating content"})]})]}):o.jsxs(o.Fragment,{children:[o.jsx(Y0,{className:`mx-auto w-12 h-12 ${v?"text-blue-500":"text-gray-400"}`}),o.jsxs("div",{children:[o.jsx("p",{className:"text-lg font-medium text-gray-900",children:v?"Drop your resume here":"Upload your resume"}),o.jsx("p",{className:"text-gray-500 mt-1",children:v?"Release to upload":"Drag & drop your resume here, or click to browse"})]})]}),o.jsxs("div",{className:"flex items-center justify-center space-x-2 text-sm text-gray-500",children:[o.jsx($0,{className:"w-4 h-4"}),o.jsx("span",{children:"Supports PDF and DOCX files up to 10MB"})]}),o.jsxs("div",{className:"mt-6 pt-4 border-t border-gray-200",children:[o.jsx("p",{className:"text-sm font-medium text-gray-700 mb-2",children:"What we'll do with your file:"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 text-xs text-gray-600",children:[o.jsxs("div",{className:"flex items-center space-x-1",children:[o.jsx("span",{className:"text-green-500",children:""}),o.jsx("span",{children:"Extract text content"})]}),o.jsxs("div",{className:"flex items-center space-x-1",children:[o.jsx("span",{className:"text-green-500",children:""}),o.jsx("span",{children:"Validate resume structure"})]}),o.jsxs("div",{className:"flex items-center space-x-1",children:[o.jsx("span",{className:"text-green-500",children:""}),o.jsx("span",{children:"Detect contact information"})]}),o.jsxs("div",{className:"flex items-center space-x-1",children:[o.jsx("span",{className:"text-green-500",children:""}),o.jsx("span",{children:"Prepare for AI analysis"})]})]})]})]})]})]})},tw=({value:t,onChange:e})=>o.jsxs(X,{children:[o.jsxs("div",{className:"mb-4",children:[o.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[o.jsx(R0,{className:"w-5 h-5 text-blue-600"}),o.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Job Description"})]}),o.jsx("p",{className:"text-gray-600 text-sm",children:"Paste the job description you're applying for. Our AI will analyze it to tailor your resume."})]}),o.jsx("textarea",{value:t,onChange:n=>e(n.target.value),placeholder:"Paste the complete job description here including requirements, responsibilities, and qualifications...",className:"w-full h-64 p-4 border border-gray-300 rounded-lg resize-none focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors duration-200"})]}),nw=({templates:t,selectedTemplate:e,onTemplateSelect:n,hasActiveSubscription:r})=>o.jsxs(X,{children:[o.jsxs("div",{className:"mb-6",children:[o.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Choose Template"}),o.jsx("p",{className:"text-gray-600 text-sm",children:"Select an ATS-friendly template for your tailored resume"})]}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:t.map(i=>{const a=e===i.id,s=!i.is_premium||r;return o.jsxs("div",{className:`
                relative border-2 rounded-lg overflow-hidden cursor-pointer transition-all duration-200
                ${a?"border-blue-500 ring-2 ring-blue-200":"border-gray-200 hover:border-gray-300"}
                ${!s&&"opacity-75"}
              `,onClick:()=>s&&n(i.id),children:[i.is_premium&&o.jsx("div",{className:"absolute top-2 right-2 z-10",children:o.jsxs("div",{className:"bg-gradient-to-r from-yellow-400 to-orange-500 text-white px-2 py-1 rounded-full text-xs font-medium flex items-center space-x-1",children:[o.jsx(Nn,{className:"w-3 h-3"}),o.jsx("span",{children:"Premium"})]})}),a&&o.jsx("div",{className:"absolute top-2 left-2 z-10",children:o.jsx("div",{className:"bg-blue-500 text-white p-1 rounded-full",children:o.jsx(vi,{className:"w-4 h-4"})})}),o.jsx("div",{className:"aspect-[3/4] bg-gradient-to-br from-gray-100 to-gray-200 relative",children:o.jsx("div",{className:"absolute inset-4 bg-white rounded shadow-sm p-3",children:o.jsxs("div",{className:"space-y-2",children:[o.jsx("div",{className:"h-2 bg-gray-300 rounded w-3/4"}),o.jsx("div",{className:"h-1 bg-gray-200 rounded w-1/2"}),o.jsxs("div",{className:"space-y-1 mt-3",children:[o.jsx("div",{className:"h-1 bg-gray-200 rounded"}),o.jsx("div",{className:"h-1 bg-gray-200 rounded w-5/6"}),o.jsx("div",{className:"h-1 bg-gray-200 rounded w-4/6"})]}),o.jsxs("div",{className:"mt-3 space-y-1",children:[o.jsx("div",{className:"h-1 bg-gray-300 rounded w-1/3"}),o.jsx("div",{className:"h-1 bg-gray-200 rounded"}),o.jsx("div",{className:"h-1 bg-gray-200 rounded w-3/4"})]})]})})}),o.jsxs("div",{className:"p-3 bg-white",children:[o.jsx("h4",{className:"font-medium text-gray-900",children:i.name}),o.jsx("p",{className:"text-sm text-gray-600 mt-1",children:i.description}),o.jsx("div",{className:"mt-2",children:o.jsx("span",{className:"inline-block px-2 py-1 bg-gray-100 text-gray-700 text-xs rounded-full capitalize",children:i.category})})]}),!s&&o.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-50 flex items-center justify-center",children:o.jsxs("div",{className:"text-center",children:[o.jsx(Nn,{className:"w-8 h-8 text-yellow-400 mx-auto mb-2"}),o.jsx("p",{className:"text-white text-sm font-medium",children:"Premium Required"})]})})]},i.id)})})]}),rw=({analysis:t,onDownload:e,onPreview:n})=>o.jsxs("div",{className:"space-y-6",children:[o.jsxs(X,{children:[o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(Wa,{className:"w-5 h-5 text-blue-600"}),o.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"ATS Score"})]}),o.jsxs("div",{className:"text-right",children:[o.jsxs("div",{className:"text-2xl font-bold text-blue-600",children:[t.atsScore,"%"]}),o.jsx("div",{className:"text-sm text-gray-500",children:"Compatibility"})]})]}),o.jsx("div",{className:"w-full bg-gray-200 rounded-full h-3 mb-4",children:o.jsx("div",{className:"bg-gradient-to-r from-blue-500 to-blue-600 h-3 rounded-full transition-all duration-1000",style:{width:`${t.atsScore}%`}})}),o.jsxs("div",{className:"flex items-center justify-between text-sm",children:[o.jsx("span",{className:"text-gray-500",children:"Needs Work"}),o.jsx("span",{className:"text-gray-500",children:"Perfect Match"})]})]}),o.jsxs(X,{children:[o.jsxs("div",{className:"mb-4",children:[o.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[o.jsx(qa,{className:"w-5 h-5 text-green-600"}),o.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"AI Suggestions"})]}),o.jsx("p",{className:"text-gray-600 text-sm",children:"Key improvements made to optimize your resume for this position"})]}),o.jsx("div",{className:"space-y-3",children:t.suggestions.map((r,i)=>o.jsxs("div",{className:"flex items-start space-x-3 p-3 bg-green-50 rounded-lg",children:[o.jsx(qa,{className:"w-5 h-5 text-green-600 mt-0.5 flex-shrink-0"}),o.jsx("p",{className:"text-sm text-gray-700",children:r})]},i))})]}),o.jsxs(X,{children:[o.jsxs("div",{className:"mb-4",children:[o.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Download Your Resume"}),o.jsx("p",{className:"text-gray-600 text-sm",children:"Your tailored resume is ready! Choose your preferred format."})]}),o.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[o.jsxs(H,{onClick:n,variant:"outline",className:"flex-1 flex items-center justify-center space-x-2",children:[o.jsx(_c,{className:"w-4 h-4"}),o.jsx("span",{children:"Preview"})]}),o.jsxs(H,{onClick:()=>e("pdf"),className:"flex-1 flex items-center justify-center space-x-2",children:[o.jsx(Ha,{className:"w-4 h-4"}),o.jsx("span",{children:"Download PDF"})]}),o.jsxs(H,{onClick:()=>e("docx"),variant:"secondary",className:"flex-1 flex items-center justify-center space-x-2",children:[o.jsx(Ha,{className:"w-4 h-4"}),o.jsx("span",{children:"Download DOCX"})]})]})]})]});class po{static async analyzeResume(e){var n;try{const{data:{session:r},error:i}=await R.auth.getSession();if(i||!r)throw new Error("User not authenticated");try{const a=await fetch("https://qcaibguxsmwzihehhhar.supabase.co/functions/v1/analyze-resume",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r.access_token}`},body:JSON.stringify(e)});if(a.ok){const s=await a.json();if(s.success)return s.data;throw new Error(s.error||"Analysis failed")}else return console.warn("Edge Function failed, using fallback analysis"),this.generateFallbackAnalysis(e)}catch(a){return console.warn("Edge Function not available, using fallback analysis:",a.message),this.generateFallbackAnalysis(e)}}catch(r){throw console.error("Error analyzing resume:",r),(n=r.message)!=null&&n.includes("User not authenticated")?new Error("Please sign in to analyze your resume"):r}}static generateFallbackAnalysis(e){return new Promise(r=>setTimeout(r,2e3)).then(()=>{const r=this.extractKeywords(e.jobDescription),i=this.extractKeywords(e.resumeText),a=r.filter(p=>!i.some(f=>f.toLowerCase().includes(p.toLowerCase()))).slice(0,5),s=["Optimized resume formatting for better ATS compatibility","Enhanced action verbs to demonstrate impact and achievements","Improved summary section to align with job requirements","Reorganized skills section to highlight relevant technologies",...a.length>0?[`Added relevant keywords: ${a.join(", ")}`]:[]],l=i.length/Math.max(r.length,1)*100,c=Math.min(l,85),u=Math.floor(c+Math.random()*15)+70,d=this.enhanceResumeText(e.resumeText,a);return{tailoredResume:d,suggestions:s,atsScore:Math.min(u,100),analysisData:{keywordsAdded:a,sectionsOptimized:["Summary","Experience","Skills"],improvementAreas:["Quantify achievements with specific numbers","Add relevant industry keywords","Improve formatting consistency"],originalWordCount:this.countWords(e.resumeText),enhancedWordCount:this.countWords(d),keywordMatchScore:Math.round(l)}}})}static extractKeywords(e){const n=["JavaScript","TypeScript","React","Node.js","Python","Java","AWS","Docker","Kubernetes","Git","SQL","MongoDB","PostgreSQL","REST API","GraphQL","Agile","Scrum","CI/CD","DevOps","Machine Learning","Data Analysis","Project Management","Leadership","Communication","Problem Solving","Team Collaboration","Strategic Planning","Budget Management"],r=e.toLowerCase().split(/\W+/),i=n.filter(l=>r.some(c=>c.includes(l.toLowerCase())||l.toLowerCase().includes(c))),s=(e.match(/\b[A-Z][a-z]+(?:\s+[A-Z][a-z]+)*\b/g)||[]).filter(l=>l.length>2&&!["The","And","Or","But","In","On","At","To","For","Of","With","By"].includes(l));return[...new Set([...i,...s])]}static enhanceResumeText(e,n){let r=e;if(n.length>0){const i=/(?:SKILLS|TECHNICAL SKILLS|CORE COMPETENCIES)[\s\S]*?(?=\n[A-Z]{2,}|\n\n|$)/i,a=r.match(i);if(a){const l=a[0]+`
 `+n.join(", ");r=r.replace(i,l)}else{const s=`

TECHNICAL SKILLS
 ${n.join(", ")}`;r+=s}}return r+=`

[RESUME OPTIMIZED FOR ATS COMPATIBILITY]`,r}static countWords(e){return e.split(/\s+/).filter(n=>n.length>0).length}static async getUserAnalyses(e=10){const{data:{user:n}}=await R.auth.getUser();if(!n)throw new Error("User not authenticated");const{data:r,error:i}=await R.from("resume_analyses").select(`
        *,
        template:resume_templates(name, category)
      `).eq("user_id",n.id).order("created_at",{ascending:!1}).limit(e);if(i)throw i;return r}static async getTemplates(){const{data:e,error:n}=await R.from("resume_templates").select("*").eq("is_active",!0).order("created_at");if(n)throw n;return e}static async saveAnalysis(e){const{data:{user:n}}=await R.auth.getUser();if(!n)throw new Error("User not authenticated");const{data:r,error:i}=await R.from("resume_analyses").insert({user_id:n.id,original_resume_text:e.resumeText,job_description:e.jobDescription,tailored_resume_text:e.tailoredResume,template_id:e.templateId,suggestions:e.suggestions,ats_score:e.atsScore,analysis_data:e.analysisData}).select().single();if(i)throw i;return r}}const iw=()=>{var A,W;const{profile:t}=Ni(),[e,n]=j.useState(null),[r,i]=j.useState(null),[a,s]=j.useState(""),[l,c]=j.useState(""),[u,d]=j.useState([]),[p,f]=j.useState(null),[v,x]=j.useState(!1),[y,_]=j.useState(0),[g,h]=j.useState(""),m=!!(t!=null&&t.subscription);j.useEffect(()=>{w()},[]),j.useEffect(()=>{let M;return v&&(_(0),M=setInterval(()=>{_(V=>V>=90?V:V+Math.random()*15)},500)),()=>{M&&clearInterval(M)}},[v]);const w=async()=>{try{const M=await po.getTemplates();d(M);const V=M.find(Q=>!Q.is_premium||m);V&&c(V.id)}catch(M){console.error("Error loading templates:",M)}},S=async(M,V)=>{n(M),i(V),h("")},b=async()=>{if(!(!r||!a.trim()||!l)){x(!0),h(""),_(0);try{_(10);const M=await po.analyzeResume({resumeText:r.text,jobDescription:a,templateId:l});_(100);const V={id:Date.now().toString(),user_id:t.id,original_resume_text:r.text,job_description:a,tailored_resume_text:M.tailoredResume,template_id:l,suggestions:M.suggestions,ats_score:M.atsScore,analysis_data:{...M.analysisData,fileMetadata:r.metadata},created_at:new Date().toISOString()};try{await po.saveAnalysis({resumeText:r.text,jobDescription:a,templateId:l,tailoredResume:M.tailoredResume,suggestions:M.suggestions,atsScore:M.atsScore,analysisData:M.analysisData})}catch(Q){console.warn("Failed to save analysis to database:",Q)}f(V)}catch(M){console.error("Analysis error:",M),h(M.message||"Analysis failed. Please try again."),_(0)}finally{x(!1)}}},k=M=>{p&&At(async()=>{const{generatePDF:V,generateDOCX:Q}=await Promise.resolve().then(()=>Zx);return{generatePDF:V,generateDOCX:Q}},void 0).then(({generatePDF:V,generateDOCX:Q})=>{const he=p.tailored_resume_text||"",P=`tailored-resume-${Date.now()}`;M==="pdf"?V(he,`${P}.pdf`):Q(he,`${P}.docx`)}).catch(V=>{console.error("Download error:",V),h("Failed to generate file. Please try again.")})},C=()=>{p&&alert("Preview feature: Would show formatted resume with selected template")},L=r&&a.trim()&&l;return o.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[o.jsxs("div",{className:"mb-8",children:[o.jsxs("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:["Welcome back, ",t==null?void 0:t.first_name,"!"]}),o.jsx("p",{className:"text-gray-600",children:"Let's create your perfect, ATS-optimized resume tailored for your dream job."}),m&&o.jsx("div",{className:"mt-2",children:o.jsxs("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm font-medium bg-gradient-to-r from-yellow-400 to-orange-500 text-white",children:[o.jsx(Nn,{className:"w-4 h-4 mr-1"}),(W=(A=t.subscription)==null?void 0:A.package)==null?void 0:W.name," Plan"]})})]}),g&&o.jsx(X,{className:"mb-6 border-red-200 bg-red-50",children:o.jsxs("div",{className:"flex items-center space-x-2 text-red-700",children:[o.jsx(ch,{className:"w-5 h-5"}),o.jsx("p",{children:g})]})}),p?o.jsxs("div",{className:"max-w-4xl mx-auto",children:[o.jsxs("div",{className:"mb-6 text-center",children:[o.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Analysis Complete!"}),o.jsx("p",{className:"text-gray-600",children:"Your resume has been optimized and tailored for the job description."})]}),o.jsx(rw,{analysis:p,onDownload:k,onPreview:C}),o.jsx("div",{className:"mt-8 text-center",children:o.jsx(H,{variant:"outline",onClick:()=>{f(null),n(null),i(null),s(""),h(""),_(0)},children:"Start New Analysis"})})]}):o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Step 1: Upload Resume"}),o.jsx(ew,{onFileSelect:S,selectedFile:e,processingResult:r,onClearFile:()=>{n(null),i(null)}})]}),o.jsxs("div",{children:[o.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Step 2: Job Description"}),o.jsx(tw,{value:a,onChange:s})]})]}),o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Step 3: Choose Template"}),o.jsx(nw,{templates:u,selectedTemplate:l,onTemplateSelect:c,hasActiveSubscription:m})]}),o.jsx(X,{className:"text-center",children:o.jsxs("div",{className:"space-y-4",children:[o.jsx("div",{className:"p-3 bg-blue-50 rounded-full w-fit mx-auto",children:o.jsx(nd,{className:"w-8 h-8 text-blue-600"})}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Ready to Analyze?"}),o.jsx("p",{className:"text-gray-600 text-sm mb-4",children:"Our AI will analyze your resume and tailor it specifically for this job opening."}),r&&o.jsx("div",{className:"mb-4 p-3 bg-green-50 rounded-lg",children:o.jsxs("div",{className:"flex items-center justify-center space-x-2 text-sm text-green-800",children:[o.jsx(qa,{className:"w-4 h-4"}),o.jsxs("span",{children:["Resume processed: ",r.metadata.wordCount," words extracted"]})]})}),v&&o.jsxs("div",{className:"mb-4 space-y-3",children:[o.jsxs("div",{className:"flex items-center justify-center space-x-2 text-blue-600",children:[o.jsx(U0,{className:"w-4 h-4 animate-spin"}),o.jsx("span",{className:"text-sm font-medium",children:"Analyzing with AI..."})]}),o.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:o.jsx("div",{className:"bg-blue-600 h-2 rounded-full transition-all duration-500",style:{width:`${y}%`}})}),o.jsxs("p",{className:"text-xs text-gray-500",children:[y<30&&"Extracting key information...",y>=30&&y<60&&"Analyzing job requirements...",y>=60&&y<90&&"Optimizing resume content...",y>=90&&"Finalizing analysis..."]})]}),o.jsx(H,{onClick:b,disabled:!L||v,isLoading:v,className:"w-full flex items-center justify-center space-x-2",size:"lg",children:v?o.jsx("span",{children:"Analyzing with AI..."}):o.jsxs(o.Fragment,{children:[o.jsx(nd,{className:"w-5 h-5"}),o.jsx("span",{children:"Analyze & Tailor Resume"}),o.jsx(A0,{className:"w-5 h-5"})]})})]})]})})]})]})]})};function Ya(t){"@babel/helpers - typeof";return Ya=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ya(t)}function Rt(t){if(t===null||t===!0||t===!1)return NaN;var e=Number(t);return isNaN(e)?e:e<0?Math.ceil(e):Math.floor(e)}function ve(t,e){if(e.length<t)throw new TypeError(t+" argument"+(t>1?"s":"")+" required, but only "+e.length+" present")}function Xe(t){ve(1,arguments);var e=Object.prototype.toString.call(t);return t instanceof Date||Ya(t)==="object"&&e==="[object Date]"?new Date(t.getTime()):typeof t=="number"||e==="[object Number]"?new Date(t):((typeof t=="string"||e==="[object String]")&&typeof console<"u"&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn(new Error().stack)),new Date(NaN))}function aw(t,e){ve(2,arguments);var n=Xe(t),r=Rt(e);if(isNaN(r))return new Date(NaN);if(!r)return n;var i=n.getDate(),a=new Date(n.getTime());a.setMonth(n.getMonth()+r+1,0);var s=a.getDate();return i>=s?a:(n.setFullYear(a.getFullYear(),a.getMonth(),i),n)}function sw(t,e){ve(2,arguments);var n=Xe(t).getTime(),r=Rt(e);return new Date(n+r)}var ow={};function _s(){return ow}function lw(t){var e=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return e.setUTCFullYear(t.getFullYear()),t.getTime()-e.getTime()}function cw(t){return ve(1,arguments),t instanceof Date||Ya(t)==="object"&&Object.prototype.toString.call(t)==="[object Date]"}function uw(t){if(ve(1,arguments),!cw(t)&&typeof t!="number")return!1;var e=Xe(t);return!isNaN(Number(e))}function na(t){ve(1,arguments);var e=Xe(t),n=e.getMonth();return e.setFullYear(e.getFullYear(),n+1,0),e.setHours(23,59,59,999),e}function ra(t){ve(1,arguments);var e=Xe(t);return e.setDate(1),e.setHours(0,0,0,0),e}function dw(t,e){ve(2,arguments);var n=Rt(e);return sw(t,-n)}var pw=864e5;function fw(t){ve(1,arguments);var e=Xe(t),n=e.getTime();e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0);var r=e.getTime(),i=n-r;return Math.floor(i/pw)+1}function Qa(t){ve(1,arguments);var e=1,n=Xe(t),r=n.getUTCDay(),i=(r<e?7:0)+r-e;return n.setUTCDate(n.getUTCDate()-i),n.setUTCHours(0,0,0,0),n}function Oh(t){ve(1,arguments);var e=Xe(t),n=e.getUTCFullYear(),r=new Date(0);r.setUTCFullYear(n+1,0,4),r.setUTCHours(0,0,0,0);var i=Qa(r),a=new Date(0);a.setUTCFullYear(n,0,4),a.setUTCHours(0,0,0,0);var s=Qa(a);return e.getTime()>=i.getTime()?n+1:e.getTime()>=s.getTime()?n:n-1}function hw(t){ve(1,arguments);var e=Oh(t),n=new Date(0);n.setUTCFullYear(e,0,4),n.setUTCHours(0,0,0,0);var r=Qa(n);return r}var mw=6048e5;function gw(t){ve(1,arguments);var e=Xe(t),n=Qa(e).getTime()-hw(e).getTime();return Math.round(n/mw)+1}function Ja(t,e){var n,r,i,a,s,l,c,u;ve(1,arguments);var d=_s(),p=Rt((n=(r=(i=(a=e==null?void 0:e.weekStartsOn)!==null&&a!==void 0?a:e==null||(s=e.locale)===null||s===void 0||(l=s.options)===null||l===void 0?void 0:l.weekStartsOn)!==null&&i!==void 0?i:d.weekStartsOn)!==null&&r!==void 0?r:(c=d.locale)===null||c===void 0||(u=c.options)===null||u===void 0?void 0:u.weekStartsOn)!==null&&n!==void 0?n:0);if(!(p>=0&&p<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var f=Xe(t),v=f.getUTCDay(),x=(v<p?7:0)+v-p;return f.setUTCDate(f.getUTCDate()-x),f.setUTCHours(0,0,0,0),f}function Dh(t,e){var n,r,i,a,s,l,c,u;ve(1,arguments);var d=Xe(t),p=d.getUTCFullYear(),f=_s(),v=Rt((n=(r=(i=(a=e==null?void 0:e.firstWeekContainsDate)!==null&&a!==void 0?a:e==null||(s=e.locale)===null||s===void 0||(l=s.options)===null||l===void 0?void 0:l.firstWeekContainsDate)!==null&&i!==void 0?i:f.firstWeekContainsDate)!==null&&r!==void 0?r:(c=f.locale)===null||c===void 0||(u=c.options)===null||u===void 0?void 0:u.firstWeekContainsDate)!==null&&n!==void 0?n:1);if(!(v>=1&&v<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var x=new Date(0);x.setUTCFullYear(p+1,0,v),x.setUTCHours(0,0,0,0);var y=Ja(x,e),_=new Date(0);_.setUTCFullYear(p,0,v),_.setUTCHours(0,0,0,0);var g=Ja(_,e);return d.getTime()>=y.getTime()?p+1:d.getTime()>=g.getTime()?p:p-1}function vw(t,e){var n,r,i,a,s,l,c,u;ve(1,arguments);var d=_s(),p=Rt((n=(r=(i=(a=e==null?void 0:e.firstWeekContainsDate)!==null&&a!==void 0?a:e==null||(s=e.locale)===null||s===void 0||(l=s.options)===null||l===void 0?void 0:l.firstWeekContainsDate)!==null&&i!==void 0?i:d.firstWeekContainsDate)!==null&&r!==void 0?r:(c=d.locale)===null||c===void 0||(u=c.options)===null||u===void 0?void 0:u.firstWeekContainsDate)!==null&&n!==void 0?n:1),f=Dh(t,e),v=new Date(0);v.setUTCFullYear(f,0,p),v.setUTCHours(0,0,0,0);var x=Ja(v,e);return x}var yw=6048e5;function xw(t,e){ve(1,arguments);var n=Xe(t),r=Ja(n,e).getTime()-vw(n,e).getTime();return Math.round(r/yw)+1}function G(t,e){for(var n=t<0?"-":"",r=Math.abs(t).toString();r.length<e;)r="0"+r;return n+r}var Ut={y:function(e,n){var r=e.getUTCFullYear(),i=r>0?r:1-r;return G(n==="yy"?i%100:i,n.length)},M:function(e,n){var r=e.getUTCMonth();return n==="M"?String(r+1):G(r+1,2)},d:function(e,n){return G(e.getUTCDate(),n.length)},a:function(e,n){var r=e.getUTCHours()/12>=1?"pm":"am";switch(n){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h:function(e,n){return G(e.getUTCHours()%12||12,n.length)},H:function(e,n){return G(e.getUTCHours(),n.length)},m:function(e,n){return G(e.getUTCMinutes(),n.length)},s:function(e,n){return G(e.getUTCSeconds(),n.length)},S:function(e,n){var r=n.length,i=e.getUTCMilliseconds(),a=Math.floor(i*Math.pow(10,r-3));return G(a,n.length)}},Fn={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},ww={G:function(e,n,r){var i=e.getUTCFullYear()>0?1:0;switch(n){case"G":case"GG":case"GGG":return r.era(i,{width:"abbreviated"});case"GGGGG":return r.era(i,{width:"narrow"});case"GGGG":default:return r.era(i,{width:"wide"})}},y:function(e,n,r){if(n==="yo"){var i=e.getUTCFullYear(),a=i>0?i:1-i;return r.ordinalNumber(a,{unit:"year"})}return Ut.y(e,n)},Y:function(e,n,r,i){var a=Dh(e,i),s=a>0?a:1-a;if(n==="YY"){var l=s%100;return G(l,2)}return n==="Yo"?r.ordinalNumber(s,{unit:"year"}):G(s,n.length)},R:function(e,n){var r=Oh(e);return G(r,n.length)},u:function(e,n){var r=e.getUTCFullYear();return G(r,n.length)},Q:function(e,n,r){var i=Math.ceil((e.getUTCMonth()+1)/3);switch(n){case"Q":return String(i);case"QQ":return G(i,2);case"Qo":return r.ordinalNumber(i,{unit:"quarter"});case"QQQ":return r.quarter(i,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(i,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(i,{width:"wide",context:"formatting"})}},q:function(e,n,r){var i=Math.ceil((e.getUTCMonth()+1)/3);switch(n){case"q":return String(i);case"qq":return G(i,2);case"qo":return r.ordinalNumber(i,{unit:"quarter"});case"qqq":return r.quarter(i,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(i,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(i,{width:"wide",context:"standalone"})}},M:function(e,n,r){var i=e.getUTCMonth();switch(n){case"M":case"MM":return Ut.M(e,n);case"Mo":return r.ordinalNumber(i+1,{unit:"month"});case"MMM":return r.month(i,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(i,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(i,{width:"wide",context:"formatting"})}},L:function(e,n,r){var i=e.getUTCMonth();switch(n){case"L":return String(i+1);case"LL":return G(i+1,2);case"Lo":return r.ordinalNumber(i+1,{unit:"month"});case"LLL":return r.month(i,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(i,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(i,{width:"wide",context:"standalone"})}},w:function(e,n,r,i){var a=xw(e,i);return n==="wo"?r.ordinalNumber(a,{unit:"week"}):G(a,n.length)},I:function(e,n,r){var i=gw(e);return n==="Io"?r.ordinalNumber(i,{unit:"week"}):G(i,n.length)},d:function(e,n,r){return n==="do"?r.ordinalNumber(e.getUTCDate(),{unit:"date"}):Ut.d(e,n)},D:function(e,n,r){var i=fw(e);return n==="Do"?r.ordinalNumber(i,{unit:"dayOfYear"}):G(i,n.length)},E:function(e,n,r){var i=e.getUTCDay();switch(n){case"E":case"EE":case"EEE":return r.day(i,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(i,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(i,{width:"short",context:"formatting"});case"EEEE":default:return r.day(i,{width:"wide",context:"formatting"})}},e:function(e,n,r,i){var a=e.getUTCDay(),s=(a-i.weekStartsOn+8)%7||7;switch(n){case"e":return String(s);case"ee":return G(s,2);case"eo":return r.ordinalNumber(s,{unit:"day"});case"eee":return r.day(a,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(a,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(a,{width:"short",context:"formatting"});case"eeee":default:return r.day(a,{width:"wide",context:"formatting"})}},c:function(e,n,r,i){var a=e.getUTCDay(),s=(a-i.weekStartsOn+8)%7||7;switch(n){case"c":return String(s);case"cc":return G(s,n.length);case"co":return r.ordinalNumber(s,{unit:"day"});case"ccc":return r.day(a,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(a,{width:"narrow",context:"standalone"});case"cccccc":return r.day(a,{width:"short",context:"standalone"});case"cccc":default:return r.day(a,{width:"wide",context:"standalone"})}},i:function(e,n,r){var i=e.getUTCDay(),a=i===0?7:i;switch(n){case"i":return String(a);case"ii":return G(a,n.length);case"io":return r.ordinalNumber(a,{unit:"day"});case"iii":return r.day(i,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(i,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(i,{width:"short",context:"formatting"});case"iiii":default:return r.day(i,{width:"wide",context:"formatting"})}},a:function(e,n,r){var i=e.getUTCHours(),a=i/12>=1?"pm":"am";switch(n){case"a":case"aa":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},b:function(e,n,r){var i=e.getUTCHours(),a;switch(i===12?a=Fn.noon:i===0?a=Fn.midnight:a=i/12>=1?"pm":"am",n){case"b":case"bb":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},B:function(e,n,r){var i=e.getUTCHours(),a;switch(i>=17?a=Fn.evening:i>=12?a=Fn.afternoon:i>=4?a=Fn.morning:a=Fn.night,n){case"B":case"BB":case"BBB":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},h:function(e,n,r){if(n==="ho"){var i=e.getUTCHours()%12;return i===0&&(i=12),r.ordinalNumber(i,{unit:"hour"})}return Ut.h(e,n)},H:function(e,n,r){return n==="Ho"?r.ordinalNumber(e.getUTCHours(),{unit:"hour"}):Ut.H(e,n)},K:function(e,n,r){var i=e.getUTCHours()%12;return n==="Ko"?r.ordinalNumber(i,{unit:"hour"}):G(i,n.length)},k:function(e,n,r){var i=e.getUTCHours();return i===0&&(i=24),n==="ko"?r.ordinalNumber(i,{unit:"hour"}):G(i,n.length)},m:function(e,n,r){return n==="mo"?r.ordinalNumber(e.getUTCMinutes(),{unit:"minute"}):Ut.m(e,n)},s:function(e,n,r){return n==="so"?r.ordinalNumber(e.getUTCSeconds(),{unit:"second"}):Ut.s(e,n)},S:function(e,n){return Ut.S(e,n)},X:function(e,n,r,i){var a=i._originalDate||e,s=a.getTimezoneOffset();if(s===0)return"Z";switch(n){case"X":return md(s);case"XXXX":case"XX":return hn(s);case"XXXXX":case"XXX":default:return hn(s,":")}},x:function(e,n,r,i){var a=i._originalDate||e,s=a.getTimezoneOffset();switch(n){case"x":return md(s);case"xxxx":case"xx":return hn(s);case"xxxxx":case"xxx":default:return hn(s,":")}},O:function(e,n,r,i){var a=i._originalDate||e,s=a.getTimezoneOffset();switch(n){case"O":case"OO":case"OOO":return"GMT"+hd(s,":");case"OOOO":default:return"GMT"+hn(s,":")}},z:function(e,n,r,i){var a=i._originalDate||e,s=a.getTimezoneOffset();switch(n){case"z":case"zz":case"zzz":return"GMT"+hd(s,":");case"zzzz":default:return"GMT"+hn(s,":")}},t:function(e,n,r,i){var a=i._originalDate||e,s=Math.floor(a.getTime()/1e3);return G(s,n.length)},T:function(e,n,r,i){var a=i._originalDate||e,s=a.getTime();return G(s,n.length)}};function hd(t,e){var n=t>0?"-":"+",r=Math.abs(t),i=Math.floor(r/60),a=r%60;if(a===0)return n+String(i);var s=e;return n+String(i)+s+G(a,2)}function md(t,e){if(t%60===0){var n=t>0?"-":"+";return n+G(Math.abs(t)/60,2)}return hn(t,e)}function hn(t,e){var n=e||"",r=t>0?"-":"+",i=Math.abs(t),a=G(Math.floor(i/60),2),s=G(i%60,2);return r+a+n+s}var gd=function(e,n){switch(e){case"P":return n.date({width:"short"});case"PP":return n.date({width:"medium"});case"PPP":return n.date({width:"long"});case"PPPP":default:return n.date({width:"full"})}},Ah=function(e,n){switch(e){case"p":return n.time({width:"short"});case"pp":return n.time({width:"medium"});case"ppp":return n.time({width:"long"});case"pppp":default:return n.time({width:"full"})}},_w=function(e,n){var r=e.match(/(P+)(p+)?/)||[],i=r[1],a=r[2];if(!a)return gd(e,n);var s;switch(i){case"P":s=n.dateTime({width:"short"});break;case"PP":s=n.dateTime({width:"medium"});break;case"PPP":s=n.dateTime({width:"long"});break;case"PPPP":default:s=n.dateTime({width:"full"});break}return s.replace("{{date}}",gd(i,n)).replace("{{time}}",Ah(a,n))},bw={p:Ah,P:_w},kw=["D","DD"],jw=["YY","YYYY"];function Sw(t){return kw.indexOf(t)!==-1}function Ew(t){return jw.indexOf(t)!==-1}function vd(t,e,n){if(t==="YYYY")throw new RangeError("Use `yyyy` instead of `YYYY` (in `".concat(e,"`) for formatting years to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(t==="YY")throw new RangeError("Use `yy` instead of `YY` (in `".concat(e,"`) for formatting years to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(t==="D")throw new RangeError("Use `d` instead of `D` (in `".concat(e,"`) for formatting days of the month to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(t==="DD")throw new RangeError("Use `dd` instead of `DD` (in `".concat(e,"`) for formatting days of the month to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"))}var Nw={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},Cw=function(e,n,r){var i,a=Nw[e];return typeof a=="string"?i=a:n===1?i=a.one:i=a.other.replace("{{count}}",n.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+i:i+" ago":i};function fo(t){return function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=e.width?String(e.width):t.defaultWidth,r=t.formats[n]||t.formats[t.defaultWidth];return r}}var Pw={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},Tw={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},Ow={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Dw={date:fo({formats:Pw,defaultWidth:"full"}),time:fo({formats:Tw,defaultWidth:"full"}),dateTime:fo({formats:Ow,defaultWidth:"full"})},Aw={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},Rw=function(e,n,r,i){return Aw[e]};function Dr(t){return function(e,n){var r=n!=null&&n.context?String(n.context):"standalone",i;if(r==="formatting"&&t.formattingValues){var a=t.defaultFormattingWidth||t.defaultWidth,s=n!=null&&n.width?String(n.width):a;i=t.formattingValues[s]||t.formattingValues[a]}else{var l=t.defaultWidth,c=n!=null&&n.width?String(n.width):t.defaultWidth;i=t.values[c]||t.values[l]}var u=t.argumentCallback?t.argumentCallback(e):e;return i[u]}}var Iw={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},Mw={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},Uw={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},$w={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},Lw={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},zw={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},Fw=function(e,n){var r=Number(e),i=r%100;if(i>20||i<10)switch(i%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},Bw={ordinalNumber:Fw,era:Dr({values:Iw,defaultWidth:"wide"}),quarter:Dr({values:Mw,defaultWidth:"wide",argumentCallback:function(e){return e-1}}),month:Dr({values:Uw,defaultWidth:"wide"}),day:Dr({values:$w,defaultWidth:"wide"}),dayPeriod:Dr({values:Lw,defaultWidth:"wide",formattingValues:zw,defaultFormattingWidth:"wide"})};function Ar(t){return function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=n.width,i=r&&t.matchPatterns[r]||t.matchPatterns[t.defaultMatchWidth],a=e.match(i);if(!a)return null;var s=a[0],l=r&&t.parsePatterns[r]||t.parsePatterns[t.defaultParseWidth],c=Array.isArray(l)?qw(l,function(p){return p.test(s)}):Ww(l,function(p){return p.test(s)}),u;u=t.valueCallback?t.valueCallback(c):c,u=n.valueCallback?n.valueCallback(u):u;var d=e.slice(s.length);return{value:u,rest:d}}}function Ww(t,e){for(var n in t)if(t.hasOwnProperty(n)&&e(t[n]))return n}function qw(t,e){for(var n=0;n<t.length;n++)if(e(t[n]))return n}function Hw(t){return function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=e.match(t.matchPattern);if(!r)return null;var i=r[0],a=e.match(t.parsePattern);if(!a)return null;var s=t.valueCallback?t.valueCallback(a[0]):a[0];s=n.valueCallback?n.valueCallback(s):s;var l=e.slice(i.length);return{value:s,rest:l}}}var Vw=/^(\d+)(th|st|nd|rd)?/i,Kw=/\d+/i,Gw={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},Yw={any:[/^b/i,/^(a|c)/i]},Qw={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},Jw={any:[/1/i,/2/i,/3/i,/4/i]},Xw={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},Zw={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},e1={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},t1={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},n1={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},r1={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},i1={ordinalNumber:Hw({matchPattern:Vw,parsePattern:Kw,valueCallback:function(e){return parseInt(e,10)}}),era:Ar({matchPatterns:Gw,defaultMatchWidth:"wide",parsePatterns:Yw,defaultParseWidth:"any"}),quarter:Ar({matchPatterns:Qw,defaultMatchWidth:"wide",parsePatterns:Jw,defaultParseWidth:"any",valueCallback:function(e){return e+1}}),month:Ar({matchPatterns:Xw,defaultMatchWidth:"wide",parsePatterns:Zw,defaultParseWidth:"any"}),day:Ar({matchPatterns:e1,defaultMatchWidth:"wide",parsePatterns:t1,defaultParseWidth:"any"}),dayPeriod:Ar({matchPatterns:n1,defaultMatchWidth:"any",parsePatterns:r1,defaultParseWidth:"any"})},a1={code:"en-US",formatDistance:Cw,formatLong:Dw,formatRelative:Rw,localize:Bw,match:i1,options:{weekStartsOn:0,firstWeekContainsDate:1}},s1=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,o1=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,l1=/^'([^]*?)'?$/,c1=/''/g,u1=/[a-zA-Z]/;function Ce(t,e,n){var r,i,a,s,l,c,u,d,p,f,v,x,y,_;ve(2,arguments);var g=String(e),h=_s(),m=(r=(i=void 0)!==null&&i!==void 0?i:h.locale)!==null&&r!==void 0?r:a1,w=Rt((a=(s=(l=(c=void 0)!==null&&c!==void 0?c:void 0)!==null&&l!==void 0?l:h.firstWeekContainsDate)!==null&&s!==void 0?s:(u=h.locale)===null||u===void 0||(d=u.options)===null||d===void 0?void 0:d.firstWeekContainsDate)!==null&&a!==void 0?a:1);if(!(w>=1&&w<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var S=Rt((p=(f=(v=(x=void 0)!==null&&x!==void 0?x:void 0)!==null&&v!==void 0?v:h.weekStartsOn)!==null&&f!==void 0?f:(y=h.locale)===null||y===void 0||(_=y.options)===null||_===void 0?void 0:_.weekStartsOn)!==null&&p!==void 0?p:0);if(!(S>=0&&S<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!m.localize)throw new RangeError("locale must contain localize property");if(!m.formatLong)throw new RangeError("locale must contain formatLong property");var b=Xe(t);if(!uw(b))throw new RangeError("Invalid time value");var k=lw(b),C=dw(b,k),L={firstWeekContainsDate:w,weekStartsOn:S,locale:m,_originalDate:b},A=g.match(o1).map(function(W){var M=W[0];if(M==="p"||M==="P"){var V=bw[M];return V(W,m.formatLong)}return W}).join("").match(s1).map(function(W){if(W==="''")return"'";var M=W[0];if(M==="'")return d1(W);var V=ww[M];if(V)return Ew(W)&&vd(W,e,String(t)),Sw(W)&&vd(W,e,String(t)),V(C,W,m.localize,L);if(M.match(u1))throw new RangeError("Format string contains an unescaped latin alphabet character `"+M+"`");return W}).join("");return A}function d1(t){var e=t.match(l1);return e?e[1].replace(c1,"'"):t}function yd(t,e){ve(2,arguments);var n=Rt(e);return aw(t,-n)}class Te{static async getDashboardStats(){const e=new Date,n=yd(e,1),r=ra(e),i=na(e),a=ra(n),s=na(n);try{const[l,c,u,d,p,f,v,x]=await Promise.all([this.getUserCount(r,i),this.getActiveSubscriptionCount(),this.getMonthlyRevenue(r,i),this.getAnalysisCount(r,i),this.getUserCount(a,s),this.getActiveSubscriptionCount(s),this.getMonthlyRevenue(a,s),this.getAnalysisCount(a,s)]),y=this.calculateGrowth(l.total,p.total),_=this.calculateGrowth(c,f),g=this.calculateGrowth(u,v),h=this.calculateGrowth(d,x);return{totalUsers:l.total,activeSubscriptions:c,monthlyRevenue:u,totalAnalyses:d,userGrowth:y,subscriptionGrowth:_,revenueGrowth:g,analysisGrowth:h}}catch(l){throw console.error("Error fetching dashboard stats:",l),l}}static async getUsageStats(){const e=new Date,n=ra(e),r=na(e);try{const[i,a,s,l]=await Promise.all([this.getUsageData("resume_upload",n,r),this.getUsageData("analysis",n,r),this.getUsageData("template_usage",n,r),this.getUsageData("pdf_download",n,r)]);return{resumeUploads:i,aiAnalyses:a,templateUsage:s,pdfDownloads:l}}catch(i){throw console.error("Error fetching usage stats:",i),i}}static async getRevenueChart(e=6){const n=[];for(let r=e-1;r>=0;r--){const i=yd(new Date,r),a=ra(i),s=na(i),[l,c]=await Promise.all([this.getMonthlyRevenue(a,s),this.getNewSubscriptions(a,s)]);n.push({month:Ce(i,"MMM yyyy"),revenue:l,subscriptions:c})}return n}static async getUserActivity(e=30){const n=[];for(let r=e-1;r>=0;r--){const i=new Date;i.setDate(i.getDate()-r);const a=new Date(i.setHours(0,0,0,0)),s=new Date(i.setHours(23,59,59,999)),[l,c,u]=await Promise.all([this.getDailyNewUsers(a,s),this.getDailyActiveUsers(a,s),this.getAnalysisCount(a,s)]);n.push({date:Ce(a,"MMM dd"),newUsers:l,activeUsers:c,analyses:u})}return n}static async getUsers(e=1,n=10,r={}){const i=(e-1)*n;try{let a=R.from("profiles").select(`
          *,
          subscriptions(
            *,
            package:packages(name, price)
          ),
          resume_analyses(count)
        `,{count:"exact"});if(r.searchTerm&&r.searchTerm.trim()){const x=r.searchTerm.trim();a=a.or(`first_name.ilike.%${x}%,last_name.ilike.%${x}%,email.ilike.%${x}%`)}r.userRole&&r.userRole!=="all"&&(r.userRole==="admin"?a=a.eq("is_admin",!0):a=a.eq("is_admin",!1)),r.dateRange&&(a=a.gte("created_at",r.dateRange.start).lte("created_at",r.dateRange.end));const s=r.sortBy||"created_at",l=r.sortOrder||"desc";s==="name"?a=a.order("first_name",{ascending:l==="asc"}):a=a.order(s,{ascending:l==="asc"});const{count:c}=await a,{data:u,error:d,count:p}=await a.range(i,i+n-1);if(d)throw d;const f=(u==null?void 0:u.map(x=>{var g,h,m,w;const y=(g=x.subscriptions)==null?void 0:g.find(S=>S.status==="active"),_=((h=x.resume_analyses)==null?void 0:h.length)||0;return{...x,subscription_status:y?"active":"inactive",subscription_package:((m=y==null?void 0:y.package)==null?void 0:m.name)||"Free",subscription_price:((w=y==null?void 0:y.package)==null?void 0:w.price)||0,total_analyses:_,last_login:x.updated_at}}))||[];let v=f;return r.subscriptionStatus&&r.subscriptionStatus!=="all"&&(v=f.filter(x=>{var y;switch(r.subscriptionStatus){case"active":return x.subscription_status==="active";case"inactive":return x.subscription_status==="inactive";case"cancelled":return(y=x.subscriptions)==null?void 0:y.some(_=>_.status==="cancelled");default:return!0}})),{users:v,total:p||0,pages:Math.ceil((p||0)/n),filteredCount:c||0}}catch(a){throw console.error("Error fetching users:",a),a}}static async searchUsers(e,n=20){try{const{data:r,error:i}=await R.from("profiles").select(`
          *,
          subscriptions(
            *,
            package:packages(name)
          )
        `).or(`first_name.ilike.%${e}%,last_name.ilike.%${e}%,email.ilike.%${e}%`).limit(n);if(i)throw i;return r||[]}catch(r){throw console.error("Error searching users:",r),r}}static async exportUsers(e={}){try{let n=R.from("profiles").select(`
          *,
          subscriptions(
            *,
            package:packages(name, price)
          ),
          resume_analyses(count)
        `);if(e.searchTerm&&e.searchTerm.trim()){const s=e.searchTerm.trim();n=n.or(`first_name.ilike.%${s}%,last_name.ilike.%${s}%,email.ilike.%${s}%`)}e.userRole&&e.userRole!=="all"&&(e.userRole==="admin"?n=n.eq("is_admin",!0):n=n.eq("is_admin",!1)),e.dateRange&&(n=n.gte("created_at",e.dateRange.start).lte("created_at",e.dateRange.end));const{data:r,error:i}=await n.order("created_at",{ascending:!1});if(i)throw i;const a=(r||[]).map(s=>{var u,d,p;const l=(u=s.subscriptions)==null?void 0:u.find(f=>f.status==="active"),c=((d=s.resume_analyses)==null?void 0:d.length)||0;return{id:s.id,first_name:s.first_name,last_name:s.last_name,email:s.email||"",is_admin:s.is_admin,subscription_status:l?"active":"inactive",subscription_package:((p=l==null?void 0:l.package)==null?void 0:p.name)||"Free",subscription_start_date:(l==null?void 0:l.start_date)||"",subscription_end_date:(l==null?void 0:l.end_date)||"",total_analyses:c,last_login:s.updated_at,created_at:s.created_at,updated_at:s.updated_at}});return e.subscriptionStatus&&e.subscriptionStatus!=="all"?a.filter(s=>{switch(e.subscriptionStatus){case"active":return s.subscription_status==="active";case"inactive":return s.subscription_status==="inactive";case"cancelled":return!1;default:return!0}}):a}catch(n){throw console.error("Error exporting users:",n),n}}static generateCSV(e){return e.length===0?"No data to export":[["User ID","First Name","Last Name","Email","Is Admin","Subscription Status","Subscription Package","Subscription Start Date","Subscription End Date","Total Analyses","Last Login","Created At","Updated At"].join(","),...e.map(i=>[i.id,`"${i.first_name}"`,`"${i.last_name}"`,`"${i.email}"`,i.is_admin?"Yes":"No",i.subscription_status,`"${i.subscription_package}"`,i.subscription_start_date?Ce(new Date(i.subscription_start_date),"yyyy-MM-dd"):"",i.subscription_end_date?Ce(new Date(i.subscription_end_date),"yyyy-MM-dd"):"",i.total_analyses,i.last_login?Ce(new Date(i.last_login),"yyyy-MM-dd HH:mm:ss"):"",Ce(new Date(i.created_at),"yyyy-MM-dd HH:mm:ss"),Ce(new Date(i.updated_at),"yyyy-MM-dd HH:mm:ss")].join(","))].join(`
`)}static async getUserDetails(e){try{const{data:n,error:r}=await R.from("profiles").select(`
          *,
          subscriptions(
            *,
            package:packages(*)
          ),
          resume_analyses(
            id,
            ats_score,
            created_at,
            resume_templates(name)
          ),
          payment_transactions(
            id,
            amount,
            status,
            created_at
          )
        `).eq("id",e).single();if(r)throw r;return n}catch(n){throw console.error("Error fetching user details:",n),n}}static async updateUserStatus(e,n){try{const{error:r}=await R.from("profiles").update({is_admin:n}).eq("id",e);if(r)throw r}catch(r){throw console.error("Error updating user status:",r),r}}static async deleteUser(e){try{const{error:n}=await R.from("profiles").delete().eq("id",e);if(n)throw n}catch(n){throw console.error("Error deleting user:",n),n}}static async getUserCount(e,n){const{count:r}=await R.from("profiles").select("*",{count:"exact",head:!0}),{count:i}=await R.from("profiles").select("*",{count:"exact",head:!0}).gte("created_at",e.toISOString()).lte("created_at",n.toISOString());return{total:r||0,new:i||0}}static async getActiveSubscriptionCount(e){let n=R.from("subscriptions").select("*",{count:"exact",head:!0}).eq("status","active");e&&(n=n.lte("created_at",e.toISOString()));const{count:r}=await n;return r||0}static async getMonthlyRevenue(e,n){const{data:r}=await R.from("payment_transactions").select("amount").eq("status","completed").gte("created_at",e.toISOString()).lte("created_at",n.toISOString());return(r==null?void 0:r.reduce((i,a)=>i+Number(a.amount),0))||0}static async getAnalysisCount(e,n){const{count:r}=await R.from("resume_analyses").select("*",{count:"exact",head:!0}).gte("created_at",e.toISOString()).lte("created_at",n.toISOString());return r||0}static async getUsageData(e,n,r){const i=Ce(n,"yyyy-MM"),{data:a}=await R.from("usage_tracking").select("count").eq("action_type",e).eq("month_year",i),s=(a==null?void 0:a.reduce((d,p)=>d+p.count,0))||0,{data:l}=await R.from("usage_tracking").select("count").eq("action_type",e),c=(l==null?void 0:l.reduce((d,p)=>d+p.count,0))||0,u=c>0?Math.round(s/c*100):0;return{current:s,total:c,percentage:u}}static async getNewSubscriptions(e,n){const{count:r}=await R.from("subscriptions").select("*",{count:"exact",head:!0}).gte("created_at",e.toISOString()).lte("created_at",n.toISOString());return r||0}static async getDailyNewUsers(e,n){const{count:r}=await R.from("profiles").select("*",{count:"exact",head:!0}).gte("created_at",e.toISOString()).lte("created_at",n.toISOString());return r||0}static async getDailyActiveUsers(e,n){const{data:r}=await R.from("resume_analyses").select("user_id").gte("created_at",e.toISOString()).lte("created_at",n.toISOString());return new Set((r==null?void 0:r.map(a=>a.user_id))||[]).size}static calculateGrowth(e,n){return n===0?e>0?100:0:Math.round((e-n)/n*100)}static async getPackages(){const{data:e,error:n}=await R.from("packages").select("*").order("price");if(n)throw n;return e}static async createPackage(e){const{data:n,error:r}=await R.from("packages").insert(e).select().single();if(r)throw r;return n}static async updatePackage(e,n){const{data:r,error:i}=await R.from("packages").update(n).eq("id",e).select().single();if(i)throw i;return r}static async deletePackage(e){const{error:n}=await R.from("packages").delete().eq("id",e);if(n)throw n}static async getRecentSubscriptions(e=10){const{data:n,error:r}=await R.from("subscriptions").select(`
        *,
        profiles(first_name, last_name),
        package:packages(name)
      `).order("created_at",{ascending:!1}).limit(e);if(r)throw r;return n}static async getRecentTransactions(e=10){const{data:n,error:r}=await R.from("payment_transactions").select(`
        *,
        profiles(first_name, last_name)
      `).order("created_at",{ascending:!1}).limit(e);if(r)throw r;return n}static async getTopTemplates(e=5){const{data:n,error:r}=await R.from("resume_analyses").select(`
        template_id,
        resume_templates(name, category),
        count:template_id
      `).not("template_id","is",null).limit(e);if(r)throw r;const i=n==null?void 0:n.reduce((a,s)=>{const l=s.template_id;return a[l]||(a[l]={template:s.resume_templates,count:0}),a[l].count++,a},{});return Object.values(i||{}).sort((a,s)=>s.count-a.count).slice(0,e)}}const p1=()=>{const[t,e]=j.useState([]),[n,r]=j.useState(!0),[i,a]=j.useState(!1),[s,l]=j.useState(null);j.useEffect(()=>{c()},[]);const c=async()=>{try{const f=await Te.getPackages();e(f)}catch(f){console.error("Error loading packages:",f)}finally{r(!1)}},u=async f=>{try{await Te.createPackage(f),await c(),a(!1)}catch(v){console.error("Error creating package:",v)}},d=async(f,v)=>{try{await Te.updatePackage(f,v),await c(),l(null)}catch(x){console.error("Error updating package:",x)}},p=async f=>{if(confirm("Are you sure you want to delete this package?"))try{await Te.deletePackage(f),await c()}catch(v){console.error("Error deleting package:",v)}};return n?o.jsx("div",{className:"animate-pulse",children:"Loading packages..."}):o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Subscription Packages"}),o.jsxs(H,{onClick:()=>a(!0),children:[o.jsx(hl,{className:"w-4 h-4 mr-2"}),"Create New Package"]})]}),i&&o.jsx(xd,{onSubmit:u,onCancel:()=>a(!1)}),s&&o.jsx(xd,{package:s,onSubmit:f=>d(s.id,f),onCancel:()=>l(null)}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:t.map(f=>o.jsx(X,{hover:!0,children:o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex justify-between items-start",children:[o.jsxs("div",{children:[o.jsxs("h3",{className:"text-lg font-semibold text-gray-900 flex items-center space-x-2",children:[o.jsx("span",{children:f.name}),f.price>0&&o.jsx(Nn,{className:"w-4 h-4 text-yellow-500"})]}),o.jsx("p",{className:"text-gray-600 mt-1",children:f.description})]}),o.jsxs("div",{className:"text-right",children:[o.jsxs("div",{className:"text-2xl font-bold text-blue-600",children:["$",f.price]}),o.jsx("div",{className:"text-sm text-gray-500",children:"per month"})]})]}),o.jsxs("div",{children:[o.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Features:"}),o.jsx("ul",{className:"space-y-1",children:f.features.map((v,x)=>o.jsxs("li",{className:"text-sm text-gray-700 flex items-center space-x-2",children:[o.jsx(vi,{className:"w-3 h-3 text-green-500 flex-shrink-0"}),o.jsx("span",{children:v})]},x))})]}),o.jsxs("div",{className:"pt-4 border-t border-gray-200",children:[o.jsxs("div",{className:"flex justify-between text-sm mb-1",children:[o.jsx("span",{className:"text-gray-600",children:"Template Access:"}),o.jsx("span",{className:"font-medium",children:f.template_access===-1?"All Templates":`${f.template_access} Templates`})]}),o.jsxs("div",{className:"flex justify-between text-sm",children:[o.jsx("span",{className:"text-gray-600",children:"Monthly Analyses:"}),o.jsx("span",{className:"font-medium",children:f.analysis_limit===-1?"Unlimited":f.analysis_limit})]})]}),o.jsxs("div",{className:"flex space-x-2",children:[o.jsxs(H,{variant:"outline",size:"sm",className:"flex-1",onClick:()=>l(f),children:[o.jsx(ph,{className:"w-4 h-4 mr-1"}),"Edit"]}),o.jsx(H,{variant:"ghost",size:"sm",onClick:()=>p(f.id),children:o.jsx(fh,{className:"w-4 h-4"})})]})]})},f.id))})]})},xd=({package:t,onSubmit:e,onCancel:n})=>{const[r,i]=j.useState({name:(t==null?void 0:t.name)||"",description:(t==null?void 0:t.description)||"",price:(t==null?void 0:t.price)||0,template_access:(t==null?void 0:t.template_access)||1,analysis_limit:(t==null?void 0:t.analysis_limit)||5,features:(t==null?void 0:t.features)||[""]}),a=u=>{u.preventDefault(),e({...r,features:r.features.filter(d=>d.trim())})},s=()=>{i(u=>({...u,features:[...u.features,""]}))},l=u=>{i(d=>({...d,features:d.features.filter((p,f)=>f!==u)}))},c=(u,d)=>{i(p=>({...p,features:p.features.map((f,v)=>v===u?d:f)}))};return o.jsxs(X,{children:[o.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:t?"Edit Package":"Create New Package"}),o.jsxs("form",{onSubmit:a,className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsx(tt,{label:"Package Name",value:r.name,onChange:u=>i(d=>({...d,name:u.target.value})),required:!0}),o.jsx(tt,{label:"Price (USD)",type:"number",step:"0.01",value:r.price,onChange:u=>i(d=>({...d,price:parseFloat(u.target.value)})),required:!0})]}),o.jsx(tt,{label:"Description",value:r.description,onChange:u=>i(d=>({...d,description:u.target.value})),required:!0}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsx(tt,{label:"Template Access (-1 for unlimited)",type:"number",value:r.template_access,onChange:u=>i(d=>({...d,template_access:parseInt(u.target.value)})),required:!0}),o.jsx(tt,{label:"Analysis Limit (-1 for unlimited)",type:"number",value:r.analysis_limit,onChange:u=>i(d=>({...d,analysis_limit:parseInt(u.target.value)})),required:!0})]}),o.jsxs("div",{children:[o.jsxs("div",{className:"flex items-center justify-between mb-3",children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Package Features"}),o.jsxs(H,{type:"button",variant:"outline",size:"sm",onClick:s,children:[o.jsx(hl,{className:"w-4 h-4 mr-1"}),"Add Feature"]})]}),o.jsx("div",{className:"space-y-2",children:r.features.map((u,d)=>o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("div",{className:"flex-1",children:o.jsx("input",{type:"text",value:u,onChange:p=>c(d,p.target.value),placeholder:`Feature ${d+1}`,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})}),r.features.length>1&&o.jsx(H,{type:"button",variant:"ghost",size:"sm",onClick:()=>l(d),className:"text-red-600 hover:text-red-700 hover:bg-red-50",children:o.jsx(yi,{className:"w-4 h-4"})})]},d))}),r.features.length===0&&o.jsxs("div",{className:"text-center py-4 border-2 border-dashed border-gray-300 rounded-lg",children:[o.jsx("p",{className:"text-gray-500 text-sm",children:"No features added yet"}),o.jsxs(H,{type:"button",variant:"outline",size:"sm",onClick:s,className:"mt-2",children:[o.jsx(hl,{className:"w-4 h-4 mr-1"}),"Add First Feature"]})]})]}),r.features.some(u=>u.trim())&&o.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[o.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-2",children:"Feature Preview:"}),o.jsx("ul",{className:"space-y-1",children:r.features.filter(u=>u.trim()).map((u,d)=>o.jsxs("li",{className:"text-sm text-gray-600 flex items-center space-x-2",children:[o.jsx(vi,{className:"w-3 h-3 text-green-500"}),o.jsx("span",{children:u})]},d))})]}),o.jsxs("div",{className:"flex space-x-3 pt-4",children:[o.jsx(H,{type:"submit",className:"flex-1",children:t?"Update Package":"Create Package"}),o.jsx(H,{type:"button",variant:"outline",onClick:n,children:"Cancel"})]})]})]})},f1=()=>{const[t,e]=j.useState([]),[n,r]=j.useState(!0),[i,a]=j.useState(!1),[s,l]=j.useState(1),[c,u]=j.useState(1),[d,p]=j.useState(0),[f,v]=j.useState(0),[x,y]=j.useState(!1),[_,g]=j.useState(null),[h,m]=j.useState(!1),[w,S]=j.useState({searchTerm:"",subscriptionStatus:"all",userRole:"all",sortBy:"created_at",sortOrder:"desc"}),[b,k]=j.useState(w);j.useEffect(()=>{C()},[s,w]);const C=async()=>{try{r(!0);const{users:P,pages:q,total:N,filteredCount:D}=await Te.getUsers(s,10,w);e(P),u(q),p(N),v(D)}catch(P){console.error("Error loading users:",P)}finally{r(!1)}},L=P=>{S(q=>({...q,searchTerm:P})),l(1)},A=()=>{S(b),l(1),y(!1)},W=()=>{const P={searchTerm:"",subscriptionStatus:"all",userRole:"all",sortBy:"created_at",sortOrder:"desc"};S(P),k(P),l(1),y(!1)},M=async()=>{try{a(!0);const P=await Te.exportUsers(w);if(P.length===0){alert("No data to export with current filters");return}const q=Te.generateCSV(P),N=new Blob([q],{type:"text/csv;charset=utf-8;"}),D=document.createElement("a"),U=URL.createObjectURL(N);D.setAttribute("href",U),D.setAttribute("download",`users-export-${Ce(new Date,"yyyy-MM-dd-HHmm")}.csv`),D.style.visibility="hidden",document.body.appendChild(D),D.click(),document.body.removeChild(D),URL.revokeObjectURL(U)}catch(P){console.error("Export failed:",P),alert("Export failed. Please try again.")}finally{a(!1)}},V=async P=>{try{const q=await Te.getUserDetails(P.id);g(q),m(!0)}catch(q){console.error("Error fetching user details:",q),alert("Failed to load user details")}},Q=async(P,q)=>{try{await Te.updateUserStatus(P,q),await C(),alert("User role updated successfully")}catch(N){console.error("Error updating user role:",N),alert("Failed to update user role")}},he=(P,q)=>{const N="inline-flex px-2 py-1 text-xs font-semibold rounded-full";switch(P){case"active":return o.jsx("span",{className:`${N} bg-green-100 text-green-800`,children:q});case"cancelled":return o.jsx("span",{className:`${N} bg-red-100 text-red-800`,children:"Cancelled"});default:return o.jsx("span",{className:`${N} bg-gray-100 text-gray-800`,children:"Free"})}};return n&&t.length===0?o.jsx("div",{className:"space-y-6",children:o.jsxs("div",{className:"animate-pulse",children:[o.jsx("div",{className:"h-8 bg-gray-200 rounded w-1/4 mb-4"}),o.jsx("div",{className:"h-64 bg-gray-200 rounded"})]})}):o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"User Management"}),o.jsx("p",{className:"text-sm text-gray-600 mt-1",children:f!==d?`Showing ${f} of ${d} users`:`${d} total users`})]}),o.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 w-full sm:w-auto",children:[o.jsxs("div",{className:"relative flex-1 sm:flex-none",children:[o.jsx(H0,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),o.jsx("input",{type:"search",placeholder:"Search users...",value:w.searchTerm,onChange:P=>L(P.target.value),className:"pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 w-full sm:w-64"})]}),o.jsxs(H,{variant:"outline",onClick:()=>y(!x),className:"flex items-center space-x-2",children:[o.jsx(L0,{className:"w-4 h-4"}),o.jsx("span",{children:"Filters"}),(w.subscriptionStatus!=="all"||w.userRole!=="all"||w.dateRange)&&o.jsx("span",{className:"w-2 h-2 bg-blue-600 rounded-full"})]}),o.jsxs(H,{variant:"outline",onClick:M,isLoading:i,className:"flex items-center space-x-2",children:[o.jsx(Ha,{className:"w-4 h-4"}),o.jsx("span",{children:"Export CSV"})]}),o.jsxs(H,{variant:"outline",onClick:C,isLoading:n,className:"flex items-center space-x-2",children:[o.jsx(q0,{className:"w-4 h-4"}),o.jsx("span",{children:"Refresh"})]})]})]}),x&&o.jsx(X,{className:"border-blue-200 bg-blue-50",children:o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Advanced Filters"}),o.jsx(H,{variant:"ghost",size:"sm",onClick:()=>y(!1),children:o.jsx(yi,{className:"w-4 h-4"})})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Subscription Status"}),o.jsxs("select",{value:b.subscriptionStatus,onChange:P=>k(q=>({...q,subscriptionStatus:P.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[o.jsx("option",{value:"all",children:"All Statuses"}),o.jsx("option",{value:"active",children:"Active Subscription"}),o.jsx("option",{value:"inactive",children:"No Subscription"}),o.jsx("option",{value:"cancelled",children:"Cancelled"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"User Role"}),o.jsxs("select",{value:b.userRole,onChange:P=>k(q=>({...q,userRole:P.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[o.jsx("option",{value:"all",children:"All Roles"}),o.jsx("option",{value:"user",children:"Regular Users"}),o.jsx("option",{value:"admin",children:"Administrators"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Sort By"}),o.jsxs("div",{className:"flex space-x-2",children:[o.jsxs("select",{value:b.sortBy,onChange:P=>k(q=>({...q,sortBy:P.target.value})),className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[o.jsx("option",{value:"created_at",children:"Join Date"}),o.jsx("option",{value:"name",children:"Name"}),o.jsx("option",{value:"last_login",children:"Last Login"})]}),o.jsxs("select",{value:b.sortOrder,onChange:P=>k(q=>({...q,sortOrder:P.target.value})),className:"px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[o.jsx("option",{value:"desc",children:"Newest"}),o.jsx("option",{value:"asc",children:"Oldest"})]})]})]})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-blue-200",children:[o.jsx(H,{variant:"outline",onClick:W,children:"Reset Filters"}),o.jsx(H,{onClick:A,children:"Apply Filters"})]})]})}),o.jsxs(X,{padding:"none",children:[o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"w-full",children:[o.jsx("thead",{className:"bg-gray-50",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"User"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Role"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Subscription"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Activity"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Joined"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),o.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:t.map(P=>{var q,N;return o.jsxs("tr",{className:"hover:bg-gray-50",children:[o.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:o.jsxs("div",{className:"flex items-center",children:[o.jsx("div",{className:"flex-shrink-0 h-10 w-10",children:o.jsx("div",{className:"h-10 w-10 rounded-full bg-gradient-to-r from-blue-500 to-purple-600 flex items-center justify-center",children:o.jsxs("span",{className:"text-white font-medium text-sm",children:[(q=P.first_name)==null?void 0:q[0],(N=P.last_name)==null?void 0:N[0]]})})}),o.jsxs("div",{className:"ml-4",children:[o.jsxs("div",{className:"text-sm font-medium text-gray-900 flex items-center space-x-2",children:[o.jsxs("span",{children:[P.first_name," ",P.last_name]}),P.is_admin&&o.jsx(Nn,{className:"w-4 h-4 text-yellow-500",title:"Administrator"})]}),o.jsx("div",{className:"text-sm text-gray-500",children:P.email})]})]})}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:o.jsx("div",{className:"flex items-center space-x-2",children:P.is_admin?o.jsxs(o.Fragment,{children:[o.jsx(K0,{className:"w-4 h-4 text-red-600"}),o.jsx("span",{className:"text-sm font-medium text-red-600",children:"Admin"})]}):o.jsxs(o.Fragment,{children:[o.jsx(bc,{className:"w-4 h-4 text-gray-600"}),o.jsx("span",{className:"text-sm text-gray-600",children:"User"})]})})}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:he(P.subscription_status,P.subscription_package)}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:o.jsxs("div",{children:[o.jsxs("div",{children:[P.total_analyses," analyses"]}),o.jsxs("div",{className:"text-xs text-gray-400",children:["Last seen: ",Ce(new Date(P.last_login),"MMM dd")]})]})}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:Ce(new Date(P.created_at),"MMM dd, yyyy")}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(H,{variant:"ghost",size:"sm",onClick:()=>V(P),children:o.jsx(_c,{className:"w-4 h-4"})}),o.jsxs("div",{className:"relative group",children:[o.jsx(H,{variant:"ghost",size:"sm",children:o.jsx(W0,{className:"w-4 h-4"})}),o.jsxs("div",{className:"absolute right-0 mt-2 w-48 bg-white rounded-lg shadow-lg border border-gray-200 py-1 opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all duration-200 z-10",children:[o.jsxs("button",{onClick:()=>Q(P.id,!P.is_admin),className:"w-full px-4 py-2 text-left text-sm text-gray-700 hover:bg-gray-50 flex items-center space-x-2",children:[o.jsx(ph,{className:"w-4 h-4"}),o.jsx("span",{children:P.is_admin?"Remove Admin":"Make Admin"})]}),o.jsxs("button",{onClick:()=>{confirm("Are you sure you want to delete this user? This action cannot be undone.")&&Te.deleteUser(P.id).then(()=>{C(),alert("User deleted successfully")}).catch(()=>{alert("Failed to delete user")})},className:"w-full px-4 py-2 text-left text-sm text-red-600 hover:bg-red-50 flex items-center space-x-2",children:[o.jsx(fh,{className:"w-4 h-4"}),o.jsx("span",{children:"Delete User"})]})]})]})]})})]},P.id)})})]})}),o.jsxs("div",{className:"px-6 py-3 border-t border-gray-200 flex items-center justify-between",children:[o.jsxs("div",{className:"text-sm text-gray-500",children:["Page ",s," of ",c,"  ",f," users"]}),o.jsxs("div",{className:"flex space-x-2",children:[o.jsx(H,{variant:"outline",size:"sm",onClick:()=>l(P=>Math.max(1,P-1)),disabled:s===1,children:o.jsx(I0,{className:"w-4 h-4"})}),o.jsx(H,{variant:"outline",size:"sm",onClick:()=>l(P=>Math.min(c,P+1)),disabled:s===c,children:o.jsx(M0,{className:"w-4 h-4"})})]})]})]}),h&&_&&o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:o.jsxs("div",{className:"bg-white rounded-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[o.jsx("div",{className:"p-6 border-b border-gray-200",children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"User Details"}),o.jsx(H,{variant:"ghost",size:"sm",onClick:()=>m(!1),children:o.jsx(yi,{className:"w-4 h-4"})})]})}),o.jsxs("div",{className:"p-6 space-y-6",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Name"}),o.jsxs("p",{className:"mt-1 text-sm text-gray-900",children:[_.first_name," ",_.last_name]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Email"}),o.jsx("p",{className:"mt-1 text-sm text-gray-900",children:_.email})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Role"}),o.jsx("p",{className:"mt-1 text-sm text-gray-900",children:_.is_admin?"Administrator":"User"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Joined"}),o.jsx("p",{className:"mt-1 text-sm text-gray-900",children:Ce(new Date(_.created_at),"MMM dd, yyyy")})]})]}),_.subscriptions&&_.subscriptions.length>0&&o.jsxs("div",{children:[o.jsx("h4",{className:"text-md font-medium text-gray-900 mb-3",children:"Subscription"}),o.jsx("div",{className:"bg-gray-50 p-4 rounded-lg",children:_.subscriptions.map((P,q)=>{var N;return o.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[o.jsxs("div",{children:[o.jsx("span",{className:"text-gray-600",children:"Package:"}),o.jsx("span",{className:"ml-2 font-medium",children:(N=P.package)==null?void 0:N.name})]}),o.jsxs("div",{children:[o.jsx("span",{className:"text-gray-600",children:"Status:"}),o.jsx("span",{className:"ml-2 font-medium capitalize",children:P.status})]}),o.jsxs("div",{children:[o.jsx("span",{className:"text-gray-600",children:"Start Date:"}),o.jsx("span",{className:"ml-2",children:Ce(new Date(P.start_date),"MMM dd, yyyy")})]}),P.end_date&&o.jsxs("div",{children:[o.jsx("span",{className:"text-gray-600",children:"End Date:"}),o.jsx("span",{className:"ml-2",children:Ce(new Date(P.end_date),"MMM dd, yyyy")})]})]},q)})})]}),_.resume_analyses&&_.resume_analyses.length>0&&o.jsxs("div",{children:[o.jsx("h4",{className:"text-md font-medium text-gray-900 mb-3",children:"Recent Analyses"}),o.jsx("div",{className:"space-y-2",children:_.resume_analyses.slice(0,5).map((P,q)=>{var N;return o.jsxs("div",{className:"flex justify-between items-center p-3 bg-gray-50 rounded-lg",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm font-medium",children:((N=P.resume_templates)==null?void 0:N.name)||"Unknown Template"}),o.jsx("p",{className:"text-xs text-gray-500",children:Ce(new Date(P.created_at),"MMM dd, yyyy HH:mm")})]}),P.ats_score&&o.jsx("div",{className:"text-right",children:o.jsxs("p",{className:"text-sm font-medium text-blue-600",children:[P.ats_score,"% ATS"]})})]},q)})})]})]})]})})]})},h1=({revenueData:t,userActivityData:e})=>{const[n,r]=j.useState("revenue"),i=Math.max(...t.map(u=>u.revenue)),a=Math.max(...t.map(u=>u.subscriptions)),s=Math.max(...e.map(u=>u.newUsers)),l=Math.max(...e.map(u=>u.activeUsers)),c=Math.max(...e.map(u=>u.analyses));return o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Analytics Dashboard"}),o.jsxs("div",{className:"flex space-x-2",children:[o.jsxs(H,{variant:n==="revenue"?"primary":"outline",onClick:()=>r("revenue"),size:"sm",children:[o.jsx(uh,{className:"w-4 h-4 mr-2"}),"Revenue"]}),o.jsxs(H,{variant:n==="activity"?"primary":"outline",onClick:()=>r("activity"),size:"sm",children:[o.jsx(Xr,{className:"w-4 h-4 mr-2"}),"User Activity"]})]})]}),n==="revenue"&&o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[o.jsxs(X,{children:[o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Monthly Revenue"}),o.jsx(Wa,{className:"w-5 h-5 text-blue-600"})]}),o.jsx("div",{className:"space-y-4",children:t.map((u,d)=>o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex justify-between text-sm",children:[o.jsx("span",{className:"text-gray-600",children:u.month}),o.jsxs("span",{className:"font-medium",children:["$",u.revenue.toLocaleString()]})]}),o.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:o.jsx("div",{className:"bg-blue-600 h-2 rounded-full transition-all duration-1000",style:{width:`${i>0?u.revenue/i*100:0}%`}})})]},d))})]}),o.jsxs(X,{children:[o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"New Subscriptions"}),o.jsx(ga,{className:"w-5 h-5 text-green-600"})]}),o.jsx("div",{className:"space-y-4",children:t.map((u,d)=>o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex justify-between text-sm",children:[o.jsx("span",{className:"text-gray-600",children:u.month}),o.jsx("span",{className:"font-medium",children:u.subscriptions})]}),o.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:o.jsx("div",{className:"bg-green-600 h-2 rounded-full transition-all duration-1000",style:{width:`${a>0?u.subscriptions/a*100:0}%`}})})]},d))})]})]}),n==="activity"&&o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[o.jsxs(X,{children:[o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"New Users (30 days)"}),o.jsx(bc,{className:"w-5 h-5 text-blue-600"})]}),o.jsx("div",{className:"space-y-2 max-h-64 overflow-y-auto",children:e.slice(-10).map((u,d)=>o.jsxs("div",{className:"space-y-1",children:[o.jsxs("div",{className:"flex justify-between text-xs",children:[o.jsx("span",{className:"text-gray-600",children:u.date}),o.jsx("span",{className:"font-medium",children:u.newUsers})]}),o.jsx("div",{className:"w-full bg-gray-200 rounded-full h-1",children:o.jsx("div",{className:"bg-blue-600 h-1 rounded-full transition-all duration-500",style:{width:`${s>0?u.newUsers/s*100:0}%`}})})]},d))})]}),o.jsxs(X,{children:[o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Active Users (30 days)"}),o.jsx(Xr,{className:"w-5 h-5 text-green-600"})]}),o.jsx("div",{className:"space-y-2 max-h-64 overflow-y-auto",children:e.slice(-10).map((u,d)=>o.jsxs("div",{className:"space-y-1",children:[o.jsxs("div",{className:"flex justify-between text-xs",children:[o.jsx("span",{className:"text-gray-600",children:u.date}),o.jsx("span",{className:"font-medium",children:u.activeUsers})]}),o.jsx("div",{className:"w-full bg-gray-200 rounded-full h-1",children:o.jsx("div",{className:"bg-green-600 h-1 rounded-full transition-all duration-500",style:{width:`${l>0?u.activeUsers/l*100:0}%`}})})]},d))})]}),o.jsxs(X,{children:[o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Daily Analyses (30 days)"}),o.jsx(Wa,{className:"w-5 h-5 text-purple-600"})]}),o.jsx("div",{className:"space-y-2 max-h-64 overflow-y-auto",children:e.slice(-10).map((u,d)=>o.jsxs("div",{className:"space-y-1",children:[o.jsxs("div",{className:"flex justify-between text-xs",children:[o.jsx("span",{className:"text-gray-600",children:u.date}),o.jsx("span",{className:"font-medium",children:u.analyses})]}),o.jsx("div",{className:"w-full bg-gray-200 rounded-full h-1",children:o.jsx("div",{className:"bg-purple-600 h-1 rounded-full transition-all duration-500",style:{width:`${c>0?u.analyses/c*100:0}%`}})})]},d))})]})]}),o.jsxs(X,{children:[o.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"30-Day Summary"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[o.jsxs("div",{className:"text-center p-4 bg-blue-50 rounded-lg",children:[o.jsx("p",{className:"text-2xl font-bold text-blue-600",children:e.reduce((u,d)=>u+d.newUsers,0)}),o.jsx("p",{className:"text-sm text-blue-800",children:"Total New Users"})]}),o.jsxs("div",{className:"text-center p-4 bg-green-50 rounded-lg",children:[o.jsx("p",{className:"text-2xl font-bold text-green-600",children:Math.round(e.reduce((u,d)=>u+d.activeUsers,0)/e.length)}),o.jsx("p",{className:"text-sm text-green-800",children:"Avg Daily Active"})]}),o.jsxs("div",{className:"text-center p-4 bg-purple-50 rounded-lg",children:[o.jsx("p",{className:"text-2xl font-bold text-purple-600",children:e.reduce((u,d)=>u+d.analyses,0)}),o.jsx("p",{className:"text-sm text-purple-800",children:"Total Analyses"})]}),o.jsxs("div",{className:"text-center p-4 bg-orange-50 rounded-lg",children:[o.jsx("p",{className:"text-2xl font-bold text-orange-600",children:Math.round(e.reduce((u,d)=>u+d.analyses,0)/e.length)}),o.jsx("p",{className:"text-sm text-orange-800",children:"Avg Daily Analyses"})]})]})]})]})]})},m1=()=>{const[t,e]=j.useState("overview"),[n,r]=j.useState({totalUsers:0,activeSubscriptions:0,monthlyRevenue:0,totalAnalyses:0,userGrowth:0,subscriptionGrowth:0,revenueGrowth:0,analysisGrowth:0}),[i,a]=j.useState(null),[s,l]=j.useState([]),[c,u]=j.useState([]),[d,p]=j.useState([]),[f,v]=j.useState([]),[x,y]=j.useState(!0),[_,g]=j.useState(!1);j.useEffect(()=>{h()},[]);const h=async()=>{try{y(!0);const[b,k,C,L,A,W]=await Promise.all([Te.getDashboardStats(),Te.getUsageStats(),Te.getRevenueChart(6),Te.getUserActivity(30),Te.getRecentSubscriptions(5),Te.getTopTemplates(5)]);r(b),a(k),l(C),u(L),p(A),v(W)}catch(b){console.error("Error loading dashboard data:",b)}finally{y(!1)}},m=async()=>{g(!0),await h(),g(!1)},w=[{id:"overview",name:"Overview",icon:ga},{id:"analytics",name:"Analytics",icon:Wa},{id:"packages",name:"Packages",icon:td},{id:"users",name:"Users",icon:hh}],S=[{name:"Total Users",value:n.totalUsers.toLocaleString(),icon:bc,change:`${n.userGrowth>0?"+":""}${n.userGrowth}%`,changeType:n.userGrowth>=0?"positive":"negative",description:"vs last month"},{name:"Active Subscriptions",value:n.activeSubscriptions.toLocaleString(),icon:ga,change:`${n.subscriptionGrowth>0?"+":""}${n.subscriptionGrowth}%`,changeType:n.subscriptionGrowth>=0?"positive":"negative",description:"vs last month"},{name:"Monthly Revenue",value:`$${n.monthlyRevenue.toLocaleString()}`,icon:uh,change:`${n.revenueGrowth>0?"+":""}${n.revenueGrowth}%`,changeType:n.revenueGrowth>=0?"positive":"negative",description:"vs last month"},{name:"AI Analyses",value:n.totalAnalyses.toLocaleString(),icon:Xr,change:`${n.analysisGrowth>0?"+":""}${n.analysisGrowth}%`,changeType:n.analysisGrowth>=0?"positive":"negative",description:"vs last month"}];return x?o.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:o.jsxs("div",{className:"animate-pulse space-y-8",children:[o.jsx("div",{className:"h-8 bg-gray-200 rounded w-1/4"}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[...Array(4)].map((b,k)=>o.jsx("div",{className:"h-32 bg-gray-200 rounded-lg"},k))})]})}):o.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[o.jsxs("div",{className:"mb-8 flex justify-between items-center",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Admin Dashboard"}),o.jsx("p",{className:"text-gray-600",children:"Manage your platform, users, and subscription packages."})]}),o.jsxs(H,{onClick:m,variant:"outline",isLoading:_,className:"flex items-center space-x-2",children:[o.jsx(Xr,{className:"w-4 h-4"}),o.jsx("span",{children:"Refresh Data"})]})]}),o.jsx("div",{className:"mb-8",children:o.jsx("nav",{className:"flex space-x-1 bg-gray-100 p-1 rounded-lg w-fit",children:w.map(b=>{const k=b.icon;return o.jsxs("button",{onClick:()=>e(b.id),className:`
                  flex items-center space-x-2 px-4 py-2 rounded-lg font-medium transition-all duration-200
                  ${t===b.id?"bg-white text-blue-600 shadow-sm":"text-gray-600 hover:text-gray-900 hover:bg-gray-200"}
                `,children:[o.jsx(k,{className:"w-4 h-4"}),o.jsx("span",{children:b.name})]},b.id)})})}),t==="overview"&&o.jsxs("div",{className:"space-y-8",children:[o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:S.map(b=>{const k=b.icon,C=b.changeType==="positive"?ga:G0;return o.jsx(X,{hover:!0,children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex-1",children:[o.jsx("p",{className:"text-sm font-medium text-gray-600",children:b.name}),o.jsx("p",{className:"text-2xl font-bold text-gray-900 mt-1",children:b.value}),o.jsxs("div",{className:"flex items-center mt-2",children:[o.jsx(C,{className:`w-4 h-4 mr-1 ${b.changeType==="positive"?"text-green-600":"text-red-600"}`}),o.jsx("span",{className:`text-sm font-medium ${b.changeType==="positive"?"text-green-600":"text-red-600"}`,children:b.change}),o.jsx("span",{className:"text-sm text-gray-500 ml-1",children:b.description})]})]}),o.jsx("div",{className:"p-3 bg-blue-50 rounded-lg",children:o.jsx(k,{className:"w-6 h-6 text-blue-600"})})]})},b.name)})}),i&&o.jsxs(X,{children:[o.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-6",children:"Platform Usage"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(dh,{className:"w-4 h-4 text-blue-600"}),o.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Resume Uploads"})]}),o.jsxs("span",{className:"text-sm font-bold text-gray-900",children:[i.resumeUploads.percentage,"%"]})]}),o.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:o.jsx("div",{className:"bg-blue-600 h-2 rounded-full transition-all duration-1000",style:{width:`${i.resumeUploads.percentage}%`}})}),o.jsxs("p",{className:"text-xs text-gray-500",children:[i.resumeUploads.current," this month / ",i.resumeUploads.total," total"]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(Xr,{className:"w-4 h-4 text-green-600"}),o.jsx("span",{className:"text-sm font-medium text-gray-700",children:"AI Analyses"})]}),o.jsxs("span",{className:"text-sm font-bold text-gray-900",children:[i.aiAnalyses.percentage,"%"]})]}),o.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:o.jsx("div",{className:"bg-green-600 h-2 rounded-full transition-all duration-1000",style:{width:`${i.aiAnalyses.percentage}%`}})}),o.jsxs("p",{className:"text-xs text-gray-500",children:[i.aiAnalyses.current," this month / ",i.aiAnalyses.total," total"]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(td,{className:"w-4 h-4 text-purple-600"}),o.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Template Usage"})]}),o.jsxs("span",{className:"text-sm font-bold text-gray-900",children:[i.templateUsage.percentage,"%"]})]}),o.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:o.jsx("div",{className:"bg-purple-600 h-2 rounded-full transition-all duration-1000",style:{width:`${i.templateUsage.percentage}%`}})}),o.jsxs("p",{className:"text-xs text-gray-500",children:[i.templateUsage.current," this month / ",i.templateUsage.total," total"]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(Ha,{className:"w-4 h-4 text-orange-600"}),o.jsx("span",{className:"text-sm font-medium text-gray-700",children:"PDF Downloads"})]}),o.jsxs("span",{className:"text-sm font-bold text-gray-900",children:[i.pdfDownloads.percentage,"%"]})]}),o.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:o.jsx("div",{className:"bg-orange-600 h-2 rounded-full transition-all duration-1000",style:{width:`${i.pdfDownloads.percentage}%`}})}),o.jsxs("p",{className:"text-xs text-gray-500",children:[i.pdfDownloads.current," this month / ",i.pdfDownloads.total," total"]})]})]})]}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[o.jsxs(X,{children:[o.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Recent Subscriptions"}),o.jsx("div",{className:"space-y-3",children:d.map((b,k)=>{var C,L,A;return o.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[o.jsxs("div",{children:[o.jsxs("p",{className:"font-medium text-gray-900",children:[(C=b.profiles)==null?void 0:C.first_name," ",(L=b.profiles)==null?void 0:L.last_name]}),o.jsx("p",{className:"text-sm text-gray-600",children:(A=b.package)==null?void 0:A.name})]}),o.jsxs("div",{className:"text-right",children:[o.jsx("p",{className:"text-sm font-medium text-green-600 capitalize",children:b.status}),o.jsx("p",{className:"text-xs text-gray-500",children:Ce(new Date(b.created_at),"MMM dd, yyyy")})]})]},k)})})]}),o.jsxs(X,{children:[o.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Top Templates"}),o.jsx("div",{className:"space-y-3",children:f.map((b,k)=>{var C,L;return o.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[o.jsxs("div",{children:[o.jsx("p",{className:"font-medium text-gray-900",children:(C=b.template)==null?void 0:C.name}),o.jsx("p",{className:"text-sm text-gray-600 capitalize",children:(L=b.template)==null?void 0:L.category})]}),o.jsxs("div",{className:"text-right",children:[o.jsxs("p",{className:"text-sm font-medium text-blue-600",children:[b.count," uses"]}),o.jsx("div",{className:"w-16 bg-gray-200 rounded-full h-1 mt-1",children:o.jsx("div",{className:"bg-blue-600 h-1 rounded-full",style:{width:`${Math.min(b.count/Math.max(...f.map(A=>A.count))*100,100)}%`}})})]})]},k)})})]})]})]}),t==="analytics"&&o.jsx("div",{className:"space-y-8",children:o.jsx(h1,{revenueData:s,userActivityData:c})}),t==="packages"&&o.jsx(p1,{}),t==="users"&&o.jsx(f1,{})]})};class wd{static async getPackages(){const{data:e,error:n}=await R.from("packages").select("*").eq("is_active",!0).order("price");if(n)throw n;return e}static async initializePayment(e){var i,a;const{data:{session:n},error:r}=await R.auth.getSession();if(r||!n)throw new Error("User not authenticated");try{const s=await fetch("https://qcaibguxsmwzihehhhar.supabase.co/functions/v1/initialize-payment",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${n.access_token}`},body:JSON.stringify({packageId:e})});if(!s.ok){const c=await s.json().catch(()=>({}));throw new Error(c.error||`HTTP error! status: ${s.status}`)}const l=await s.json();if(!l.success)throw new Error(l.error||"Payment initialization failed");return l}catch(s){if(console.error("Payment initialization failed:",s),(i=s.message)!=null&&i.includes("fetch")||(a=s.message)!=null&&a.includes("404"))return console.warn("Edge Function not available, using fallback demo payment"),this.createDemoPaymentResponse(e);throw s}}static async verifyPayment(e){var i,a;const{data:{session:n},error:r}=await R.auth.getSession();if(r||!n)throw new Error("User not authenticated");try{const s=await fetch("https://qcaibguxsmwzihehhhar.supabase.co/functions/v1/verify-payment",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${n.access_token}`},body:JSON.stringify({reference:e})});if(!s.ok){const c=await s.json().catch(()=>({}));throw new Error(c.error||`HTTP error! status: ${s.status}`)}const l=await s.json();if(!l.success)throw new Error(l.error||"Payment verification failed");return l}catch(s){if(console.error("Payment verification failed:",s),(i=s.message)!=null&&i.includes("fetch")||(a=s.message)!=null&&a.includes("404"))return console.warn("Edge Function not available, using fallback demo verification"),this.createDemoVerificationResponse(e);throw s}}static async createDemoPaymentResponse(e){const{data:{user:n}}=await R.auth.getUser();if(!n)throw new Error("User not authenticated");const{data:r}=await R.from("packages").select("*").eq("id",e).single();if(!r)throw new Error("Package not found");const{data:i}=await R.from("payment_transactions").insert({user_id:n.id,amount:r.price,currency:r.currency,status:"pending",paystack_reference:`demo_${Date.now()}`,metadata:{package_id:e}}).select().single();return{status:!0,message:"Demo payment initialized",data:{authorization_url:`${window.location.origin}/payment/demo?reference=${i==null?void 0:i.paystack_reference}&amount=${r.price*100}&email=${n.email}`,access_code:"demo_access_code",reference:i==null?void 0:i.paystack_reference}}}static async createDemoVerificationResponse(e){const{data:{user:n}}=await R.auth.getUser();if(!n)throw new Error("User not authenticated");const{data:r}=await R.from("payment_transactions").select("*").eq("paystack_reference",e).eq("user_id",n.id).single();if(!r)throw new Error("Transaction not found");await R.from("payment_transactions").update({status:"completed"}).eq("id",r.id);const i=r.metadata.package_id,a=new Date;return a.setDate(a.getDate()+30),await R.from("subscriptions").upsert({user_id:r.user_id,package_id:i,status:"active",start_date:new Date().toISOString(),end_date:a.toISOString(),auto_renew:!0}),{success:!0,data:{transaction:r,payment_data:{status:"success",reference:e}}}}static async cancelSubscription(e){const{data:{user:n}}=await R.auth.getUser();if(!n)throw new Error("User not authenticated");const{error:r}=await R.from("subscriptions").update({status:"cancelled",auto_renew:!1}).eq("id",e).eq("user_id",n.id);if(r)throw r}static async getUserSubscription(){const{data:{user:e}}=await R.auth.getUser();if(!e)return null;const{data:n,error:r}=await R.from("subscriptions").select(`
        *,
        package:packages(*)
      `).eq("user_id",e.id).eq("status","active").single();if(r&&r.code!=="PGRST116")throw r;return n}}const g1=({isOpen:t,onClose:e,onSuccess:n})=>{const[r,i]=j.useState([]),[a,s]=j.useState(""),[l,c]=j.useState(!1),[u,d]=j.useState(!0),[p,f]=j.useState("");j.useEffect(()=>{t&&v()},[t]);const v=async()=>{try{f("");const y=await wd.getPackages();i(y.filter(_=>_.price>0)),d(!1)}catch(y){console.error("Error loading packages:",y),f("Failed to load subscription packages"),d(!1)}},x=async()=>{var y;if(a){c(!0),f("");try{const _=await wd.initializePayment(a);if((y=_.data)!=null&&y.authorization_url)window.location.href=_.data.authorization_url;else throw new Error("Payment initialization failed - no authorization URL received")}catch(_){console.error("Subscription failed:",_),f(_.message||"Subscription failed. Please try again."),c(!1)}}};return t?o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:o.jsxs("div",{className:"bg-white rounded-xl max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:[o.jsx("div",{className:"p-6 border-b border-gray-200",children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Upgrade to Premium"}),o.jsx("p",{className:"text-gray-600 mt-1",children:"Unlock all features and get unlimited access"})]}),o.jsx("button",{onClick:e,className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",disabled:l,children:o.jsx(yi,{className:"w-5 h-5 text-gray-500"})})]})}),o.jsxs("div",{className:"p-6",children:[p&&o.jsx("div",{className:"mb-6 p-4 bg-red-50 border border-red-200 rounded-lg",children:o.jsx("p",{className:"text-red-700 text-sm",children:p})}),u?o.jsx("div",{className:"flex items-center justify-center py-12",children:o.jsx(F0,{className:"w-8 h-8 animate-spin text-blue-600"})}):o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:r.map(y=>o.jsx(X,{className:`cursor-pointer transition-all duration-200 ${a===y.id?"ring-2 ring-blue-500 border-blue-500":"hover:border-gray-300"}`,onClick:()=>!l&&s(y.id),children:o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex justify-between items-start",children:[o.jsxs("div",{children:[o.jsxs("h3",{className:"text-xl font-semibold text-gray-900 flex items-center space-x-2",children:[o.jsx("span",{children:y.name}),o.jsx(Nn,{className:"w-5 h-5 text-yellow-500"})]}),o.jsx("p",{className:"text-gray-600 mt-1",children:y.description})]}),o.jsxs("div",{className:"text-right",children:[o.jsxs("div",{className:"text-2xl font-bold text-blue-600",children:["$",y.price]}),o.jsx("div",{className:"text-sm text-gray-500",children:"per month"})]})]}),o.jsxs("div",{children:[o.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Features included:"}),o.jsx("ul",{className:"space-y-2",children:y.features.map((_,g)=>o.jsxs("li",{className:"flex items-center space-x-2 text-sm",children:[o.jsx(vi,{className:"w-4 h-4 text-green-500 flex-shrink-0"}),o.jsx("span",{className:"text-gray-700",children:_})]},g))})]}),o.jsxs("div",{className:"pt-4 border-t border-gray-200",children:[o.jsxs("div",{className:"flex justify-between text-sm",children:[o.jsx("span",{className:"text-gray-600",children:"Template Access:"}),o.jsx("span",{className:"font-medium",children:y.template_access===-1?"All Templates":`${y.template_access} Templates`})]}),o.jsxs("div",{className:"flex justify-between text-sm mt-1",children:[o.jsx("span",{className:"text-gray-600",children:"Monthly Analyses:"}),o.jsx("span",{className:"font-medium",children:y.analysis_limit===-1?"Unlimited":y.analysis_limit})]})]}),a===y.id&&o.jsx("div",{className:"p-3 bg-blue-50 rounded-lg border border-blue-200",children:o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(vi,{className:"w-4 h-4 text-blue-600"}),o.jsx("span",{className:"text-sm font-medium text-blue-800",children:"Selected Plan"})]})})]})},y.id))}),o.jsxs("div",{className:"mt-8 text-center",children:[o.jsx(H,{onClick:x,disabled:!a||l,isLoading:l,size:"lg",className:"px-8",children:l?"Redirecting to Payment...":"Subscribe Now"}),o.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"Secure payment powered by Paystack"}),o.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"You will be redirected to Paystack's secure checkout page"})]})]})]})]})}):null},v1=()=>{const{user:t,profile:e,isLoading:n}=Ni(),[r,i]=j.useState(!0),[a,s]=j.useState(!1),l=!!t&&!!e;return n?o.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):l?o.jsxs("div",{className:"min-h-screen bg-gray-50",children:[o.jsx(Q0,{onUpgradeClick:()=>s(!0)}),o.jsx("main",{children:e!=null&&e.is_admin?o.jsx(m1,{}):o.jsx(iw,{})}),o.jsx(g1,{isOpen:a,onClose:()=>s(!1),onSuccess:()=>window.location.reload()})]}):o.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-purple-50 flex items-center justify-center p-4",children:o.jsx("div",{className:"w-full max-w-md",children:r?o.jsx(J0,{onToggleForm:()=>i(!1)}):o.jsx(X0,{onToggleForm:()=>i(!0)})})})};function y1(){return o.jsx(T0,{children:o.jsx(v1,{})})}If(document.getElementById("root")).render(o.jsx(j.StrictMode,{children:o.jsx(y1,{})}));export{Ya as _,At as a,_d as b,it as c,$h as g};
