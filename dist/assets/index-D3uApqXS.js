const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/jspdf.es.min-a3rWTmMz.js","assets/supabase-DxtlfJa1.js","assets/vendor-VDje9Jtb.js","assets/ui-BNWH1MAB.js","assets/ResumeDocument-B4EcVh65.js","assets/index-Gp6FNohe.js"])))=>i.map(i=>d[i]);
import{r as m,a as Ma,b as za,R as Ra}from"./vendor-VDje9Jtb.js";import{c as Ua,_ as pe}from"./supabase-DxtlfJa1.js";import{c as Qe,X as ae,I as ta,A as Ia,a as ee,C as re,R as aa,S as we,b as xt,B as ke,F as je,D as Ae,d as oe,Z as sa,e as ra,M as La,f as qa,L as $a,g as Wa,E as ht,h as Se,U as Ya,i as Ba,j as Ga,k as Oe,l as Ha,P as ft,m as na,T as ia,n as Va,o as Xa,p as jt,q as Ka,r as Ja,s as Qa,t as oa,u as Te,v as Ye,w as Za,x as Ft,y as es,z as ts}from"./ui-BNWH1MAB.js";function as(s,t){for(var a=0;a<t.length;a++){const r=t[a];if(typeof r!="string"&&!Array.isArray(r)){for(const n in r)if(n!=="default"&&!(n in s)){const i=Object.getOwnPropertyDescriptor(r,n);i&&Object.defineProperty(s,n,i.get?i:{enumerable:!0,get:()=>r[n]})}}}return Object.freeze(Object.defineProperty(s,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))r(n);new MutationObserver(n=>{for(const i of n)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function a(n){const i={};return n.integrity&&(i.integrity=n.integrity),n.referrerPolicy&&(i.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?i.credentials="include":n.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(n){if(n.ep)return;n.ep=!0;const i=a(n);fetch(n.href,i)}})();var la={exports:{}},Ze={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ss=m,rs=Symbol.for("react.element"),ns=Symbol.for("react.fragment"),is=Object.prototype.hasOwnProperty,os=ss.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,ls={key:!0,ref:!0,__self:!0,__source:!0};function ca(s,t,a){var r,n={},i=null,o=null;a!==void 0&&(i=""+a),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(o=t.ref);for(r in t)is.call(t,r)&&!ls.hasOwnProperty(r)&&(n[r]=t[r]);if(s&&s.defaultProps)for(r in t=s.defaultProps,t)n[r]===void 0&&(n[r]=t[r]);return{$$typeof:rs,type:s,key:i,ref:o,props:n,_owner:os.current}}Ze.Fragment=ns;Ze.jsx=ca;Ze.jsxs=ca;la.exports=Ze;var e=la.exports,Be={},da,Nt,Mt=Ma;Nt=Be.createRoot=Mt.createRoot,da=Be.hydrateRoot=Mt.hydrateRoot;const cs=as({__proto__:null,get createRoot(){return Nt},default:Be,get hydrateRoot(){return da}},[Be]),Ne="https://qcaibguxsmwzihehhhar.supabase.co",pa="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InFjYWliZ3V4c213emloZWhoaGFyIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTAxODEzNTksImV4cCI6MjA2NTc1NzM1OX0.xnzUul9yhfXxV4dICYdwy5TpbE2OIgj8NB0AUnw3gO4",ds=Ne.includes("your-project-id"),ps=pa.includes("your_supabase_anon_key");if(ds||ps){const s=`
🔧 Supabase Configuration Required

To use this application, you need to set up Supabase:

1. Create a Supabase project at https://supabase.com
2. Go to Project Settings > API
3. Copy your Project URL and Public anon key
4. Update your .env file with:
   VITE_SUPABASE_URL=your_actual_project_url
   VITE_SUPABASE_ANON_KEY=your_actual_anon_key
5. Restart the development server

Current values:
- VITE_SUPABASE_URL: ${Ne}
- VITE_SUPABASE_ANON_KEY: [PRESENT BUT INVALID]
  `;throw console.error(s),new Error("Supabase configuration required. Please check the console for setup instructions.")}try{new URL(Ne)}catch{throw console.error("Invalid Supabase URL format:",Ne),new Error(`Invalid Supabase URL format: ${Ne}. Please ensure it starts with https:// and is a valid URL.`)}const C=Ua(Ne,pa),ma=m.createContext(void 0),Me=()=>{const s=m.useContext(ma);if(s===void 0)throw new Error("useAuth must be used within an AuthProvider");return s},ms=({children:s})=>{const[t,a]=m.useState(null),[r,n]=m.useState(null),[i,o]=m.useState(null),[l,p]=m.useState(!0);m.useEffect(()=>{let h=!0;(async()=>{try{const{data:{session:y}}=await C.auth.getSession();y||(localStorage.removeItem("supabase.auth.token"),await C.auth.signOut())}catch(y){console.warn("Error clearing stale tokens:",y),localStorage.removeItem("supabase.auth.token"),await C.auth.signOut()}})(),(async()=>{try{const{data:{session:y},error:b}=await C.auth.getSession();b?(console.warn("Session error:",b),await C.auth.signOut(),h&&(o(null),a(null),n(null),p(!1))):h&&(o(y),a((y==null?void 0:y.user)??null),y!=null&&y.user?await c(y.user.id):p(!1))}catch(y){console.error("Error getting initial session:",y),h&&(o(null),a(null),n(null),p(!1))}})();const{data:{subscription:P}}=C.auth.onAuthStateChange(async(y,b)=>{var M;console.log("Auth state changed:",y,(M=b==null?void 0:b.user)==null?void 0:M.email),h&&(o(b),a((b==null?void 0:b.user)??null),b!=null&&b.user?await c(b.user.id):(n(null),p(!1)))});return()=>{h=!1,P.unsubscribe()}},[]);const c=async h=>{try{const{data:f,error:S}=await C.from("profiles").select("*").eq("id",h).maybeSingle();if(S){console.error("Error fetching profile:",S),n(null),p(!1);return}if(!f){console.warn("No profile found for user:",h),n(null),p(!1);return}const{data:P,error:y}=await C.from("subscriptions").select(`
          *,
          package:packages(*)
        `).eq("user_id",h).eq("status","active").maybeSingle();y&&console.warn("Error fetching subscription:",y);const b={...f,subscription:P||void 0};n(b)}catch(f){console.error("Error fetching profile:",f),n(null)}finally{p(!1)}},g={user:t,profile:r,session:i,isLoading:l,login:async(h,f)=>{var S,P;p(!0);try{const{data:y,error:b}=await C.auth.signInWithPassword({email:h,password:f});if(b)throw b}catch(y){throw console.error("Login error:",y),p(!1),(S=y.message)!=null&&S.includes("Invalid login credentials")?new Error("Invalid email or password"):(P=y.message)!=null&&P.includes("Failed to fetch")||y.name==="TypeError"?new Error("Unable to connect to the database. Please check your internet connection."):new Error(y.message||"Login failed")}},register:async h=>{var f;p(!0);try{const{error:S}=await C.auth.signUp({email:h.email,password:h.password,options:{data:{first_name:h.firstName,last_name:h.lastName}}});if(S)throw S.message.includes("User already registered")||S.message.includes("user_already_exists")?new Error("This email is already registered. Please sign in instead."):S}catch(S){throw console.error("Registration error:",S),p(!1),(f=S.message)!=null&&f.includes("Failed to fetch")||S.name==="TypeError"?new Error("Unable to connect to the database. Please check your internet connection."):S}},logout:async()=>{try{a(null),n(null),o(null);const{error:h}=await C.auth.signOut();h&&console.warn("Logout error (continuing anyway):",h),localStorage.removeItem("supabase.auth.token")}catch(h){throw console.error("Logout error:",h),a(null),n(null),o(null),p(!1),localStorage.removeItem("supabase.auth.token"),new Error(h.message||"Logout failed")}},updateProfile:async h=>{if(!t)throw new Error("No user logged in");try{const{error:f}=await C.from("profiles").update(h).eq("id",t.id);if(f)throw f;await c(t.id)}catch(f){throw console.error("Profile update error:",f),new Error(f.message||"Profile update failed")}}};return e.jsx(ma.Provider,{value:g,children:s})},ua=m.createContext(void 0),ue=()=>{const s=m.useContext(ua);if(!s)throw new Error("useToast must be used within a ToastProvider");return s},us=({children:s})=>{const[t,a]=m.useState([]),r=m.useCallback(d=>{const x=Math.random().toString(36).substr(2,9),v={...d,id:x,duration:d.duration??5e3};a(g=>[...g,v]),v.duration>0&&setTimeout(()=>{p(x)},v.duration)},[]),n=m.useCallback((d,x)=>{r({type:"success",title:d,message:x})},[r]),i=m.useCallback((d,x)=>{r({type:"error",title:d,message:x,duration:7e3})},[r]),o=m.useCallback((d,x)=>{r({type:"warning",title:d,message:x})},[r]),l=m.useCallback((d,x)=>{r({type:"info",title:d,message:x})},[r]),p=m.useCallback(d=>{a(x=>x.filter(v=>v.id!==d))},[]),c=d=>{switch(d){case"success":return e.jsx(re,{className:"w-5 h-5 text-green-600"});case"error":return e.jsx(ee,{className:"w-5 h-5 text-red-600"});case"warning":return e.jsx(Ia,{className:"w-5 h-5 text-yellow-600"});case"info":return e.jsx(ta,{className:"w-5 h-5 text-blue-600"})}},u=d=>{switch(d){case"success":return"bg-green-50 border-green-200";case"error":return"bg-red-50 border-red-200";case"warning":return"bg-yellow-50 border-yellow-200";case"info":return"bg-blue-50 border-blue-200"}};return e.jsxs(ua.Provider,{value:{showToast:r,showSuccess:n,showError:i,showWarning:o,showInfo:l,dismissToast:p},children:[s,e.jsx("div",{className:"fixed top-4 right-4 z-50 space-y-2 max-w-sm",children:t.map(d=>e.jsx("div",{className:Qe("p-4 rounded-lg border shadow-lg transition-all duration-300 transform",u(d.type),"animate-in slide-in-from-right-full"),children:e.jsxs("div",{className:"flex items-start space-x-3",children:[c(d.type),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-sm font-medium text-gray-900",children:d.title}),d.message&&e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:d.message}),d.action&&e.jsx("button",{onClick:d.action.onClick,className:"text-sm font-medium text-blue-600 hover:text-blue-700 mt-2",children:d.action.label})]}),e.jsx("button",{onClick:()=>p(d.id),className:"text-gray-400 hover:text-gray-600 transition-colors",children:e.jsx(ae,{className:"w-4 h-4"})})]})},d.id))})]})},O=({variant:s="primary",size:t="md",children:a,isLoading:r=!1,className:n,disabled:i,...o})=>{const l="inline-flex items-center justify-center font-medium rounded-lg transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed",p={primary:"bg-blue-600 hover:bg-blue-700 text-white focus:ring-blue-500",secondary:"bg-gray-600 hover:bg-gray-700 text-white focus:ring-gray-500",outline:"border-2 border-blue-600 text-blue-600 hover:bg-blue-50 focus:ring-blue-500",ghost:"text-gray-600 hover:bg-gray-100 focus:ring-gray-500",danger:"bg-red-600 hover:bg-red-700 text-white focus:ring-red-500"},c={sm:"px-3 py-1.5 text-sm",md:"px-4 py-2 text-base",lg:"px-6 py-3 text-lg"};return e.jsxs("button",{className:Qe(l,p[s],c[t],n),disabled:i||r,...o,children:[r&&e.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),a]})},I=({children:s,className:t,padding:a="md",hover:r=!1})=>{const n={none:"",sm:"p-4",md:"p-6",lg:"p-8"};return e.jsx("div",{className:Qe("bg-white rounded-xl border border-gray-200 shadow-sm",r&&"hover:shadow-md transition-shadow duration-200",n[a],t),children:s})};class xs extends m.Component{constructor(){super(...arguments),this.state={hasError:!1},this.handleRetry=()=>{this.setState({hasError:!1,error:void 0,errorInfo:void 0})},this.handleReload=()=>{window.location.reload()}}static getDerivedStateFromError(t){return{hasError:!0,error:t}}componentDidCatch(t,a){console.error("ErrorBoundary caught an error:",t,a),this.setState({error:t,errorInfo:a})}render(){return this.state.hasError?this.props.fallback?this.props.fallback:e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center p-4",children:e.jsx(I,{className:"w-full max-w-md text-center",children:e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"flex justify-center",children:e.jsx(ee,{className:"w-12 h-12 text-red-500"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Something went wrong"}),e.jsx("p",{className:"text-gray-600 text-sm mb-4",children:"We encountered an unexpected error. Please try again or refresh the page."}),!1]}),e.jsxs("div",{className:"flex space-x-3",children:[e.jsx(O,{onClick:this.handleRetry,variant:"outline",className:"flex-1",children:"Try Again"}),e.jsxs(O,{onClick:this.handleReload,className:"flex-1",children:[e.jsx(aa,{className:"w-4 h-4 mr-2"}),"Reload Page"]})]})]})})}):this.props.children}}const hs=({onGetStarted:s})=>{const t=[{icon:we,title:"AI-Powered Analysis",description:"Advanced GPT-4 technology analyzes your resume and provides personalized optimization suggestions."},{icon:ke,title:"ATS Optimization",description:"Ensure your resume passes Applicant Tracking Systems with our intelligent keyword optimization."},{icon:je,title:"Professional Templates",description:"Choose from 5 ATS-friendly templates designed by hiring experts and career professionals."},{icon:sa,title:"Instant Results",description:"Get your optimized resume in minutes, not hours. Our AI works faster than any human editor."},{icon:Ae,title:"Multiple Formats",description:"Download your resume as PDF or DOCX, perfectly formatted for any application process."},{icon:ra,title:"Secure & Private",description:"Your data is encrypted and secure. We never share your information with third parties."}],a=[{name:"Sarah Johnson",role:"Software Engineer",company:"Tech Corp",quote:"ResumeAI helped me land my dream job! The ATS optimization was a game-changer.",avatar:"SJ"},{name:"Michael Chen",role:"Marketing Manager",company:"Growth Inc",quote:"I got 3x more interview calls after using ResumeAI. The AI suggestions were spot-on.",avatar:"MC"},{name:"Emily Rodriguez",role:"Data Analyst",company:"Analytics Pro",quote:"The professional templates and keyword optimization made all the difference.",avatar:"ER"}],r=[{name:"Free",price:"$0",period:"forever",features:["1 Resume Template","5 AI Analyses per month","Basic Support","PDF Download"],cta:"Get Started Free",popular:!1},{name:"Premium",price:"$19.99",period:"per month",features:["All Resume Templates","Unlimited AI Analyses","Priority Support","PDF & DOCX Downloads","Advanced AI Features","ATS Score Analysis"],cta:"Start Premium Trial",popular:!0}];return e.jsxs("div",{className:"min-h-screen bg-white",children:[e.jsx("section",{className:"relative bg-gradient-to-br from-blue-50 via-white to-purple-50 overflow-hidden",children:e.jsx("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 py-12 lg:py-20",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 lg:gap-12 items-center",children:[e.jsxs("div",{className:"text-center lg:text-left",children:[e.jsxs("h1",{className:"text-3xl sm:text-4xl lg:text-5xl xl:text-6xl font-bold text-gray-900 leading-tight mb-6",children:["Transform Your Resume with"," ",e.jsx("span",{className:"bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent",children:"AI Power"})]}),e.jsx("p",{className:"text-lg sm:text-xl text-gray-600 mb-8 leading-relaxed",children:"Get ATS-optimized resumes that land interviews. Our AI analyzes job descriptions and tailors your resume to match exactly what employers are looking for."}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center lg:justify-start mb-8",children:[e.jsxs(O,{onClick:s,size:"lg",className:"px-8 py-4 text-lg font-semibold bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 transform hover:scale-105 transition-all duration-200",children:[e.jsx(we,{className:"w-5 h-5 mr-2"}),"Start Free Analysis",e.jsx(xt,{className:"w-5 h-5 ml-2"})]}),e.jsx(O,{variant:"outline",size:"lg",className:"px-8 py-4 text-lg font-semibold border-2 hover:bg-gray-50",children:"Watch Demo"})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-center lg:justify-start gap-6 text-sm text-gray-600",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"flex -space-x-2",children:[1,2,3,4].map(n=>e.jsx("div",{className:"w-8 h-8 rounded-full bg-gradient-to-r from-blue-500 to-purple-500 border-2 border-white flex items-center justify-center text-white text-xs font-semibold",children:n},n))}),e.jsx("span",{className:"font-medium",children:"10,000+ professionals trust us"})]}),e.jsxs("div",{className:"flex items-center space-x-1",children:[[1,2,3,4,5].map(n=>e.jsx("span",{className:"text-yellow-400 text-lg",children:"★"},n)),e.jsx("span",{className:"ml-2 font-medium",children:"4.9/5 rating"})]})]})]}),e.jsxs("div",{className:"relative",children:[e.jsxs("div",{className:"relative z-10",children:[e.jsx("img",{src:"https://images.pexels.com/photos/3184465/pexels-photo-3184465.jpeg?auto=compress&cs=tinysrgb&w=800&h=600&fit=crop",alt:"Professional hiring team reviewing resumes",className:"w-full h-64 sm:h-80 lg:h-96 object-cover rounded-2xl shadow-2xl"}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/20 to-transparent rounded-2xl"})]}),e.jsx("div",{className:"absolute -top-4 -right-4 bg-white p-4 rounded-xl shadow-lg border",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(re,{className:"w-5 h-5 text-green-500"}),e.jsx("span",{className:"text-sm font-medium",children:"ATS Optimized"})]})}),e.jsx("div",{className:"absolute -bottom-4 -left-4 bg-white p-4 rounded-xl shadow-lg border",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ke,{className:"w-5 h-5 text-blue-500"}),e.jsx("span",{className:"text-sm font-medium",children:"95% Match Score"})]})})]})]})})}),e.jsx("section",{className:"py-16 lg:py-24 bg-gray-50",children:e.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"text-center mb-16",children:[e.jsx("h2",{className:"text-3xl sm:text-4xl lg:text-5xl font-bold text-gray-900 mb-6",children:"Why Choose ResumeAI?"}),e.jsx("p",{className:"text-lg sm:text-xl text-gray-600 max-w-3xl mx-auto",children:"Our AI-powered platform combines cutting-edge technology with hiring expertise to give you the competitive edge you need."})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:t.map((n,i)=>{const o=n.icon;return e.jsxs(I,{className:"p-6 lg:p-8 hover:shadow-xl transition-all duration-300 transform hover:-translate-y-1",children:[e.jsx("div",{className:"flex items-center justify-center w-12 h-12 bg-gradient-to-r from-blue-500 to-purple-500 rounded-xl mb-6",children:e.jsx(o,{className:"w-6 h-6 text-white"})}),e.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-4",children:n.title}),e.jsx("p",{className:"text-gray-600 leading-relaxed",children:n.description})]},i)})})]})}),e.jsx("section",{className:"py-16 lg:py-24",children:e.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"text-center mb-16",children:[e.jsx("h2",{className:"text-3xl sm:text-4xl lg:text-5xl font-bold text-gray-900 mb-6",children:"How It Works"}),e.jsx("p",{className:"text-lg sm:text-xl text-gray-600 max-w-3xl mx-auto",children:"Get your optimized resume in just 3 simple steps"})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8 lg:gap-12",children:[{step:"01",title:"Upload Your Resume",description:"Upload your current resume in PDF or DOCX format. Our AI will extract and analyze your content.",icon:je},{step:"02",title:"Add Job Description",description:"Paste the job description you're applying for. Our AI will identify key requirements and skills.",icon:we},{step:"03",title:"Get Optimized Resume",description:"Download your ATS-optimized resume with improved keywords, formatting, and content.",icon:Ae}].map((n,i)=>{const o=n.icon;return e.jsxs("div",{className:"text-center",children:[e.jsxs("div",{className:"relative mb-8",children:[e.jsx("div",{className:"flex items-center justify-center w-16 h-16 bg-gradient-to-r from-blue-500 to-purple-500 rounded-full mx-auto mb-4",children:e.jsx(o,{className:"w-8 h-8 text-white"})}),e.jsx("div",{className:"absolute -top-2 -right-2 bg-white border-4 border-blue-100 rounded-full w-8 h-8 flex items-center justify-center",children:e.jsx("span",{className:"text-sm font-bold text-blue-600",children:n.step})})]}),e.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-4",children:n.title}),e.jsx("p",{className:"text-gray-600 leading-relaxed",children:n.description})]},i)})})]})}),e.jsx("section",{className:"py-16 lg:py-24 bg-gradient-to-r from-blue-50 to-purple-50",children:e.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"text-center mb-16",children:[e.jsx("h2",{className:"text-3xl sm:text-4xl lg:text-5xl font-bold text-gray-900 mb-6",children:"Success Stories"}),e.jsx("p",{className:"text-lg sm:text-xl text-gray-600 max-w-3xl mx-auto",children:"Join thousands of professionals who've landed their dream jobs with ResumeAI"})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:a.map((n,i)=>e.jsxs(I,{className:"p-6 lg:p-8",children:[e.jsxs("div",{className:"flex items-center mb-6",children:[e.jsx("div",{className:"w-12 h-12 bg-gradient-to-r from-blue-500 to-purple-500 rounded-full flex items-center justify-center text-white font-semibold mr-4",children:n.avatar}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-gray-900",children:n.name}),e.jsxs("p",{className:"text-sm text-gray-600",children:[n.role," at ",n.company]})]})]}),e.jsxs("p",{className:"text-gray-700 italic leading-relaxed",children:['"',n.quote,'"']}),e.jsx("div",{className:"flex mt-4",children:[1,2,3,4,5].map(o=>e.jsx("span",{className:"text-yellow-400",children:"★"},o))})]},i))})]})}),e.jsx("section",{className:"py-16 lg:py-24",children:e.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"text-center mb-16",children:[e.jsx("h2",{className:"text-3xl sm:text-4xl lg:text-5xl font-bold text-gray-900 mb-6",children:"Choose Your Plan"}),e.jsx("p",{className:"text-lg sm:text-xl text-gray-600 max-w-3xl mx-auto",children:"Start free and upgrade when you're ready for unlimited access"})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 max-w-4xl mx-auto",children:r.map((n,i)=>e.jsxs(I,{className:`p-8 relative ${n.popular?"ring-2 ring-blue-500 transform scale-105":""}`,children:[n.popular&&e.jsx("div",{className:"absolute -top-4 left-1/2 transform -translate-x-1/2",children:e.jsxs("span",{className:"bg-gradient-to-r from-blue-500 to-purple-500 text-white px-4 py-2 rounded-full text-sm font-semibold flex items-center",children:[e.jsx(oe,{className:"w-4 h-4 mr-1"}),"Most Popular"]})}),e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:n.name}),e.jsxs("div",{className:"mb-4",children:[e.jsx("span",{className:"text-4xl font-bold text-gray-900",children:n.price}),e.jsx("span",{className:"text-gray-600 ml-2",children:n.period})]})]}),e.jsx("ul",{className:"space-y-4 mb-8",children:n.features.map((o,l)=>e.jsxs("li",{className:"flex items-center",children:[e.jsx(re,{className:"w-5 h-5 text-green-500 mr-3 flex-shrink-0"}),e.jsx("span",{className:"text-gray-700",children:o})]},l))}),e.jsx(O,{onClick:s,className:`w-full py-3 text-lg font-semibold ${n.popular?"bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700":""}`,variant:n.popular?"primary":"outline",children:n.cta})]},i))})]})}),e.jsx("section",{className:"py-16 lg:py-24 bg-gradient-to-r from-blue-600 to-purple-600",children:e.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 text-center",children:[e.jsx("h2",{className:"text-3xl sm:text-4xl lg:text-5xl font-bold text-white mb-6",children:"Ready to Land Your Dream Job?"}),e.jsx("p",{className:"text-lg sm:text-xl text-blue-100 mb-8 max-w-3xl mx-auto",children:"Join thousands of professionals who've transformed their careers with AI-optimized resumes. Start your free analysis today."}),e.jsxs(O,{onClick:s,size:"lg",className:"px-8 py-4 text-lg font-semibold bg-white text-blue-600 hover:bg-gray-100 transform hover:scale-105 transition-all duration-200",children:[e.jsx(we,{className:"w-5 h-5 mr-2"}),"Get Started Free",e.jsx(xt,{className:"w-5 h-5 ml-2"})]})]})}),e.jsx("footer",{className:"bg-gray-900 text-white py-12",children:e.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-8",children:[e.jsxs("div",{className:"md:col-span-2",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[e.jsx("div",{className:"p-2 bg-blue-600 rounded-lg",children:e.jsx(je,{className:"w-6 h-6 text-white"})}),e.jsx("span",{className:"text-xl font-bold",children:"ResumeAI"})]}),e.jsx("p",{className:"text-gray-400 mb-4 max-w-md",children:"Transform your career with AI-powered resume optimization. Get ATS-friendly resumes that land interviews."}),e.jsxs("div",{className:"flex space-x-4",children:[e.jsx("div",{className:"w-8 h-8 bg-gray-800 rounded-full flex items-center justify-center hover:bg-gray-700 cursor-pointer",children:e.jsx("span",{className:"text-sm",children:"f"})}),e.jsx("div",{className:"w-8 h-8 bg-gray-800 rounded-full flex items-center justify-center hover:bg-gray-700 cursor-pointer",children:e.jsx("span",{className:"text-sm",children:"t"})}),e.jsx("div",{className:"w-8 h-8 bg-gray-800 rounded-full flex items-center justify-center hover:bg-gray-700 cursor-pointer",children:e.jsx("span",{className:"text-sm",children:"in"})})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold mb-4",children:"Product"}),e.jsxs("ul",{className:"space-y-2 text-gray-400",children:[e.jsx("li",{children:e.jsx("a",{href:"#",className:"hover:text-white transition-colors",children:"Features"})}),e.jsx("li",{children:e.jsx("a",{href:"#",className:"hover:text-white transition-colors",children:"Templates"})}),e.jsx("li",{children:e.jsx("a",{href:"#",className:"hover:text-white transition-colors",children:"Pricing"})}),e.jsx("li",{children:e.jsx("a",{href:"#",className:"hover:text-white transition-colors",children:"API"})})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold mb-4",children:"Support"}),e.jsxs("ul",{className:"space-y-2 text-gray-400",children:[e.jsx("li",{children:e.jsx("a",{href:"#",className:"hover:text-white transition-colors",children:"Help Center"})}),e.jsx("li",{children:e.jsx("a",{href:"#",className:"hover:text-white transition-colors",children:"Contact Us"})}),e.jsx("li",{children:e.jsx("a",{href:"#",className:"hover:text-white transition-colors",children:"Privacy Policy"})}),e.jsx("li",{children:e.jsx("a",{href:"#",className:"hover:text-white transition-colors",children:"Terms of Service"})})]})]})]}),e.jsx("div",{className:"border-t border-gray-800 mt-8 pt-8 text-center text-gray-400",children:e.jsx("p",{children:"© 2025 ResumeAI. All rights reserved. Built with ❤️ for job seekers worldwide."})})]})})]})},fs=({onGetStarted:s,onSignIn:t})=>{const[a,r]=m.useState(!1),[n,i]=m.useState(!1),o=m.useRef(null);m.useEffect(()=>{const p=()=>{i(window.scrollY>50)};return window.addEventListener("scroll",p),()=>window.removeEventListener("scroll",p)},[]),m.useEffect(()=>{const p=c=>{o.current&&!o.current.contains(c.target)&&r(!1)};return document.addEventListener("mousedown",p),()=>{document.removeEventListener("mousedown",p)}},[]);const l=[{name:"Features",href:"#features"},{name:"How It Works",href:"#how-it-works"},{name:"Pricing",href:"#pricing"},{name:"Testimonials",href:"#testimonials"}];return e.jsx("header",{className:`fixed top-0 left-0 right-0 z-50 transition-all duration-300 ${n?"bg-white/95 backdrop-blur-md shadow-lg":"bg-transparent"}`,children:e.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"flex justify-between items-center h-16 lg:h-20",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:`p-2 rounded-lg transition-colors ${n?"bg-blue-600":"bg-white/10 backdrop-blur-sm"}`,children:e.jsx(je,{className:`w-6 h-6 ${n?"text-white":"text-blue-600"}`})}),e.jsx("span",{className:"text-xl font-bold transition-colors text-gray-900",children:"ResumeAI"})]}),e.jsx("nav",{className:"hidden md:flex items-center space-x-8",children:l.map(p=>e.jsx("a",{href:p.href,className:"font-medium transition-colors hover:text-blue-600 text-gray-700",children:p.name},p.name))}),e.jsxs("div",{className:"hidden md:flex items-center space-x-4",children:[e.jsx(O,{variant:"ghost",onClick:t,className:`transition-colors ${n?"text-gray-700 hover:text-gray-900 hover:bg-gray-100":"text-gray-700 hover:text-gray-900 hover:bg-white/10"}`,children:"Sign In"}),e.jsx(O,{onClick:s,className:"bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 text-white px-6 py-2 transform hover:scale-105 transition-all duration-200",children:"Get Started"})]}),e.jsx("button",{onClick:()=>r(!a),className:`md:hidden p-2 rounded-lg transition-colors ${n?"text-gray-700 hover:bg-gray-100":"text-gray-700 hover:bg-white/10"}`,children:a?e.jsx(ae,{className:"w-6 h-6"}):e.jsx(La,{className:"w-6 h-6"})})]}),a&&e.jsx("div",{ref:o,className:"md:hidden absolute top-full left-0 right-0 bg-white/95 backdrop-blur-md shadow-lg border-t border-gray-200",children:e.jsxs("div",{className:"px-4 py-6 space-y-4",children:[l.map(p=>e.jsx("a",{href:p.href,className:"block text-gray-700 font-medium hover:text-blue-600 transition-colors",onClick:()=>r(!1),children:p.name},p.name)),e.jsxs("div",{className:"pt-4 border-t border-gray-200 space-y-3",children:[e.jsx(O,{variant:"outline",onClick:()=>{t(),r(!1)},className:"w-full",children:"Sign In"}),e.jsx(O,{onClick:()=>{s(),r(!1)},className:"w-full bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700",children:"Get Started"})]})]})})]})})},J=({label:s,error:t,helpText:a,className:r,id:n,...i})=>{const o=n||`input-${Math.random().toString(36).substr(2,9)}`;return e.jsxs("div",{className:"space-y-1",children:[s&&e.jsx("label",{htmlFor:o,className:"block text-sm font-medium text-gray-700",children:s}),e.jsx("input",{id:o,className:Qe("block w-full px-3 py-2 border rounded-lg shadow-sm transition-colors duration-200","focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",t?"border-red-300 focus:ring-red-500":"border-gray-300 hover:border-gray-400",r),...i}),t&&e.jsx("p",{className:"text-sm text-red-600",children:t}),a&&!t&&e.jsx("p",{className:"text-sm text-gray-500",children:a})]})},gs=({onUpgradeClick:s})=>{var z,F,E,_,D,R;const{user:t,profile:a,logout:r,updateProfile:n}=Me(),[i,o]=m.useState(!1),[l,p]=m.useState(!1),[c,u]=m.useState(!1),[d,x]=m.useState({first_name:(a==null?void 0:a.first_name)||"",last_name:(a==null?void 0:a.last_name)||""}),[v,g]=m.useState(""),[h,f]=m.useState(!1),S=m.useRef(null),P=!!t&&!!a,y=!!(a!=null&&a.subscription);m.useEffect(()=>{const q=L=>{S.current&&!S.current.contains(L.target)&&o(!1)};return document.addEventListener("mousedown",q),()=>{document.removeEventListener("mousedown",q)}},[]),m.useEffect(()=>{a&&x({first_name:a.first_name||"",last_name:a.last_name||""})},[a]);const b=async()=>{try{o(!1),await r()}catch(q){console.error("Logout error:",q),window.location.reload()}},M=async q=>{q.preventDefault(),u(!0),g(""),f(!1);try{await n(d),f(!0),setTimeout(()=>{p(!1),f(!1)},1500)}catch(L){console.error("Profile update error:",L),g(L.message||"Failed to update profile")}finally{u(!1)}},k=()=>{o(!1),p(!0),g(""),f(!1)};return e.jsxs(e.Fragment,{children:[e.jsx("header",{className:"bg-white border-b border-gray-200 sticky top-0 z-50",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"flex justify-between items-center h-16",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"p-2 bg-blue-600 rounded-lg",children:e.jsx(je,{className:"w-6 h-6 text-white"})}),e.jsx("span",{className:"text-xl font-bold text-gray-900",children:"ResumeAI"})]}),e.jsxs("nav",{className:"hidden md:flex items-center space-x-8",children:[e.jsx("a",{href:"#",className:"text-gray-600 hover:text-gray-900 transition-colors",children:"Dashboard"}),e.jsx("a",{href:"#",className:"text-gray-600 hover:text-gray-900 transition-colors",children:"Templates"}),e.jsx("a",{href:"#",className:"text-gray-600 hover:text-gray-900 transition-colors",children:"History"}),(a==null?void 0:a.is_admin)&&e.jsx("a",{href:"#",className:"text-gray-600 hover:text-gray-900 transition-colors",children:"Admin"})]}),e.jsx("div",{className:"flex items-center space-x-4",children:P?e.jsxs("div",{className:"flex items-center space-x-3",children:[y?e.jsxs("span",{className:"px-3 py-1 bg-gradient-to-r from-yellow-400 to-orange-500 text-white text-sm font-medium rounded-full flex items-center space-x-1",children:[e.jsx(oe,{className:"w-4 h-4"}),e.jsx("span",{children:((F=(z=a.subscription)==null?void 0:z.package)==null?void 0:F.name)||"Premium"})]}):e.jsx(O,{variant:"outline",size:"sm",onClick:s,children:"Upgrade"}),e.jsxs("div",{className:"relative",ref:S,children:[e.jsxs("button",{className:"flex items-center space-x-2 p-2 rounded-lg hover:bg-gray-100 transition-colors",onClick:()=>o(!i),children:[e.jsx("div",{className:"w-8 h-8 rounded-full bg-gradient-to-r from-blue-500 to-purple-600 flex items-center justify-center",children:e.jsxs("span",{className:"text-white font-medium text-sm",children:[(E=a==null?void 0:a.first_name)==null?void 0:E[0],(_=a==null?void 0:a.last_name)==null?void 0:_[0]]})}),e.jsx("span",{className:"hidden md:block text-sm font-medium text-gray-700",children:a==null?void 0:a.first_name})]}),i&&e.jsxs("div",{className:"absolute right-0 mt-2 w-48 bg-white rounded-lg shadow-lg border border-gray-200 py-1 z-50",children:[e.jsxs("div",{className:"px-4 py-2 border-b border-gray-100",children:[e.jsxs("p",{className:"text-sm font-medium text-gray-900",children:[a==null?void 0:a.first_name," ",a==null?void 0:a.last_name]}),e.jsx("p",{className:"text-xs text-gray-500",children:t==null?void 0:t.email})]}),e.jsxs("button",{onClick:k,className:"w-full px-4 py-2 text-left text-sm text-gray-700 hover:bg-gray-50 flex items-center space-x-2",children:[e.jsx(qa,{className:"w-4 h-4"}),e.jsx("span",{children:"Profile Settings"})]}),e.jsxs("button",{onClick:b,className:"w-full px-4 py-2 text-left text-sm text-gray-700 hover:bg-gray-50 flex items-center space-x-2",children:[e.jsx($a,{className:"w-4 h-4"}),e.jsx("span",{children:"Sign Out"})]})]})]})]}):e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(O,{variant:"ghost",children:"Sign In"}),e.jsx(O,{children:"Get Started"})]})})]})})}),l&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsxs(I,{className:"w-full max-w-md",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Profile Settings"}),e.jsx("button",{onClick:()=>p(!1),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:e.jsx(ae,{className:"w-5 h-5 text-gray-500"})})]}),h&&e.jsx("div",{className:"mb-4 p-3 bg-green-50 border border-green-200 rounded-lg",children:e.jsx("p",{className:"text-green-700 text-sm",children:"Profile updated successfully!"})}),v&&e.jsx("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 rounded-lg",children:e.jsx("p",{className:"text-red-700 text-sm",children:v})}),e.jsxs("form",{onSubmit:M,className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsx(J,{label:"First Name",value:d.first_name,onChange:q=>x(L=>({...L,first_name:q.target.value})),required:!0,placeholder:"John"}),e.jsx(J,{label:"Last Name",value:d.last_name,onChange:q=>x(L=>({...L,last_name:q.target.value})),required:!0,placeholder:"Doe"})]}),e.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-gray-600",children:"Email:"}),e.jsx("span",{className:"font-medium",children:t==null?void 0:t.email})]}),e.jsxs("div",{className:"flex justify-between text-sm mt-1",children:[e.jsx("span",{className:"text-gray-600",children:"Account Type:"}),e.jsx("span",{className:"font-medium",children:a!=null&&a.is_admin?"Administrator":"User"})]}),y&&e.jsxs("div",{className:"flex justify-between text-sm mt-1",children:[e.jsx("span",{className:"text-gray-600",children:"Subscription:"}),e.jsx("span",{className:"font-medium text-green-600",children:(R=(D=a.subscription)==null?void 0:D.package)==null?void 0:R.name})]})]}),e.jsxs("div",{className:"flex space-x-3 pt-4",children:[e.jsxs(O,{type:"submit",className:"flex-1 flex items-center justify-center space-x-2",isLoading:c,disabled:c,children:[e.jsx(Wa,{className:"w-4 h-4"}),e.jsx("span",{children:c?"Saving...":"Save Changes"})]}),e.jsx(O,{type:"button",variant:"outline",onClick:()=>p(!1),disabled:c,children:"Cancel"})]})]})]})})]})},_e=()=>{const{showError:s}=ue(),t=m.useCallback((r,n,i={})=>{const{showToast:o=!0,logError:l=!0,fallbackMessage:p="An unexpected error occurred"}=i;l&&console.error(`Error${n?` in ${n}`:""}:`,r);let c=p,u="Error";return r instanceof Error?(c=r.message,r.message.includes("network")||r.message.includes("fetch")?(u="Network Error",c="Unable to connect to the server. Please check your internet connection and try again."):r.message.includes("authentication")||r.message.includes("unauthorized")?(u="Authentication Error",c="Your session has expired. Please sign in again."):r.message.includes("permission")||r.message.includes("forbidden")?(u="Permission Error",c="You do not have permission to perform this action."):r.message.includes("validation")?u="Validation Error":r.message.includes("timeout")&&(u="Timeout Error",c="The request took too long to complete. Please try again.")):typeof r=="string"&&(c=r),o&&s(u,c),{title:u,message:c,originalError:r}},[s]),a=m.useCallback(async(r,n,i)=>{try{return await r()}catch(o){return t(o,n,i),null}},[t]);return{handleError:t,handleAsyncError:a}},vs=({onToggleForm:s})=>{const[t,a]=m.useState(""),[r,n]=m.useState(""),[i,o]=m.useState(!1),[l,p]=m.useState(""),[c,u]=m.useState(!1),{login:d,isLoading:x}=Me(),{handleError:v}=_e(),{showSuccess:g}=ue(),h=()=>t.trim()?t.includes("@")?r?!0:(p("Password is required"),!1):(p("Please enter a valid email address"),!1):(p("Email is required"),!1),f=async P=>{var y,b,M,k,z,F;if(P.preventDefault(),p(""),!!h()){u(!0);try{await d(t,r),g("Welcome back!","You have successfully signed in.")}catch(E){console.error("Login error:",E);let _="Login failed. Please try again.";(y=E.message)!=null&&y.includes("Invalid login credentials")?_="Invalid email or password. Please check your credentials and try again.":(b=E.message)!=null&&b.includes("Email not confirmed")?_="Please check your email and click the confirmation link before signing in.":(M=E.message)!=null&&M.includes("Too many requests")?_="Too many login attempts. Please wait a few minutes before trying again.":(k=E.message)!=null&&k.includes("Supabase configuration required")?_="Database connection not configured. Please check the console for setup instructions.":(z=E.message)!=null&&z.includes("Failed to fetch")||(F=E.message)!=null&&F.includes("fetch")?_="Unable to connect to the database. Please check your internet connection and try again.":E.message&&(_=E.message),p(_),v(E,"Login",{showToast:!1})}finally{u(!1)}}},S=()=>{p("")};return e.jsxs(I,{className:"w-full max-w-md mx-auto",children:[e.jsxs("div",{className:"text-center mb-6",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Welcome Back"}),e.jsx("p",{className:"text-gray-600 mt-2",children:"Sign in to your account"})]}),e.jsxs("form",{onSubmit:f,className:"space-y-4",children:[l&&e.jsx("div",{className:"p-3 bg-red-50 border border-red-200 rounded-lg",children:e.jsxs("div",{className:"flex items-start space-x-2",children:[e.jsx(ee,{className:"w-5 h-5 text-red-600 mt-0.5 flex-shrink-0"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-red-700 text-sm",children:l}),l.includes("Database connection not configured")&&e.jsx("p",{className:"text-red-600 text-xs mt-1",children:"This appears to be a configuration issue. Please contact support if you continue to see this message."})]}),e.jsxs("button",{type:"button",onClick:S,className:"text-red-400 hover:text-red-600",children:[e.jsx("span",{className:"sr-only",children:"Dismiss"}),"×"]})]})}),e.jsx(J,{type:"email",label:"Email",value:t,onChange:P=>{a(P.target.value),l&&S()},required:!0,placeholder:"your@email.com",autoComplete:"email",disabled:c||x}),e.jsxs("div",{className:"relative",children:[e.jsx(J,{type:i?"text":"password",label:"Password",value:r,onChange:P=>{n(P.target.value),l&&S()},required:!0,placeholder:"Enter your password",autoComplete:"current-password",disabled:c||x}),e.jsx("button",{type:"button",onClick:()=>o(!i),className:"absolute right-3 top-8 text-gray-400 hover:text-gray-600",disabled:c||x,children:i?e.jsx(ht,{className:"w-4 h-4"}):e.jsx(Se,{className:"w-4 h-4"})})]}),e.jsx(O,{type:"submit",className:"w-full",isLoading:c||x,disabled:c||x,children:c||x?"Signing In...":"Sign In"})]}),e.jsx("div",{className:"mt-6 text-center",children:e.jsxs("p",{className:"text-gray-600",children:["Don't have an account?"," ",e.jsx("button",{onClick:s,className:"text-blue-600 hover:text-blue-700 font-medium transition-colors",disabled:c||x,children:"Sign up"})]})})]})},ys=({onToggleForm:s})=>{const[t,a]=m.useState({firstName:"",lastName:"",email:"",password:"",confirmPassword:""}),[r,n]=m.useState(!1),[i,o]=m.useState(!1),[l,p]=m.useState(""),[c,u]=m.useState(!1),[d,x]=m.useState({score:0,feedback:[]}),{register:v,isLoading:g}=Me(),{handleError:h}=_e(),{showSuccess:f}=ue(),S=F=>{const E=[];let _=0;return F.length>=8?_+=1:E.push("At least 8 characters"),/[a-z]/.test(F)?_+=1:E.push("One lowercase letter"),/[A-Z]/.test(F)?_+=1:E.push("One uppercase letter"),/[0-9]/.test(F)?_+=1:E.push("One number"),/[!@#$%^&*()_+\-=\[\]{};':"\\|,.<>?/`~]/.test(F)?_+=1:E.push("One special character"),{score:_,feedback:E}},P=()=>t.firstName.trim()?t.lastName.trim()?t.email.trim()?t.email.includes("@")?t.password?d.score<4?(p("Password does not meet security requirements"),!1):t.password!==t.confirmPassword?(p("Passwords do not match"),!1):!0:(p("Password is required"),!1):(p("Please enter a valid email address"),!1):(p("Email is required"),!1):(p("Last name is required"),!1):(p("First name is required"),!1),y=F=>{const{name:E,value:_}=F.target;a(D=>({...D,[E]:_})),E==="password"&&x(S(_)),l&&p("")},b=async F=>{var E,_,D,R,q,L,B,j;if(F.preventDefault(),p(""),!!P()){u(!0);try{await v(t),f("Account created successfully!","Welcome to ResumeAI. You can now start analyzing your resume.")}catch(w){console.error("Registration error:",w);let T="Registration failed. Please try again.";(E=w.message)!=null&&E.includes("User already registered")||(_=w.message)!=null&&_.includes("user_already_exists")||w.code==="user_already_exists"?T="This email is already registered. Please sign in instead.":(D=w.message)!=null&&D.includes("Invalid email")?T="Please enter a valid email address.":(R=w.message)!=null&&R.includes("weak_password")||w.code==="weak_password"?T="Password does not meet security requirements. Please ensure it contains uppercase, lowercase, numbers, and special characters.":(q=w.message)!=null&&q.includes("Database error saving new user")?T="Registration failed due to a server error. Please try again or contact support if the problem persists.":(L=w.message)!=null&&L.includes("Password")?T="Password requirements not met. Please choose a stronger password.":(B=w.message)!=null&&B.includes("Failed to fetch")||(j=w.message)!=null&&j.includes("fetch")?T="Unable to connect to the database. Please check your internet connection and try again.":w.message&&(T=w.message),p(T),h(w,"Registration",{showToast:!1})}finally{u(!1)}}},M=()=>{p("")},k=()=>d.score<=2?"bg-red-500":d.score===3?"bg-yellow-500":d.score===4?"bg-green-500":"bg-green-600",z=()=>d.score<=2?"Weak":d.score===3?"Good":d.score===4?"Strong":"Very Strong";return e.jsxs(I,{className:"w-full max-w-md mx-auto",children:[e.jsxs("div",{className:"text-center mb-6",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Create Account"}),e.jsx("p",{className:"text-gray-600 mt-2",children:"Join ResumeAI today"})]}),e.jsxs("form",{onSubmit:b,className:"space-y-4",children:[l&&e.jsx("div",{className:"p-3 bg-red-50 border border-red-200 rounded-lg",children:e.jsxs("div",{className:"flex items-start space-x-2",children:[e.jsx(ee,{className:"w-5 h-5 text-red-600 mt-0.5 flex-shrink-0"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-red-700 text-sm",children:l}),l.includes("already registered")&&e.jsx("button",{type:"button",onClick:s,className:"text-blue-600 hover:text-blue-700 font-medium underline text-sm mt-1",children:"Sign in here"})]}),e.jsxs("button",{type:"button",onClick:M,className:"text-red-400 hover:text-red-600",children:[e.jsx("span",{className:"sr-only",children:"Dismiss"}),"×"]})]})}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsx(J,{name:"firstName",label:"First Name",value:t.firstName,onChange:y,required:!0,placeholder:"John",autoComplete:"given-name",disabled:c||g}),e.jsx(J,{name:"lastName",label:"Last Name",value:t.lastName,onChange:y,required:!0,placeholder:"Doe",autoComplete:"family-name",disabled:c||g})]}),e.jsx(J,{type:"email",name:"email",label:"Email",value:t.email,onChange:y,required:!0,placeholder:"your@email.com",autoComplete:"email",disabled:c||g}),e.jsxs("div",{className:"relative",children:[e.jsx(J,{type:r?"text":"password",name:"password",label:"Password",value:t.password,onChange:y,required:!0,placeholder:"Create a strong password",autoComplete:"new-password",disabled:c||g}),e.jsx("button",{type:"button",onClick:()=>n(!r),className:"absolute right-3 top-8 text-gray-400 hover:text-gray-600",disabled:c||g,children:r?e.jsx(ht,{className:"w-4 h-4"}):e.jsx(Se,{className:"w-4 h-4"})})]}),t.password&&e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Password strength:"}),e.jsx("span",{className:`text-sm font-medium ${d.score<=2?"text-red-600":d.score===3?"text-yellow-600":"text-green-600"}`,children:z()})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:`h-2 rounded-full transition-all duration-300 ${k()}`,style:{width:`${d.score/5*100}%`}})}),d.feedback.length>0&&e.jsxs("div",{className:"text-xs text-gray-600",children:["Missing: ",d.feedback.join(", ")]})]}),e.jsxs("div",{className:"relative",children:[e.jsx(J,{type:i?"text":"password",name:"confirmPassword",label:"Confirm Password",value:t.confirmPassword,onChange:y,required:!0,placeholder:"Repeat your password",autoComplete:"new-password",disabled:c||g}),e.jsx("button",{type:"button",onClick:()=>o(!i),className:"absolute right-3 top-8 text-gray-400 hover:text-gray-600",disabled:c||g,children:i?e.jsx(ht,{className:"w-4 h-4"}):e.jsx(Se,{className:"w-4 h-4"})}),t.confirmPassword&&t.password&&e.jsx("div",{className:"absolute right-10 top-8",children:t.password===t.confirmPassword?e.jsx(re,{className:"w-4 h-4 text-green-500"}):e.jsx(ee,{className:"w-4 h-4 text-red-500"})})]}),e.jsx(O,{type:"submit",className:"w-full",isLoading:c||g,disabled:c||g||d.score<4,children:c||g?"Creating Account...":"Create Account"})]}),e.jsx("div",{className:"mt-6 text-center",children:e.jsxs("p",{className:"text-gray-600",children:["Already have an account?"," ",e.jsx("button",{onClick:s,className:"text-blue-600 hover:text-blue-700 font-medium transition-colors",disabled:c||g,children:"Sign in"})]})})]})};var xa={exports:{}},bs="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",ws=bs,js=ws;function ha(){}function fa(){}fa.resetWarningCache=ha;var Ns=function(){function s(r,n,i,o,l,p){if(p!==js){var c=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}}s.isRequired=s;function t(){return s}var a={array:s,bigint:s,bool:s,func:s,number:s,object:s,string:s,symbol:s,any:s,arrayOf:t,element:s,elementType:s,instanceOf:t,node:s,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:fa,resetWarningCache:ha};return a.PropTypes=a,a};xa.exports=Ns();var ks=xa.exports;const W=za(ks);function xe(s,t,a,r){function n(i){return i instanceof a?i:new a(function(o){o(i)})}return new(a||(a=Promise))(function(i,o){function l(u){try{c(r.next(u))}catch(d){o(d)}}function p(u){try{c(r.throw(u))}catch(d){o(d)}}function c(u){u.done?i(u.value):n(u.value).then(l,p)}c((r=r.apply(s,t||[])).next())})}const Ss=new Map([["1km","application/vnd.1000minds.decision-model+xml"],["3dml","text/vnd.in3d.3dml"],["3ds","image/x-3ds"],["3g2","video/3gpp2"],["3gp","video/3gp"],["3gpp","video/3gpp"],["3mf","model/3mf"],["7z","application/x-7z-compressed"],["7zip","application/x-7z-compressed"],["123","application/vnd.lotus-1-2-3"],["aab","application/x-authorware-bin"],["aac","audio/x-acc"],["aam","application/x-authorware-map"],["aas","application/x-authorware-seg"],["abw","application/x-abiword"],["ac","application/vnd.nokia.n-gage.ac+xml"],["ac3","audio/ac3"],["acc","application/vnd.americandynamics.acc"],["ace","application/x-ace-compressed"],["acu","application/vnd.acucobol"],["acutc","application/vnd.acucorp"],["adp","audio/adpcm"],["aep","application/vnd.audiograph"],["afm","application/x-font-type1"],["afp","application/vnd.ibm.modcap"],["ahead","application/vnd.ahead.space"],["ai","application/pdf"],["aif","audio/x-aiff"],["aifc","audio/x-aiff"],["aiff","audio/x-aiff"],["air","application/vnd.adobe.air-application-installer-package+zip"],["ait","application/vnd.dvb.ait"],["ami","application/vnd.amiga.ami"],["amr","audio/amr"],["apk","application/vnd.android.package-archive"],["apng","image/apng"],["appcache","text/cache-manifest"],["application","application/x-ms-application"],["apr","application/vnd.lotus-approach"],["arc","application/x-freearc"],["arj","application/x-arj"],["asc","application/pgp-signature"],["asf","video/x-ms-asf"],["asm","text/x-asm"],["aso","application/vnd.accpac.simply.aso"],["asx","video/x-ms-asf"],["atc","application/vnd.acucorp"],["atom","application/atom+xml"],["atomcat","application/atomcat+xml"],["atomdeleted","application/atomdeleted+xml"],["atomsvc","application/atomsvc+xml"],["atx","application/vnd.antix.game-component"],["au","audio/x-au"],["avi","video/x-msvideo"],["avif","image/avif"],["aw","application/applixware"],["azf","application/vnd.airzip.filesecure.azf"],["azs","application/vnd.airzip.filesecure.azs"],["azv","image/vnd.airzip.accelerator.azv"],["azw","application/vnd.amazon.ebook"],["b16","image/vnd.pco.b16"],["bat","application/x-msdownload"],["bcpio","application/x-bcpio"],["bdf","application/x-font-bdf"],["bdm","application/vnd.syncml.dm+wbxml"],["bdoc","application/x-bdoc"],["bed","application/vnd.realvnc.bed"],["bh2","application/vnd.fujitsu.oasysprs"],["bin","application/octet-stream"],["blb","application/x-blorb"],["blorb","application/x-blorb"],["bmi","application/vnd.bmi"],["bmml","application/vnd.balsamiq.bmml+xml"],["bmp","image/bmp"],["book","application/vnd.framemaker"],["box","application/vnd.previewsystems.box"],["boz","application/x-bzip2"],["bpk","application/octet-stream"],["bpmn","application/octet-stream"],["bsp","model/vnd.valve.source.compiled-map"],["btif","image/prs.btif"],["buffer","application/octet-stream"],["bz","application/x-bzip"],["bz2","application/x-bzip2"],["c","text/x-c"],["c4d","application/vnd.clonk.c4group"],["c4f","application/vnd.clonk.c4group"],["c4g","application/vnd.clonk.c4group"],["c4p","application/vnd.clonk.c4group"],["c4u","application/vnd.clonk.c4group"],["c11amc","application/vnd.cluetrust.cartomobile-config"],["c11amz","application/vnd.cluetrust.cartomobile-config-pkg"],["cab","application/vnd.ms-cab-compressed"],["caf","audio/x-caf"],["cap","application/vnd.tcpdump.pcap"],["car","application/vnd.curl.car"],["cat","application/vnd.ms-pki.seccat"],["cb7","application/x-cbr"],["cba","application/x-cbr"],["cbr","application/x-cbr"],["cbt","application/x-cbr"],["cbz","application/x-cbr"],["cc","text/x-c"],["cco","application/x-cocoa"],["cct","application/x-director"],["ccxml","application/ccxml+xml"],["cdbcmsg","application/vnd.contact.cmsg"],["cda","application/x-cdf"],["cdf","application/x-netcdf"],["cdfx","application/cdfx+xml"],["cdkey","application/vnd.mediastation.cdkey"],["cdmia","application/cdmi-capability"],["cdmic","application/cdmi-container"],["cdmid","application/cdmi-domain"],["cdmio","application/cdmi-object"],["cdmiq","application/cdmi-queue"],["cdr","application/cdr"],["cdx","chemical/x-cdx"],["cdxml","application/vnd.chemdraw+xml"],["cdy","application/vnd.cinderella"],["cer","application/pkix-cert"],["cfs","application/x-cfs-compressed"],["cgm","image/cgm"],["chat","application/x-chat"],["chm","application/vnd.ms-htmlhelp"],["chrt","application/vnd.kde.kchart"],["cif","chemical/x-cif"],["cii","application/vnd.anser-web-certificate-issue-initiation"],["cil","application/vnd.ms-artgalry"],["cjs","application/node"],["cla","application/vnd.claymore"],["class","application/octet-stream"],["clkk","application/vnd.crick.clicker.keyboard"],["clkp","application/vnd.crick.clicker.palette"],["clkt","application/vnd.crick.clicker.template"],["clkw","application/vnd.crick.clicker.wordbank"],["clkx","application/vnd.crick.clicker"],["clp","application/x-msclip"],["cmc","application/vnd.cosmocaller"],["cmdf","chemical/x-cmdf"],["cml","chemical/x-cml"],["cmp","application/vnd.yellowriver-custom-menu"],["cmx","image/x-cmx"],["cod","application/vnd.rim.cod"],["coffee","text/coffeescript"],["com","application/x-msdownload"],["conf","text/plain"],["cpio","application/x-cpio"],["cpp","text/x-c"],["cpt","application/mac-compactpro"],["crd","application/x-mscardfile"],["crl","application/pkix-crl"],["crt","application/x-x509-ca-cert"],["crx","application/x-chrome-extension"],["cryptonote","application/vnd.rig.cryptonote"],["csh","application/x-csh"],["csl","application/vnd.citationstyles.style+xml"],["csml","chemical/x-csml"],["csp","application/vnd.commonspace"],["csr","application/octet-stream"],["css","text/css"],["cst","application/x-director"],["csv","text/csv"],["cu","application/cu-seeme"],["curl","text/vnd.curl"],["cww","application/prs.cww"],["cxt","application/x-director"],["cxx","text/x-c"],["dae","model/vnd.collada+xml"],["daf","application/vnd.mobius.daf"],["dart","application/vnd.dart"],["dataless","application/vnd.fdsn.seed"],["davmount","application/davmount+xml"],["dbf","application/vnd.dbf"],["dbk","application/docbook+xml"],["dcr","application/x-director"],["dcurl","text/vnd.curl.dcurl"],["dd2","application/vnd.oma.dd2+xml"],["ddd","application/vnd.fujixerox.ddd"],["ddf","application/vnd.syncml.dmddf+xml"],["dds","image/vnd.ms-dds"],["deb","application/x-debian-package"],["def","text/plain"],["deploy","application/octet-stream"],["der","application/x-x509-ca-cert"],["dfac","application/vnd.dreamfactory"],["dgc","application/x-dgc-compressed"],["dic","text/x-c"],["dir","application/x-director"],["dis","application/vnd.mobius.dis"],["disposition-notification","message/disposition-notification"],["dist","application/octet-stream"],["distz","application/octet-stream"],["djv","image/vnd.djvu"],["djvu","image/vnd.djvu"],["dll","application/octet-stream"],["dmg","application/x-apple-diskimage"],["dmn","application/octet-stream"],["dmp","application/vnd.tcpdump.pcap"],["dms","application/octet-stream"],["dna","application/vnd.dna"],["doc","application/msword"],["docm","application/vnd.ms-word.template.macroEnabled.12"],["docx","application/vnd.openxmlformats-officedocument.wordprocessingml.document"],["dot","application/msword"],["dotm","application/vnd.ms-word.template.macroEnabled.12"],["dotx","application/vnd.openxmlformats-officedocument.wordprocessingml.template"],["dp","application/vnd.osgi.dp"],["dpg","application/vnd.dpgraph"],["dra","audio/vnd.dra"],["drle","image/dicom-rle"],["dsc","text/prs.lines.tag"],["dssc","application/dssc+der"],["dtb","application/x-dtbook+xml"],["dtd","application/xml-dtd"],["dts","audio/vnd.dts"],["dtshd","audio/vnd.dts.hd"],["dump","application/octet-stream"],["dvb","video/vnd.dvb.file"],["dvi","application/x-dvi"],["dwd","application/atsc-dwd+xml"],["dwf","model/vnd.dwf"],["dwg","image/vnd.dwg"],["dxf","image/vnd.dxf"],["dxp","application/vnd.spotfire.dxp"],["dxr","application/x-director"],["ear","application/java-archive"],["ecelp4800","audio/vnd.nuera.ecelp4800"],["ecelp7470","audio/vnd.nuera.ecelp7470"],["ecelp9600","audio/vnd.nuera.ecelp9600"],["ecma","application/ecmascript"],["edm","application/vnd.novadigm.edm"],["edx","application/vnd.novadigm.edx"],["efif","application/vnd.picsel"],["ei6","application/vnd.pg.osasli"],["elc","application/octet-stream"],["emf","image/emf"],["eml","message/rfc822"],["emma","application/emma+xml"],["emotionml","application/emotionml+xml"],["emz","application/x-msmetafile"],["eol","audio/vnd.digital-winds"],["eot","application/vnd.ms-fontobject"],["eps","application/postscript"],["epub","application/epub+zip"],["es","application/ecmascript"],["es3","application/vnd.eszigno3+xml"],["esa","application/vnd.osgi.subsystem"],["esf","application/vnd.epson.esf"],["et3","application/vnd.eszigno3+xml"],["etx","text/x-setext"],["eva","application/x-eva"],["evy","application/x-envoy"],["exe","application/octet-stream"],["exi","application/exi"],["exp","application/express"],["exr","image/aces"],["ext","application/vnd.novadigm.ext"],["ez","application/andrew-inset"],["ez2","application/vnd.ezpix-album"],["ez3","application/vnd.ezpix-package"],["f","text/x-fortran"],["f4v","video/mp4"],["f77","text/x-fortran"],["f90","text/x-fortran"],["fbs","image/vnd.fastbidsheet"],["fcdt","application/vnd.adobe.formscentral.fcdt"],["fcs","application/vnd.isac.fcs"],["fdf","application/vnd.fdf"],["fdt","application/fdt+xml"],["fe_launch","application/vnd.denovo.fcselayout-link"],["fg5","application/vnd.fujitsu.oasysgp"],["fgd","application/x-director"],["fh","image/x-freehand"],["fh4","image/x-freehand"],["fh5","image/x-freehand"],["fh7","image/x-freehand"],["fhc","image/x-freehand"],["fig","application/x-xfig"],["fits","image/fits"],["flac","audio/x-flac"],["fli","video/x-fli"],["flo","application/vnd.micrografx.flo"],["flv","video/x-flv"],["flw","application/vnd.kde.kivio"],["flx","text/vnd.fmi.flexstor"],["fly","text/vnd.fly"],["fm","application/vnd.framemaker"],["fnc","application/vnd.frogans.fnc"],["fo","application/vnd.software602.filler.form+xml"],["for","text/x-fortran"],["fpx","image/vnd.fpx"],["frame","application/vnd.framemaker"],["fsc","application/vnd.fsc.weblaunch"],["fst","image/vnd.fst"],["ftc","application/vnd.fluxtime.clip"],["fti","application/vnd.anser-web-funds-transfer-initiation"],["fvt","video/vnd.fvt"],["fxp","application/vnd.adobe.fxp"],["fxpl","application/vnd.adobe.fxp"],["fzs","application/vnd.fuzzysheet"],["g2w","application/vnd.geoplan"],["g3","image/g3fax"],["g3w","application/vnd.geospace"],["gac","application/vnd.groove-account"],["gam","application/x-tads"],["gbr","application/rpki-ghostbusters"],["gca","application/x-gca-compressed"],["gdl","model/vnd.gdl"],["gdoc","application/vnd.google-apps.document"],["geo","application/vnd.dynageo"],["geojson","application/geo+json"],["gex","application/vnd.geometry-explorer"],["ggb","application/vnd.geogebra.file"],["ggt","application/vnd.geogebra.tool"],["ghf","application/vnd.groove-help"],["gif","image/gif"],["gim","application/vnd.groove-identity-message"],["glb","model/gltf-binary"],["gltf","model/gltf+json"],["gml","application/gml+xml"],["gmx","application/vnd.gmx"],["gnumeric","application/x-gnumeric"],["gpg","application/gpg-keys"],["gph","application/vnd.flographit"],["gpx","application/gpx+xml"],["gqf","application/vnd.grafeq"],["gqs","application/vnd.grafeq"],["gram","application/srgs"],["gramps","application/x-gramps-xml"],["gre","application/vnd.geometry-explorer"],["grv","application/vnd.groove-injector"],["grxml","application/srgs+xml"],["gsf","application/x-font-ghostscript"],["gsheet","application/vnd.google-apps.spreadsheet"],["gslides","application/vnd.google-apps.presentation"],["gtar","application/x-gtar"],["gtm","application/vnd.groove-tool-message"],["gtw","model/vnd.gtw"],["gv","text/vnd.graphviz"],["gxf","application/gxf"],["gxt","application/vnd.geonext"],["gz","application/gzip"],["gzip","application/gzip"],["h","text/x-c"],["h261","video/h261"],["h263","video/h263"],["h264","video/h264"],["hal","application/vnd.hal+xml"],["hbci","application/vnd.hbci"],["hbs","text/x-handlebars-template"],["hdd","application/x-virtualbox-hdd"],["hdf","application/x-hdf"],["heic","image/heic"],["heics","image/heic-sequence"],["heif","image/heif"],["heifs","image/heif-sequence"],["hej2","image/hej2k"],["held","application/atsc-held+xml"],["hh","text/x-c"],["hjson","application/hjson"],["hlp","application/winhlp"],["hpgl","application/vnd.hp-hpgl"],["hpid","application/vnd.hp-hpid"],["hps","application/vnd.hp-hps"],["hqx","application/mac-binhex40"],["hsj2","image/hsj2"],["htc","text/x-component"],["htke","application/vnd.kenameaapp"],["htm","text/html"],["html","text/html"],["hvd","application/vnd.yamaha.hv-dic"],["hvp","application/vnd.yamaha.hv-voice"],["hvs","application/vnd.yamaha.hv-script"],["i2g","application/vnd.intergeo"],["icc","application/vnd.iccprofile"],["ice","x-conference/x-cooltalk"],["icm","application/vnd.iccprofile"],["ico","image/x-icon"],["ics","text/calendar"],["ief","image/ief"],["ifb","text/calendar"],["ifm","application/vnd.shana.informed.formdata"],["iges","model/iges"],["igl","application/vnd.igloader"],["igm","application/vnd.insors.igm"],["igs","model/iges"],["igx","application/vnd.micrografx.igx"],["iif","application/vnd.shana.informed.interchange"],["img","application/octet-stream"],["imp","application/vnd.accpac.simply.imp"],["ims","application/vnd.ms-ims"],["in","text/plain"],["ini","text/plain"],["ink","application/inkml+xml"],["inkml","application/inkml+xml"],["install","application/x-install-instructions"],["iota","application/vnd.astraea-software.iota"],["ipfix","application/ipfix"],["ipk","application/vnd.shana.informed.package"],["irm","application/vnd.ibm.rights-management"],["irp","application/vnd.irepository.package+xml"],["iso","application/x-iso9660-image"],["itp","application/vnd.shana.informed.formtemplate"],["its","application/its+xml"],["ivp","application/vnd.immervision-ivp"],["ivu","application/vnd.immervision-ivu"],["jad","text/vnd.sun.j2me.app-descriptor"],["jade","text/jade"],["jam","application/vnd.jam"],["jar","application/java-archive"],["jardiff","application/x-java-archive-diff"],["java","text/x-java-source"],["jhc","image/jphc"],["jisp","application/vnd.jisp"],["jls","image/jls"],["jlt","application/vnd.hp-jlyt"],["jng","image/x-jng"],["jnlp","application/x-java-jnlp-file"],["joda","application/vnd.joost.joda-archive"],["jp2","image/jp2"],["jpe","image/jpeg"],["jpeg","image/jpeg"],["jpf","image/jpx"],["jpg","image/jpeg"],["jpg2","image/jp2"],["jpgm","video/jpm"],["jpgv","video/jpeg"],["jph","image/jph"],["jpm","video/jpm"],["jpx","image/jpx"],["js","application/javascript"],["json","application/json"],["json5","application/json5"],["jsonld","application/ld+json"],["jsonl","application/jsonl"],["jsonml","application/jsonml+json"],["jsx","text/jsx"],["jxr","image/jxr"],["jxra","image/jxra"],["jxrs","image/jxrs"],["jxs","image/jxs"],["jxsc","image/jxsc"],["jxsi","image/jxsi"],["jxss","image/jxss"],["kar","audio/midi"],["karbon","application/vnd.kde.karbon"],["kdb","application/octet-stream"],["kdbx","application/x-keepass2"],["key","application/x-iwork-keynote-sffkey"],["kfo","application/vnd.kde.kformula"],["kia","application/vnd.kidspiration"],["kml","application/vnd.google-earth.kml+xml"],["kmz","application/vnd.google-earth.kmz"],["kne","application/vnd.kinar"],["knp","application/vnd.kinar"],["kon","application/vnd.kde.kontour"],["kpr","application/vnd.kde.kpresenter"],["kpt","application/vnd.kde.kpresenter"],["kpxx","application/vnd.ds-keypoint"],["ksp","application/vnd.kde.kspread"],["ktr","application/vnd.kahootz"],["ktx","image/ktx"],["ktx2","image/ktx2"],["ktz","application/vnd.kahootz"],["kwd","application/vnd.kde.kword"],["kwt","application/vnd.kde.kword"],["lasxml","application/vnd.las.las+xml"],["latex","application/x-latex"],["lbd","application/vnd.llamagraphics.life-balance.desktop"],["lbe","application/vnd.llamagraphics.life-balance.exchange+xml"],["les","application/vnd.hhe.lesson-player"],["less","text/less"],["lgr","application/lgr+xml"],["lha","application/octet-stream"],["link66","application/vnd.route66.link66+xml"],["list","text/plain"],["list3820","application/vnd.ibm.modcap"],["listafp","application/vnd.ibm.modcap"],["litcoffee","text/coffeescript"],["lnk","application/x-ms-shortcut"],["log","text/plain"],["lostxml","application/lost+xml"],["lrf","application/octet-stream"],["lrm","application/vnd.ms-lrm"],["ltf","application/vnd.frogans.ltf"],["lua","text/x-lua"],["luac","application/x-lua-bytecode"],["lvp","audio/vnd.lucent.voice"],["lwp","application/vnd.lotus-wordpro"],["lzh","application/octet-stream"],["m1v","video/mpeg"],["m2a","audio/mpeg"],["m2v","video/mpeg"],["m3a","audio/mpeg"],["m3u","text/plain"],["m3u8","application/vnd.apple.mpegurl"],["m4a","audio/x-m4a"],["m4p","application/mp4"],["m4s","video/iso.segment"],["m4u","application/vnd.mpegurl"],["m4v","video/x-m4v"],["m13","application/x-msmediaview"],["m14","application/x-msmediaview"],["m21","application/mp21"],["ma","application/mathematica"],["mads","application/mads+xml"],["maei","application/mmt-aei+xml"],["mag","application/vnd.ecowin.chart"],["maker","application/vnd.framemaker"],["man","text/troff"],["manifest","text/cache-manifest"],["map","application/json"],["mar","application/octet-stream"],["markdown","text/markdown"],["mathml","application/mathml+xml"],["mb","application/mathematica"],["mbk","application/vnd.mobius.mbk"],["mbox","application/mbox"],["mc1","application/vnd.medcalcdata"],["mcd","application/vnd.mcd"],["mcurl","text/vnd.curl.mcurl"],["md","text/markdown"],["mdb","application/x-msaccess"],["mdi","image/vnd.ms-modi"],["mdx","text/mdx"],["me","text/troff"],["mesh","model/mesh"],["meta4","application/metalink4+xml"],["metalink","application/metalink+xml"],["mets","application/mets+xml"],["mfm","application/vnd.mfmp"],["mft","application/rpki-manifest"],["mgp","application/vnd.osgeo.mapguide.package"],["mgz","application/vnd.proteus.magazine"],["mid","audio/midi"],["midi","audio/midi"],["mie","application/x-mie"],["mif","application/vnd.mif"],["mime","message/rfc822"],["mj2","video/mj2"],["mjp2","video/mj2"],["mjs","application/javascript"],["mk3d","video/x-matroska"],["mka","audio/x-matroska"],["mkd","text/x-markdown"],["mks","video/x-matroska"],["mkv","video/x-matroska"],["mlp","application/vnd.dolby.mlp"],["mmd","application/vnd.chipnuts.karaoke-mmd"],["mmf","application/vnd.smaf"],["mml","text/mathml"],["mmr","image/vnd.fujixerox.edmics-mmr"],["mng","video/x-mng"],["mny","application/x-msmoney"],["mobi","application/x-mobipocket-ebook"],["mods","application/mods+xml"],["mov","video/quicktime"],["movie","video/x-sgi-movie"],["mp2","audio/mpeg"],["mp2a","audio/mpeg"],["mp3","audio/mpeg"],["mp4","video/mp4"],["mp4a","audio/mp4"],["mp4s","application/mp4"],["mp4v","video/mp4"],["mp21","application/mp21"],["mpc","application/vnd.mophun.certificate"],["mpd","application/dash+xml"],["mpe","video/mpeg"],["mpeg","video/mpeg"],["mpg","video/mpeg"],["mpg4","video/mp4"],["mpga","audio/mpeg"],["mpkg","application/vnd.apple.installer+xml"],["mpm","application/vnd.blueice.multipass"],["mpn","application/vnd.mophun.application"],["mpp","application/vnd.ms-project"],["mpt","application/vnd.ms-project"],["mpy","application/vnd.ibm.minipay"],["mqy","application/vnd.mobius.mqy"],["mrc","application/marc"],["mrcx","application/marcxml+xml"],["ms","text/troff"],["mscml","application/mediaservercontrol+xml"],["mseed","application/vnd.fdsn.mseed"],["mseq","application/vnd.mseq"],["msf","application/vnd.epson.msf"],["msg","application/vnd.ms-outlook"],["msh","model/mesh"],["msi","application/x-msdownload"],["msl","application/vnd.mobius.msl"],["msm","application/octet-stream"],["msp","application/octet-stream"],["msty","application/vnd.muvee.style"],["mtl","model/mtl"],["mts","model/vnd.mts"],["mus","application/vnd.musician"],["musd","application/mmt-usd+xml"],["musicxml","application/vnd.recordare.musicxml+xml"],["mvb","application/x-msmediaview"],["mvt","application/vnd.mapbox-vector-tile"],["mwf","application/vnd.mfer"],["mxf","application/mxf"],["mxl","application/vnd.recordare.musicxml"],["mxmf","audio/mobile-xmf"],["mxml","application/xv+xml"],["mxs","application/vnd.triscape.mxs"],["mxu","video/vnd.mpegurl"],["n-gage","application/vnd.nokia.n-gage.symbian.install"],["n3","text/n3"],["nb","application/mathematica"],["nbp","application/vnd.wolfram.player"],["nc","application/x-netcdf"],["ncx","application/x-dtbncx+xml"],["nfo","text/x-nfo"],["ngdat","application/vnd.nokia.n-gage.data"],["nitf","application/vnd.nitf"],["nlu","application/vnd.neurolanguage.nlu"],["nml","application/vnd.enliven"],["nnd","application/vnd.noblenet-directory"],["nns","application/vnd.noblenet-sealer"],["nnw","application/vnd.noblenet-web"],["npx","image/vnd.net-fpx"],["nq","application/n-quads"],["nsc","application/x-conference"],["nsf","application/vnd.lotus-notes"],["nt","application/n-triples"],["ntf","application/vnd.nitf"],["numbers","application/x-iwork-numbers-sffnumbers"],["nzb","application/x-nzb"],["oa2","application/vnd.fujitsu.oasys2"],["oa3","application/vnd.fujitsu.oasys3"],["oas","application/vnd.fujitsu.oasys"],["obd","application/x-msbinder"],["obgx","application/vnd.openblox.game+xml"],["obj","model/obj"],["oda","application/oda"],["odb","application/vnd.oasis.opendocument.database"],["odc","application/vnd.oasis.opendocument.chart"],["odf","application/vnd.oasis.opendocument.formula"],["odft","application/vnd.oasis.opendocument.formula-template"],["odg","application/vnd.oasis.opendocument.graphics"],["odi","application/vnd.oasis.opendocument.image"],["odm","application/vnd.oasis.opendocument.text-master"],["odp","application/vnd.oasis.opendocument.presentation"],["ods","application/vnd.oasis.opendocument.spreadsheet"],["odt","application/vnd.oasis.opendocument.text"],["oga","audio/ogg"],["ogex","model/vnd.opengex"],["ogg","audio/ogg"],["ogv","video/ogg"],["ogx","application/ogg"],["omdoc","application/omdoc+xml"],["onepkg","application/onenote"],["onetmp","application/onenote"],["onetoc","application/onenote"],["onetoc2","application/onenote"],["opf","application/oebps-package+xml"],["opml","text/x-opml"],["oprc","application/vnd.palm"],["opus","audio/ogg"],["org","text/x-org"],["osf","application/vnd.yamaha.openscoreformat"],["osfpvg","application/vnd.yamaha.openscoreformat.osfpvg+xml"],["osm","application/vnd.openstreetmap.data+xml"],["otc","application/vnd.oasis.opendocument.chart-template"],["otf","font/otf"],["otg","application/vnd.oasis.opendocument.graphics-template"],["oth","application/vnd.oasis.opendocument.text-web"],["oti","application/vnd.oasis.opendocument.image-template"],["otp","application/vnd.oasis.opendocument.presentation-template"],["ots","application/vnd.oasis.opendocument.spreadsheet-template"],["ott","application/vnd.oasis.opendocument.text-template"],["ova","application/x-virtualbox-ova"],["ovf","application/x-virtualbox-ovf"],["owl","application/rdf+xml"],["oxps","application/oxps"],["oxt","application/vnd.openofficeorg.extension"],["p","text/x-pascal"],["p7a","application/x-pkcs7-signature"],["p7b","application/x-pkcs7-certificates"],["p7c","application/pkcs7-mime"],["p7m","application/pkcs7-mime"],["p7r","application/x-pkcs7-certreqresp"],["p7s","application/pkcs7-signature"],["p8","application/pkcs8"],["p10","application/x-pkcs10"],["p12","application/x-pkcs12"],["pac","application/x-ns-proxy-autoconfig"],["pages","application/x-iwork-pages-sffpages"],["pas","text/x-pascal"],["paw","application/vnd.pawaafile"],["pbd","application/vnd.powerbuilder6"],["pbm","image/x-portable-bitmap"],["pcap","application/vnd.tcpdump.pcap"],["pcf","application/x-font-pcf"],["pcl","application/vnd.hp-pcl"],["pclxl","application/vnd.hp-pclxl"],["pct","image/x-pict"],["pcurl","application/vnd.curl.pcurl"],["pcx","image/x-pcx"],["pdb","application/x-pilot"],["pde","text/x-processing"],["pdf","application/pdf"],["pem","application/x-x509-user-cert"],["pfa","application/x-font-type1"],["pfb","application/x-font-type1"],["pfm","application/x-font-type1"],["pfr","application/font-tdpfr"],["pfx","application/x-pkcs12"],["pgm","image/x-portable-graymap"],["pgn","application/x-chess-pgn"],["pgp","application/pgp"],["php","application/x-httpd-php"],["php3","application/x-httpd-php"],["php4","application/x-httpd-php"],["phps","application/x-httpd-php-source"],["phtml","application/x-httpd-php"],["pic","image/x-pict"],["pkg","application/octet-stream"],["pki","application/pkixcmp"],["pkipath","application/pkix-pkipath"],["pkpass","application/vnd.apple.pkpass"],["pl","application/x-perl"],["plb","application/vnd.3gpp.pic-bw-large"],["plc","application/vnd.mobius.plc"],["plf","application/vnd.pocketlearn"],["pls","application/pls+xml"],["pm","application/x-perl"],["pml","application/vnd.ctc-posml"],["png","image/png"],["pnm","image/x-portable-anymap"],["portpkg","application/vnd.macports.portpkg"],["pot","application/vnd.ms-powerpoint"],["potm","application/vnd.ms-powerpoint.presentation.macroEnabled.12"],["potx","application/vnd.openxmlformats-officedocument.presentationml.template"],["ppa","application/vnd.ms-powerpoint"],["ppam","application/vnd.ms-powerpoint.addin.macroEnabled.12"],["ppd","application/vnd.cups-ppd"],["ppm","image/x-portable-pixmap"],["pps","application/vnd.ms-powerpoint"],["ppsm","application/vnd.ms-powerpoint.slideshow.macroEnabled.12"],["ppsx","application/vnd.openxmlformats-officedocument.presentationml.slideshow"],["ppt","application/powerpoint"],["pptm","application/vnd.ms-powerpoint.presentation.macroEnabled.12"],["pptx","application/vnd.openxmlformats-officedocument.presentationml.presentation"],["pqa","application/vnd.palm"],["prc","application/x-pilot"],["pre","application/vnd.lotus-freelance"],["prf","application/pics-rules"],["provx","application/provenance+xml"],["ps","application/postscript"],["psb","application/vnd.3gpp.pic-bw-small"],["psd","application/x-photoshop"],["psf","application/x-font-linux-psf"],["pskcxml","application/pskc+xml"],["pti","image/prs.pti"],["ptid","application/vnd.pvi.ptid1"],["pub","application/x-mspublisher"],["pvb","application/vnd.3gpp.pic-bw-var"],["pwn","application/vnd.3m.post-it-notes"],["pya","audio/vnd.ms-playready.media.pya"],["pyv","video/vnd.ms-playready.media.pyv"],["qam","application/vnd.epson.quickanime"],["qbo","application/vnd.intu.qbo"],["qfx","application/vnd.intu.qfx"],["qps","application/vnd.publishare-delta-tree"],["qt","video/quicktime"],["qwd","application/vnd.quark.quarkxpress"],["qwt","application/vnd.quark.quarkxpress"],["qxb","application/vnd.quark.quarkxpress"],["qxd","application/vnd.quark.quarkxpress"],["qxl","application/vnd.quark.quarkxpress"],["qxt","application/vnd.quark.quarkxpress"],["ra","audio/x-realaudio"],["ram","audio/x-pn-realaudio"],["raml","application/raml+yaml"],["rapd","application/route-apd+xml"],["rar","application/x-rar"],["ras","image/x-cmu-raster"],["rcprofile","application/vnd.ipunplugged.rcprofile"],["rdf","application/rdf+xml"],["rdz","application/vnd.data-vision.rdz"],["relo","application/p2p-overlay+xml"],["rep","application/vnd.businessobjects"],["res","application/x-dtbresource+xml"],["rgb","image/x-rgb"],["rif","application/reginfo+xml"],["rip","audio/vnd.rip"],["ris","application/x-research-info-systems"],["rl","application/resource-lists+xml"],["rlc","image/vnd.fujixerox.edmics-rlc"],["rld","application/resource-lists-diff+xml"],["rm","audio/x-pn-realaudio"],["rmi","audio/midi"],["rmp","audio/x-pn-realaudio-plugin"],["rms","application/vnd.jcp.javame.midlet-rms"],["rmvb","application/vnd.rn-realmedia-vbr"],["rnc","application/relax-ng-compact-syntax"],["rng","application/xml"],["roa","application/rpki-roa"],["roff","text/troff"],["rp9","application/vnd.cloanto.rp9"],["rpm","audio/x-pn-realaudio-plugin"],["rpss","application/vnd.nokia.radio-presets"],["rpst","application/vnd.nokia.radio-preset"],["rq","application/sparql-query"],["rs","application/rls-services+xml"],["rsa","application/x-pkcs7"],["rsat","application/atsc-rsat+xml"],["rsd","application/rsd+xml"],["rsheet","application/urc-ressheet+xml"],["rss","application/rss+xml"],["rtf","text/rtf"],["rtx","text/richtext"],["run","application/x-makeself"],["rusd","application/route-usd+xml"],["rv","video/vnd.rn-realvideo"],["s","text/x-asm"],["s3m","audio/s3m"],["saf","application/vnd.yamaha.smaf-audio"],["sass","text/x-sass"],["sbml","application/sbml+xml"],["sc","application/vnd.ibm.secure-container"],["scd","application/x-msschedule"],["scm","application/vnd.lotus-screencam"],["scq","application/scvp-cv-request"],["scs","application/scvp-cv-response"],["scss","text/x-scss"],["scurl","text/vnd.curl.scurl"],["sda","application/vnd.stardivision.draw"],["sdc","application/vnd.stardivision.calc"],["sdd","application/vnd.stardivision.impress"],["sdkd","application/vnd.solent.sdkm+xml"],["sdkm","application/vnd.solent.sdkm+xml"],["sdp","application/sdp"],["sdw","application/vnd.stardivision.writer"],["sea","application/octet-stream"],["see","application/vnd.seemail"],["seed","application/vnd.fdsn.seed"],["sema","application/vnd.sema"],["semd","application/vnd.semd"],["semf","application/vnd.semf"],["senmlx","application/senml+xml"],["sensmlx","application/sensml+xml"],["ser","application/java-serialized-object"],["setpay","application/set-payment-initiation"],["setreg","application/set-registration-initiation"],["sfd-hdstx","application/vnd.hydrostatix.sof-data"],["sfs","application/vnd.spotfire.sfs"],["sfv","text/x-sfv"],["sgi","image/sgi"],["sgl","application/vnd.stardivision.writer-global"],["sgm","text/sgml"],["sgml","text/sgml"],["sh","application/x-sh"],["shar","application/x-shar"],["shex","text/shex"],["shf","application/shf+xml"],["shtml","text/html"],["sid","image/x-mrsid-image"],["sieve","application/sieve"],["sig","application/pgp-signature"],["sil","audio/silk"],["silo","model/mesh"],["sis","application/vnd.symbian.install"],["sisx","application/vnd.symbian.install"],["sit","application/x-stuffit"],["sitx","application/x-stuffitx"],["siv","application/sieve"],["skd","application/vnd.koan"],["skm","application/vnd.koan"],["skp","application/vnd.koan"],["skt","application/vnd.koan"],["sldm","application/vnd.ms-powerpoint.slide.macroenabled.12"],["sldx","application/vnd.openxmlformats-officedocument.presentationml.slide"],["slim","text/slim"],["slm","text/slim"],["sls","application/route-s-tsid+xml"],["slt","application/vnd.epson.salt"],["sm","application/vnd.stepmania.stepchart"],["smf","application/vnd.stardivision.math"],["smi","application/smil"],["smil","application/smil"],["smv","video/x-smv"],["smzip","application/vnd.stepmania.package"],["snd","audio/basic"],["snf","application/x-font-snf"],["so","application/octet-stream"],["spc","application/x-pkcs7-certificates"],["spdx","text/spdx"],["spf","application/vnd.yamaha.smaf-phrase"],["spl","application/x-futuresplash"],["spot","text/vnd.in3d.spot"],["spp","application/scvp-vp-response"],["spq","application/scvp-vp-request"],["spx","audio/ogg"],["sql","application/x-sql"],["src","application/x-wais-source"],["srt","application/x-subrip"],["sru","application/sru+xml"],["srx","application/sparql-results+xml"],["ssdl","application/ssdl+xml"],["sse","application/vnd.kodak-descriptor"],["ssf","application/vnd.epson.ssf"],["ssml","application/ssml+xml"],["sst","application/octet-stream"],["st","application/vnd.sailingtracker.track"],["stc","application/vnd.sun.xml.calc.template"],["std","application/vnd.sun.xml.draw.template"],["stf","application/vnd.wt.stf"],["sti","application/vnd.sun.xml.impress.template"],["stk","application/hyperstudio"],["stl","model/stl"],["stpx","model/step+xml"],["stpxz","model/step-xml+zip"],["stpz","model/step+zip"],["str","application/vnd.pg.format"],["stw","application/vnd.sun.xml.writer.template"],["styl","text/stylus"],["stylus","text/stylus"],["sub","text/vnd.dvb.subtitle"],["sus","application/vnd.sus-calendar"],["susp","application/vnd.sus-calendar"],["sv4cpio","application/x-sv4cpio"],["sv4crc","application/x-sv4crc"],["svc","application/vnd.dvb.service"],["svd","application/vnd.svd"],["svg","image/svg+xml"],["svgz","image/svg+xml"],["swa","application/x-director"],["swf","application/x-shockwave-flash"],["swi","application/vnd.aristanetworks.swi"],["swidtag","application/swid+xml"],["sxc","application/vnd.sun.xml.calc"],["sxd","application/vnd.sun.xml.draw"],["sxg","application/vnd.sun.xml.writer.global"],["sxi","application/vnd.sun.xml.impress"],["sxm","application/vnd.sun.xml.math"],["sxw","application/vnd.sun.xml.writer"],["t","text/troff"],["t3","application/x-t3vm-image"],["t38","image/t38"],["taglet","application/vnd.mynfc"],["tao","application/vnd.tao.intent-module-archive"],["tap","image/vnd.tencent.tap"],["tar","application/x-tar"],["tcap","application/vnd.3gpp2.tcap"],["tcl","application/x-tcl"],["td","application/urc-targetdesc+xml"],["teacher","application/vnd.smart.teacher"],["tei","application/tei+xml"],["teicorpus","application/tei+xml"],["tex","application/x-tex"],["texi","application/x-texinfo"],["texinfo","application/x-texinfo"],["text","text/plain"],["tfi","application/thraud+xml"],["tfm","application/x-tex-tfm"],["tfx","image/tiff-fx"],["tga","image/x-tga"],["tgz","application/x-tar"],["thmx","application/vnd.ms-officetheme"],["tif","image/tiff"],["tiff","image/tiff"],["tk","application/x-tcl"],["tmo","application/vnd.tmobile-livetv"],["toml","application/toml"],["torrent","application/x-bittorrent"],["tpl","application/vnd.groove-tool-template"],["tpt","application/vnd.trid.tpt"],["tr","text/troff"],["tra","application/vnd.trueapp"],["trig","application/trig"],["trm","application/x-msterminal"],["ts","video/mp2t"],["tsd","application/timestamped-data"],["tsv","text/tab-separated-values"],["ttc","font/collection"],["ttf","font/ttf"],["ttl","text/turtle"],["ttml","application/ttml+xml"],["twd","application/vnd.simtech-mindmapper"],["twds","application/vnd.simtech-mindmapper"],["txd","application/vnd.genomatix.tuxedo"],["txf","application/vnd.mobius.txf"],["txt","text/plain"],["u8dsn","message/global-delivery-status"],["u8hdr","message/global-headers"],["u8mdn","message/global-disposition-notification"],["u8msg","message/global"],["u32","application/x-authorware-bin"],["ubj","application/ubjson"],["udeb","application/x-debian-package"],["ufd","application/vnd.ufdl"],["ufdl","application/vnd.ufdl"],["ulx","application/x-glulx"],["umj","application/vnd.umajin"],["unityweb","application/vnd.unity"],["uoml","application/vnd.uoml+xml"],["uri","text/uri-list"],["uris","text/uri-list"],["urls","text/uri-list"],["usdz","model/vnd.usdz+zip"],["ustar","application/x-ustar"],["utz","application/vnd.uiq.theme"],["uu","text/x-uuencode"],["uva","audio/vnd.dece.audio"],["uvd","application/vnd.dece.data"],["uvf","application/vnd.dece.data"],["uvg","image/vnd.dece.graphic"],["uvh","video/vnd.dece.hd"],["uvi","image/vnd.dece.graphic"],["uvm","video/vnd.dece.mobile"],["uvp","video/vnd.dece.pd"],["uvs","video/vnd.dece.sd"],["uvt","application/vnd.dece.ttml+xml"],["uvu","video/vnd.uvvu.mp4"],["uvv","video/vnd.dece.video"],["uvva","audio/vnd.dece.audio"],["uvvd","application/vnd.dece.data"],["uvvf","application/vnd.dece.data"],["uvvg","image/vnd.dece.graphic"],["uvvh","video/vnd.dece.hd"],["uvvi","image/vnd.dece.graphic"],["uvvm","video/vnd.dece.mobile"],["uvvp","video/vnd.dece.pd"],["uvvs","video/vnd.dece.sd"],["uvvt","application/vnd.dece.ttml+xml"],["uvvu","video/vnd.uvvu.mp4"],["uvvv","video/vnd.dece.video"],["uvvx","application/vnd.dece.unspecified"],["uvvz","application/vnd.dece.zip"],["uvx","application/vnd.dece.unspecified"],["uvz","application/vnd.dece.zip"],["vbox","application/x-virtualbox-vbox"],["vbox-extpack","application/x-virtualbox-vbox-extpack"],["vcard","text/vcard"],["vcd","application/x-cdlink"],["vcf","text/x-vcard"],["vcg","application/vnd.groove-vcard"],["vcs","text/x-vcalendar"],["vcx","application/vnd.vcx"],["vdi","application/x-virtualbox-vdi"],["vds","model/vnd.sap.vds"],["vhd","application/x-virtualbox-vhd"],["vis","application/vnd.visionary"],["viv","video/vnd.vivo"],["vlc","application/videolan"],["vmdk","application/x-virtualbox-vmdk"],["vob","video/x-ms-vob"],["vor","application/vnd.stardivision.writer"],["vox","application/x-authorware-bin"],["vrml","model/vrml"],["vsd","application/vnd.visio"],["vsf","application/vnd.vsf"],["vss","application/vnd.visio"],["vst","application/vnd.visio"],["vsw","application/vnd.visio"],["vtf","image/vnd.valve.source.texture"],["vtt","text/vtt"],["vtu","model/vnd.vtu"],["vxml","application/voicexml+xml"],["w3d","application/x-director"],["wad","application/x-doom"],["wadl","application/vnd.sun.wadl+xml"],["war","application/java-archive"],["wasm","application/wasm"],["wav","audio/x-wav"],["wax","audio/x-ms-wax"],["wbmp","image/vnd.wap.wbmp"],["wbs","application/vnd.criticaltools.wbs+xml"],["wbxml","application/wbxml"],["wcm","application/vnd.ms-works"],["wdb","application/vnd.ms-works"],["wdp","image/vnd.ms-photo"],["weba","audio/webm"],["webapp","application/x-web-app-manifest+json"],["webm","video/webm"],["webmanifest","application/manifest+json"],["webp","image/webp"],["wg","application/vnd.pmi.widget"],["wgt","application/widget"],["wks","application/vnd.ms-works"],["wm","video/x-ms-wm"],["wma","audio/x-ms-wma"],["wmd","application/x-ms-wmd"],["wmf","image/wmf"],["wml","text/vnd.wap.wml"],["wmlc","application/wmlc"],["wmls","text/vnd.wap.wmlscript"],["wmlsc","application/vnd.wap.wmlscriptc"],["wmv","video/x-ms-wmv"],["wmx","video/x-ms-wmx"],["wmz","application/x-msmetafile"],["woff","font/woff"],["woff2","font/woff2"],["word","application/msword"],["wpd","application/vnd.wordperfect"],["wpl","application/vnd.ms-wpl"],["wps","application/vnd.ms-works"],["wqd","application/vnd.wqd"],["wri","application/x-mswrite"],["wrl","model/vrml"],["wsc","message/vnd.wfa.wsc"],["wsdl","application/wsdl+xml"],["wspolicy","application/wspolicy+xml"],["wtb","application/vnd.webturbo"],["wvx","video/x-ms-wvx"],["x3d","model/x3d+xml"],["x3db","model/x3d+fastinfoset"],["x3dbz","model/x3d+binary"],["x3dv","model/x3d-vrml"],["x3dvz","model/x3d+vrml"],["x3dz","model/x3d+xml"],["x32","application/x-authorware-bin"],["x_b","model/vnd.parasolid.transmit.binary"],["x_t","model/vnd.parasolid.transmit.text"],["xaml","application/xaml+xml"],["xap","application/x-silverlight-app"],["xar","application/vnd.xara"],["xav","application/xcap-att+xml"],["xbap","application/x-ms-xbap"],["xbd","application/vnd.fujixerox.docuworks.binder"],["xbm","image/x-xbitmap"],["xca","application/xcap-caps+xml"],["xcs","application/calendar+xml"],["xdf","application/xcap-diff+xml"],["xdm","application/vnd.syncml.dm+xml"],["xdp","application/vnd.adobe.xdp+xml"],["xdssc","application/dssc+xml"],["xdw","application/vnd.fujixerox.docuworks"],["xel","application/xcap-el+xml"],["xenc","application/xenc+xml"],["xer","application/patch-ops-error+xml"],["xfdf","application/vnd.adobe.xfdf"],["xfdl","application/vnd.xfdl"],["xht","application/xhtml+xml"],["xhtml","application/xhtml+xml"],["xhvml","application/xv+xml"],["xif","image/vnd.xiff"],["xl","application/excel"],["xla","application/vnd.ms-excel"],["xlam","application/vnd.ms-excel.addin.macroEnabled.12"],["xlc","application/vnd.ms-excel"],["xlf","application/xliff+xml"],["xlm","application/vnd.ms-excel"],["xls","application/vnd.ms-excel"],["xlsb","application/vnd.ms-excel.sheet.binary.macroEnabled.12"],["xlsm","application/vnd.ms-excel.sheet.macroEnabled.12"],["xlsx","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"],["xlt","application/vnd.ms-excel"],["xltm","application/vnd.ms-excel.template.macroEnabled.12"],["xltx","application/vnd.openxmlformats-officedocument.spreadsheetml.template"],["xlw","application/vnd.ms-excel"],["xm","audio/xm"],["xml","application/xml"],["xns","application/xcap-ns+xml"],["xo","application/vnd.olpc-sugar"],["xop","application/xop+xml"],["xpi","application/x-xpinstall"],["xpl","application/xproc+xml"],["xpm","image/x-xpixmap"],["xpr","application/vnd.is-xpr"],["xps","application/vnd.ms-xpsdocument"],["xpw","application/vnd.intercon.formnet"],["xpx","application/vnd.intercon.formnet"],["xsd","application/xml"],["xsl","application/xml"],["xslt","application/xslt+xml"],["xsm","application/vnd.syncml+xml"],["xspf","application/xspf+xml"],["xul","application/vnd.mozilla.xul+xml"],["xvm","application/xv+xml"],["xvml","application/xv+xml"],["xwd","image/x-xwindowdump"],["xyz","chemical/x-xyz"],["xz","application/x-xz"],["yaml","text/yaml"],["yang","application/yang"],["yin","application/yin+xml"],["yml","text/yaml"],["ymp","text/x-suse-ymp"],["z","application/x-compress"],["z1","application/x-zmachine"],["z2","application/x-zmachine"],["z3","application/x-zmachine"],["z4","application/x-zmachine"],["z5","application/x-zmachine"],["z6","application/x-zmachine"],["z7","application/x-zmachine"],["z8","application/x-zmachine"],["zaz","application/vnd.zzazz.deck+xml"],["zip","application/zip"],["zir","application/vnd.zul"],["zirz","application/vnd.zul"],["zmm","application/vnd.handheld-entertainment+xml"],["zsh","text/x-scriptzsh"]]);function Pe(s,t,a){const r=Ps(s),{webkitRelativePath:n}=s,i=typeof t=="string"?t:typeof n=="string"&&n.length>0?n:`./${s.name}`;return typeof r.path!="string"&&zt(r,"path",i),zt(r,"relativePath",i),r}function Ps(s){const{name:t}=s;if(t&&t.lastIndexOf(".")!==-1&&!s.type){const r=t.split(".").pop().toLowerCase(),n=Ss.get(r);n&&Object.defineProperty(s,"type",{value:n,writable:!1,configurable:!1,enumerable:!0})}return s}function zt(s,t,a){Object.defineProperty(s,t,{value:a,writable:!1,configurable:!1,enumerable:!0})}const _s=[".DS_Store","Thumbs.db"];function Cs(s){return xe(this,void 0,void 0,function*(){return Ge(s)&&Ds(s.dataTransfer)?Os(s.dataTransfer,s.type):Es(s)?Ts(s):Array.isArray(s)&&s.every(t=>"getFile"in t&&typeof t.getFile=="function")?As(s):[]})}function Ds(s){return Ge(s)}function Es(s){return Ge(s)&&Ge(s.target)}function Ge(s){return typeof s=="object"&&s!==null}function Ts(s){return gt(s.target.files).map(t=>Pe(t))}function As(s){return xe(this,void 0,void 0,function*(){return(yield Promise.all(s.map(a=>a.getFile()))).map(a=>Pe(a))})}function Os(s,t){return xe(this,void 0,void 0,function*(){if(s.items){const a=gt(s.items).filter(n=>n.kind==="file");if(t!=="drop")return a;const r=yield Promise.all(a.map(Fs));return Rt(ga(r))}return Rt(gt(s.files).map(a=>Pe(a)))})}function Rt(s){return s.filter(t=>_s.indexOf(t.name)===-1)}function gt(s){if(s===null)return[];const t=[];for(let a=0;a<s.length;a++){const r=s[a];t.push(r)}return t}function Fs(s){if(typeof s.webkitGetAsEntry!="function")return Ut(s);const t=s.webkitGetAsEntry();return t&&t.isDirectory?va(t):Ut(s,t)}function ga(s){return s.reduce((t,a)=>[...t,...Array.isArray(a)?ga(a):[a]],[])}function Ut(s,t){return xe(this,void 0,void 0,function*(){var a;if(globalThis.isSecureContext&&typeof s.getAsFileSystemHandle=="function"){const i=yield s.getAsFileSystemHandle();if(i===null)throw new Error(`${s} is not a File`);if(i!==void 0){const o=yield i.getFile();return o.handle=i,Pe(o)}}const r=s.getAsFile();if(!r)throw new Error(`${s} is not a File`);return Pe(r,(a=t==null?void 0:t.fullPath)!==null&&a!==void 0?a:void 0)})}function Ms(s){return xe(this,void 0,void 0,function*(){return s.isDirectory?va(s):zs(s)})}function va(s){const t=s.createReader();return new Promise((a,r)=>{const n=[];function i(){t.readEntries(o=>xe(this,void 0,void 0,function*(){if(o.length){const l=Promise.all(o.map(Ms));n.push(l),i()}else try{const l=yield Promise.all(n);a(l)}catch(l){r(l)}}),o=>{r(o)})}i()})}function zs(s){return xe(this,void 0,void 0,function*(){return new Promise((t,a)=>{s.file(r=>{const n=Pe(r,s.fullPath);t(n)},r=>{a(r)})})})}var ct=function(s,t){if(s&&t){var a=Array.isArray(t)?t:t.split(",");if(a.length===0)return!0;var r=s.name||"",n=(s.type||"").toLowerCase(),i=n.replace(/\/.*$/,"");return a.some(function(o){var l=o.trim().toLowerCase();return l.charAt(0)==="."?r.toLowerCase().endsWith(l):l.endsWith("/*")?i===l.replace(/\/.*$/,""):n===l})}return!0};function It(s){return Is(s)||Us(s)||ba(s)||Rs()}function Rs(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Us(s){if(typeof Symbol<"u"&&s[Symbol.iterator]!=null||s["@@iterator"]!=null)return Array.from(s)}function Is(s){if(Array.isArray(s))return vt(s)}function Lt(s,t){var a=Object.keys(s);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(s);t&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(s,n).enumerable})),a.push.apply(a,r)}return a}function qt(s){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?Lt(Object(a),!0).forEach(function(r){ya(s,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(s,Object.getOwnPropertyDescriptors(a)):Lt(Object(a)).forEach(function(r){Object.defineProperty(s,r,Object.getOwnPropertyDescriptor(a,r))})}return s}function ya(s,t,a){return t in s?Object.defineProperty(s,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):s[t]=a,s}function Fe(s,t){return $s(s)||qs(s,t)||ba(s,t)||Ls()}function Ls(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ba(s,t){if(s){if(typeof s=="string")return vt(s,t);var a=Object.prototype.toString.call(s).slice(8,-1);if(a==="Object"&&s.constructor&&(a=s.constructor.name),a==="Map"||a==="Set")return Array.from(s);if(a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return vt(s,t)}}function vt(s,t){(t==null||t>s.length)&&(t=s.length);for(var a=0,r=new Array(t);a<t;a++)r[a]=s[a];return r}function qs(s,t){var a=s==null?null:typeof Symbol<"u"&&s[Symbol.iterator]||s["@@iterator"];if(a!=null){var r=[],n=!0,i=!1,o,l;try{for(a=a.call(s);!(n=(o=a.next()).done)&&(r.push(o.value),!(t&&r.length===t));n=!0);}catch(p){i=!0,l=p}finally{try{!n&&a.return!=null&&a.return()}finally{if(i)throw l}}return r}}function $s(s){if(Array.isArray(s))return s}var Ws=typeof ct=="function"?ct:ct.default,Ys="file-invalid-type",Bs="file-too-large",Gs="file-too-small",Hs="too-many-files",Vs=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",a=t.split(","),r=a.length>1?"one of ".concat(a.join(", ")):a[0];return{code:Ys,message:"File type must be ".concat(r)}},$t=function(t){return{code:Bs,message:"File is larger than ".concat(t," ").concat(t===1?"byte":"bytes")}},Wt=function(t){return{code:Gs,message:"File is smaller than ".concat(t," ").concat(t===1?"byte":"bytes")}},Xs={code:Hs,message:"Too many files"};function wa(s,t){var a=s.type==="application/x-moz-file"||Ws(s,t);return[a,a?null:Vs(t)]}function ja(s,t,a){if(me(s.size))if(me(t)&&me(a)){if(s.size>a)return[!1,$t(a)];if(s.size<t)return[!1,Wt(t)]}else{if(me(t)&&s.size<t)return[!1,Wt(t)];if(me(a)&&s.size>a)return[!1,$t(a)]}return[!0,null]}function me(s){return s!=null}function Ks(s){var t=s.files,a=s.accept,r=s.minSize,n=s.maxSize,i=s.multiple,o=s.maxFiles,l=s.validator;return!i&&t.length>1||i&&o>=1&&t.length>o?!1:t.every(function(p){var c=wa(p,a),u=Fe(c,1),d=u[0],x=ja(p,r,n),v=Fe(x,1),g=v[0],h=l?l(p):null;return d&&g&&!h})}function He(s){return typeof s.isPropagationStopped=="function"?s.isPropagationStopped():typeof s.cancelBubble<"u"?s.cancelBubble:!1}function qe(s){return s.dataTransfer?Array.prototype.some.call(s.dataTransfer.types,function(t){return t==="Files"||t==="application/x-moz-file"}):!!s.target&&!!s.target.files}function Yt(s){s.preventDefault()}function Js(s){return s.indexOf("MSIE")!==-1||s.indexOf("Trident/")!==-1}function Qs(s){return s.indexOf("Edge/")!==-1}function Zs(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:window.navigator.userAgent;return Js(s)||Qs(s)}function te(){for(var s=arguments.length,t=new Array(s),a=0;a<s;a++)t[a]=arguments[a];return function(r){for(var n=arguments.length,i=new Array(n>1?n-1:0),o=1;o<n;o++)i[o-1]=arguments[o];return t.some(function(l){return!He(r)&&l&&l.apply(void 0,[r].concat(i)),He(r)})}}function er(){return"showOpenFilePicker"in window}function tr(s){if(me(s)){var t=Object.entries(s).filter(function(a){var r=Fe(a,2),n=r[0],i=r[1],o=!0;return Na(n)||(console.warn('Skipped "'.concat(n,'" because it is not a valid MIME type. Check https://developer.mozilla.org/en-US/docs/Web/HTTP/Basics_of_HTTP/MIME_types/Common_types for a list of valid MIME types.')),o=!1),(!Array.isArray(i)||!i.every(ka))&&(console.warn('Skipped "'.concat(n,'" because an invalid file extension was provided.')),o=!1),o}).reduce(function(a,r){var n=Fe(r,2),i=n[0],o=n[1];return qt(qt({},a),{},ya({},i,o))},{});return[{description:"Files",accept:t}]}return s}function ar(s){if(me(s))return Object.entries(s).reduce(function(t,a){var r=Fe(a,2),n=r[0],i=r[1];return[].concat(It(t),[n],It(i))},[]).filter(function(t){return Na(t)||ka(t)}).join(",")}function sr(s){return s instanceof DOMException&&(s.name==="AbortError"||s.code===s.ABORT_ERR)}function rr(s){return s instanceof DOMException&&(s.name==="SecurityError"||s.code===s.SECURITY_ERR)}function Na(s){return s==="audio/*"||s==="video/*"||s==="image/*"||s==="text/*"||s==="application/*"||/\w+\/[-+.\w]+/g.test(s)}function ka(s){return/^.*\.[\w]+$/.test(s)}var nr=["children"],ir=["open"],or=["refKey","role","onKeyDown","onFocus","onBlur","onClick","onDragEnter","onDragOver","onDragLeave","onDrop"],lr=["refKey","onChange","onClick"];function cr(s){return mr(s)||pr(s)||Sa(s)||dr()}function dr(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function pr(s){if(typeof Symbol<"u"&&s[Symbol.iterator]!=null||s["@@iterator"]!=null)return Array.from(s)}function mr(s){if(Array.isArray(s))return yt(s)}function dt(s,t){return hr(s)||xr(s,t)||Sa(s,t)||ur()}function ur(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Sa(s,t){if(s){if(typeof s=="string")return yt(s,t);var a=Object.prototype.toString.call(s).slice(8,-1);if(a==="Object"&&s.constructor&&(a=s.constructor.name),a==="Map"||a==="Set")return Array.from(s);if(a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return yt(s,t)}}function yt(s,t){(t==null||t>s.length)&&(t=s.length);for(var a=0,r=new Array(t);a<t;a++)r[a]=s[a];return r}function xr(s,t){var a=s==null?null:typeof Symbol<"u"&&s[Symbol.iterator]||s["@@iterator"];if(a!=null){var r=[],n=!0,i=!1,o,l;try{for(a=a.call(s);!(n=(o=a.next()).done)&&(r.push(o.value),!(t&&r.length===t));n=!0);}catch(p){i=!0,l=p}finally{try{!n&&a.return!=null&&a.return()}finally{if(i)throw l}}return r}}function hr(s){if(Array.isArray(s))return s}function Bt(s,t){var a=Object.keys(s);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(s);t&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(s,n).enumerable})),a.push.apply(a,r)}return a}function Y(s){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?Bt(Object(a),!0).forEach(function(r){bt(s,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(s,Object.getOwnPropertyDescriptors(a)):Bt(Object(a)).forEach(function(r){Object.defineProperty(s,r,Object.getOwnPropertyDescriptor(a,r))})}return s}function bt(s,t,a){return t in s?Object.defineProperty(s,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):s[t]=a,s}function Ve(s,t){if(s==null)return{};var a=fr(s,t),r,n;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(s);for(n=0;n<i.length;n++)r=i[n],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(s,r)&&(a[r]=s[r])}return a}function fr(s,t){if(s==null)return{};var a={},r=Object.keys(s),n,i;for(i=0;i<r.length;i++)n=r[i],!(t.indexOf(n)>=0)&&(a[n]=s[n]);return a}var kt=m.forwardRef(function(s,t){var a=s.children,r=Ve(s,nr),n=_a(r),i=n.open,o=Ve(n,ir);return m.useImperativeHandle(t,function(){return{open:i}},[i]),Ra.createElement(m.Fragment,null,a(Y(Y({},o),{},{open:i})))});kt.displayName="Dropzone";var Pa={disabled:!1,getFilesFromEvent:Cs,maxSize:1/0,minSize:0,multiple:!0,maxFiles:0,preventDropOnDocument:!0,noClick:!1,noKeyboard:!1,noDrag:!1,noDragEventsBubbling:!1,validator:null,useFsAccessApi:!1,autoFocus:!1};kt.defaultProps=Pa;kt.propTypes={children:W.func,accept:W.objectOf(W.arrayOf(W.string)),multiple:W.bool,preventDropOnDocument:W.bool,noClick:W.bool,noKeyboard:W.bool,noDrag:W.bool,noDragEventsBubbling:W.bool,minSize:W.number,maxSize:W.number,maxFiles:W.number,disabled:W.bool,getFilesFromEvent:W.func,onFileDialogCancel:W.func,onFileDialogOpen:W.func,useFsAccessApi:W.bool,autoFocus:W.bool,onDragEnter:W.func,onDragLeave:W.func,onDragOver:W.func,onDrop:W.func,onDropAccepted:W.func,onDropRejected:W.func,onError:W.func,validator:W.func};var wt={isFocused:!1,isFileDialogActive:!1,isDragActive:!1,isDragAccept:!1,isDragReject:!1,acceptedFiles:[],fileRejections:[]};function _a(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=Y(Y({},Pa),s),a=t.accept,r=t.disabled,n=t.getFilesFromEvent,i=t.maxSize,o=t.minSize,l=t.multiple,p=t.maxFiles,c=t.onDragEnter,u=t.onDragLeave,d=t.onDragOver,x=t.onDrop,v=t.onDropAccepted,g=t.onDropRejected,h=t.onFileDialogCancel,f=t.onFileDialogOpen,S=t.useFsAccessApi,P=t.autoFocus,y=t.preventDropOnDocument,b=t.noClick,M=t.noKeyboard,k=t.noDrag,z=t.noDragEventsBubbling,F=t.onError,E=t.validator,_=m.useMemo(function(){return ar(a)},[a]),D=m.useMemo(function(){return tr(a)},[a]),R=m.useMemo(function(){return typeof f=="function"?f:Gt},[f]),q=m.useMemo(function(){return typeof h=="function"?h:Gt},[h]),L=m.useRef(null),B=m.useRef(null),j=m.useReducer(gr,wt),w=dt(j,2),T=w[0],U=w[1],se=T.isFocused,he=T.isFileDialogActive,le=m.useRef(typeof window<"u"&&window.isSecureContext&&S&&er()),St=function(){!le.current&&he&&setTimeout(function(){if(B.current){var A=B.current.files;A.length||(U({type:"closeDialog"}),q())}},300)};m.useEffect(function(){return window.addEventListener("focus",St,!1),function(){window.removeEventListener("focus",St,!1)}},[B,he,q,le]);var fe=m.useRef([]),Pt=function(A){L.current&&L.current.contains(A.target)||(A.preventDefault(),fe.current=[])};m.useEffect(function(){return y&&(document.addEventListener("dragover",Yt,!1),document.addEventListener("drop",Pt,!1)),function(){y&&(document.removeEventListener("dragover",Yt),document.removeEventListener("drop",Pt))}},[L,y]),m.useEffect(function(){return!r&&P&&L.current&&L.current.focus(),function(){}},[L,P,r]);var ce=m.useCallback(function(N){F?F(N):console.error(N)},[F]),_t=m.useCallback(function(N){N.preventDefault(),N.persist(),Ie(N),fe.current=[].concat(cr(fe.current),[N.target]),qe(N)&&Promise.resolve(n(N)).then(function(A){if(!(He(N)&&!z)){var G=A.length,V=G>0&&Ks({files:A,accept:_,minSize:o,maxSize:i,multiple:l,maxFiles:p,validator:E}),Q=G>0&&!V;U({isDragAccept:V,isDragReject:Q,isDragActive:!0,type:"setDraggedFiles"}),c&&c(N)}}).catch(function(A){return ce(A)})},[n,c,ce,z,_,o,i,l,p,E]),Ct=m.useCallback(function(N){N.preventDefault(),N.persist(),Ie(N);var A=qe(N);if(A&&N.dataTransfer)try{N.dataTransfer.dropEffect="copy"}catch{}return A&&d&&d(N),!1},[d,z]),Dt=m.useCallback(function(N){N.preventDefault(),N.persist(),Ie(N);var A=fe.current.filter(function(V){return L.current&&L.current.contains(V)}),G=A.indexOf(N.target);G!==-1&&A.splice(G,1),fe.current=A,!(A.length>0)&&(U({type:"setDraggedFiles",isDragActive:!1,isDragAccept:!1,isDragReject:!1}),qe(N)&&u&&u(N))},[L,u,z]),ze=m.useCallback(function(N,A){var G=[],V=[];N.forEach(function(Q){var Ce=wa(Q,_),ye=dt(Ce,2),at=ye[0],st=ye[1],rt=ja(Q,o,i),Le=dt(rt,2),nt=Le[0],it=Le[1],ot=E?E(Q):null;if(at&&nt&&!ot)G.push(Q);else{var lt=[st,it];ot&&(lt=lt.concat(ot)),V.push({file:Q,errors:lt.filter(function(Fa){return Fa})})}}),(!l&&G.length>1||l&&p>=1&&G.length>p)&&(G.forEach(function(Q){V.push({file:Q,errors:[Xs]})}),G.splice(0)),U({acceptedFiles:G,fileRejections:V,isDragReject:V.length>0,type:"setFiles"}),x&&x(G,V,A),V.length>0&&g&&g(V,A),G.length>0&&v&&v(G,A)},[U,l,_,o,i,p,x,v,g,E]),Re=m.useCallback(function(N){N.preventDefault(),N.persist(),Ie(N),fe.current=[],qe(N)&&Promise.resolve(n(N)).then(function(A){He(N)&&!z||ze(A,N)}).catch(function(A){return ce(A)}),U({type:"reset"})},[n,ze,ce,z]),ge=m.useCallback(function(){if(le.current){U({type:"openDialog"}),R();var N={multiple:l,types:D};window.showOpenFilePicker(N).then(function(A){return n(A)}).then(function(A){ze(A,null),U({type:"closeDialog"})}).catch(function(A){sr(A)?(q(A),U({type:"closeDialog"})):rr(A)?(le.current=!1,B.current?(B.current.value=null,B.current.click()):ce(new Error("Cannot open the file picker because the https://developer.mozilla.org/en-US/docs/Web/API/File_System_Access_API is not supported and no <input> was provided."))):ce(A)});return}B.current&&(U({type:"openDialog"}),R(),B.current.value=null,B.current.click())},[U,R,q,S,ze,ce,D,l]),Et=m.useCallback(function(N){!L.current||!L.current.isEqualNode(N.target)||(N.key===" "||N.key==="Enter"||N.keyCode===32||N.keyCode===13)&&(N.preventDefault(),ge())},[L,ge]),Tt=m.useCallback(function(){U({type:"focus"})},[]),At=m.useCallback(function(){U({type:"blur"})},[]),Ot=m.useCallback(function(){b||(Zs()?setTimeout(ge,0):ge())},[b,ge]),ve=function(A){return r?null:A},tt=function(A){return M?null:ve(A)},Ue=function(A){return k?null:ve(A)},Ie=function(A){z&&A.stopPropagation()},Ta=m.useMemo(function(){return function(){var N=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},A=N.refKey,G=A===void 0?"ref":A,V=N.role,Q=N.onKeyDown,Ce=N.onFocus,ye=N.onBlur,at=N.onClick,st=N.onDragEnter,rt=N.onDragOver,Le=N.onDragLeave,nt=N.onDrop,it=Ve(N,or);return Y(Y(bt({onKeyDown:tt(te(Q,Et)),onFocus:tt(te(Ce,Tt)),onBlur:tt(te(ye,At)),onClick:ve(te(at,Ot)),onDragEnter:Ue(te(st,_t)),onDragOver:Ue(te(rt,Ct)),onDragLeave:Ue(te(Le,Dt)),onDrop:Ue(te(nt,Re)),role:typeof V=="string"&&V!==""?V:"presentation"},G,L),!r&&!M?{tabIndex:0}:{}),it)}},[L,Et,Tt,At,Ot,_t,Ct,Dt,Re,M,k,r]),Aa=m.useCallback(function(N){N.stopPropagation()},[]),Oa=m.useMemo(function(){return function(){var N=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},A=N.refKey,G=A===void 0?"ref":A,V=N.onChange,Q=N.onClick,Ce=Ve(N,lr),ye=bt({accept:_,multiple:l,type:"file",style:{border:0,clip:"rect(0, 0, 0, 0)",clipPath:"inset(50%)",height:"1px",margin:"0 -1px -1px 0",overflow:"hidden",padding:0,position:"absolute",width:"1px",whiteSpace:"nowrap"},onChange:ve(te(V,Re)),onClick:ve(te(Q,Aa)),tabIndex:-1},G,B);return Y(Y({},ye),Ce)}},[B,a,l,Re,r]);return Y(Y({},T),{},{isFocused:se&&!r,getRootProps:Ta,getInputProps:Oa,rootRef:L,inputRef:B,open:ve(ge)})}function gr(s,t){switch(t.type){case"focus":return Y(Y({},s),{},{isFocused:!0});case"blur":return Y(Y({},s),{},{isFocused:!1});case"openDialog":return Y(Y({},wt),{},{isFileDialogActive:!0});case"closeDialog":return Y(Y({},s),{},{isFileDialogActive:!1});case"setDraggedFiles":return Y(Y({},s),{},{isDragActive:t.isDragActive,isDragAccept:t.isDragAccept,isDragReject:t.isDragReject});case"setFiles":return Y(Y({},s),{},{acceptedFiles:t.acceptedFiles,fileRejections:t.fileRejections,isDragReject:t.isDragReject});case"reset":return Y({},wt);default:return s}}function Gt(){}const vr=s=>{const a=["application/pdf","application/vnd.openxmlformats-officedocument.wordprocessingml.document"];if(s.size>10485760)return{isValid:!1,error:"File size must be less than 10MB"};if(!a.includes(s.type))return{isValid:!1,error:"Only PDF and DOCX files are allowed"};const r=s.name.toLowerCase();return r.includes("..")||r.includes("/")||r.includes("\\")?{isValid:!1,error:"Invalid file name"}:s.size<100?{isValid:!1,error:"File appears to be empty or corrupted"}:{isValid:!0}},yr=s=>{switch(s){case"application/pdf":return"📄";case"application/vnd.openxmlformats-officedocument.wordprocessingml.document":return"📝";default:return"📄"}},Ht=s=>{if(s===0)return"0 Bytes";const t=1024,a=["Bytes","KB","MB","GB"],r=Math.floor(Math.log(s)/Math.log(t));return parseFloat((s/Math.pow(t,r)).toFixed(2))+" "+a[r]},br=async(s,t,a="modern",r="resume.pdf")=>{try{const[{default:n},{default:i},{createRoot:o}]=await Promise.all([pe(()=>import("./jspdf.es.min-a3rWTmMz.js"),__vite__mapDeps([0,1,2,3])),pe(()=>import("./html2canvas.esm-CBrSDip1.js"),[]),pe(()=>Promise.resolve().then(()=>cs),void 0)]),{ResumeDocument:l}=await pe(async()=>{const{ResumeDocument:u}=await import("./ResumeDocument-B4EcVh65.js");return{ResumeDocument:u}},__vite__mapDeps([4,2,1,3])),p=await pe(()=>import("./vendor-VDje9Jtb.js").then(u=>u.i),[]),c=document.createElement("div");c.style.cssText=`
      position: absolute;
      left: -9999px;
      top: -9999px;
      width: 8.5in;
      background-color: #ffffff;
      font-family: Arial, sans-serif;
      visibility: hidden;
      pointer-events: none;
    `,document.body.appendChild(c);try{const u=o(c);await new Promise((f,S)=>{try{u.render(p.createElement(l,{resumeText:s,templateData:t,templateCategory:a}));const P=setTimeout(()=>{S(new Error("Rendering timeout"))},1e4);setTimeout(()=>{clearTimeout(P),f()},1500)}catch(P){S(P)}});const d=await i(c,{scale:2,useCORS:!0,allowTaint:!1,backgroundColor:"#ffffff",width:816,height:1056,scrollX:0,scrollY:0,windowWidth:816,windowHeight:1056,ignoreElements:f=>f.tagName==="SCRIPT"||f.tagName==="STYLE"}),x=new n({orientation:"portrait",unit:"in",format:"letter",compress:!0}),v=8.5,g=d.height*v/d.width,h=d.toDataURL("image/png",.95);g>11?x.addImage(h,"PNG",.25,.25,v-.5,10.5):x.addImage(h,"PNG",.25,.25,v-.5,g),u.unmount(),document.body.removeChild(c);try{x.save(r)}catch{const S=x.output("blob"),P=URL.createObjectURL(S),y=document.createElement("a");y.href=P,y.download=r,document.body.appendChild(y),y.click(),document.body.removeChild(y),URL.revokeObjectURL(P)}}catch(u){throw document.body.contains(c)&&document.body.removeChild(c),u}}catch(n){console.error("PDF generation error:",n);let i="Failed to generate PDF. ";throw n instanceof Error?n.message.includes("timeout")?i+="The process took too long. Please try again.":n.message.includes("canvas")?i+="Unable to render the resume. Please try a different browser.":n.message.includes("memory")?i+="Insufficient memory. Please close other tabs and try again.":i+="Please try again or use a different browser.":i+="Please try again or use a different browser.",new Error(i)}};class pt{static async processFile(t){const a=vr(t);if(!a.isValid)throw new Error(a.error);let r,n,i;try{if(t.type==="application/pdf"){const p=await this.extractTextFromPDF(t);r=p.text,i=p.pageCount,n="PDF.js"}else if(t.type==="application/vnd.openxmlformats-officedocument.wordprocessingml.document")r=await this.extractTextFromDOCX(t),n="Mammoth.js";else throw new Error("Unsupported file type");const o=this.cleanExtractedText(r);if(!o||o.trim().length<50)throw new Error("Insufficient text content extracted. Please ensure your resume contains readable text.");const l=this.countWords(o);return{text:o,metadata:{fileName:t.name,fileSize:t.size,fileType:t.type,pageCount:i,wordCount:l,extractionMethod:n}}}catch(o){throw console.error("File processing error:",o),new Error(`Failed to process file: ${o.message}`)}}static async extractTextFromPDF(t){var a,r,n,i,o;try{const l=await pe(()=>import("./pdf-CLl1tYSi.js"),[]),p=`https://cdnjs.cloudflare.com/ajax/libs/pdf.js/${l.version}/pdf.worker.min.js`;l.GlobalWorkerOptions.workerSrc||(l.GlobalWorkerOptions.workerSrc=p);const c=await t.arrayBuffer(),d=await l.getDocument({data:c,verbosity:0,cMapUrl:"https://cdn.jsdelivr.net/npm/pdfjs-dist@3.11.174/cmaps/",cMapPacked:!0,standardFontDataUrl:"https://cdn.jsdelivr.net/npm/pdfjs-dist@3.11.174/standard_fonts/",useSystemFonts:!0,disableFontFace:!1,disableRange:!1,disableStream:!1,disableAutoFetch:!1,pdfBug:!1}).promise;let x="";const v=d.numPages;let g=0;for(let h=1;h<=v;h++)try{const P=(await(await d.getPage(h)).getTextContent({normalizeWhitespace:!0,disableCombineTextItems:!1})).items.filter(y=>y.str&&y.str.trim()).map(y=>y.str).join(" ");P.trim()&&(x+=P+`
`,g++)}catch(f){console.warn(`Error extracting text from page ${h}:`,f)}if(await d.destroy(),g===0)throw new Error("No readable text found in PDF. The document may contain only images or scanned content.");if(x.trim().length<50)throw new Error("Very little text extracted from PDF. The document may be primarily image-based or have formatting issues.");return{text:x.trim(),pageCount:v}}catch(l){throw console.error("PDF extraction error:",l),(a=l.message)!=null&&a.includes("Invalid PDF")?new Error("Invalid PDF file. Please ensure the file is not corrupted and is a valid PDF document."):(r=l.message)!=null&&r.includes("password")?new Error("Password-protected PDFs are not supported. Please upload an unprotected version."):(n=l.message)!=null&&n.includes("No readable text found")?new Error("This PDF appears to contain only images or scanned content. Please upload a PDF with selectable text or convert it using OCR software first."):(i=l.message)!=null&&i.includes("Very little text extracted")?new Error("Unable to extract sufficient text from this PDF. Please ensure it contains readable text content, not just images."):(o=l.message)!=null&&o.includes("Loading")?new Error("Failed to load PDF file. The file may be corrupted or too large."):l.name==="UnexpectedResponseException"?new Error("PDF processing failed due to network issues. Please try again."):new Error("Failed to extract text from PDF. The file may be corrupted, contain only images, or have an unsupported format. Please try uploading a different PDF or convert it to a text-based format.")}}static async extractTextFromDOCX(t){var a,r;try{const n=await pe(()=>import("./index-Gp6FNohe.js").then(l=>l.i),__vite__mapDeps([5,2])),i=await t.arrayBuffer(),o=await n.extractRawText({arrayBuffer:i});if(o.messages&&o.messages.length>0&&console.warn("DOCX extraction warnings:",o.messages),!o.value||o.value.trim().length<50)throw new Error("Very little text extracted from DOCX. The document may be empty or contain primarily non-text content.");return o.value}catch(n){throw console.error("DOCX extraction error:",n),(a=n.message)!=null&&a.includes("not a valid zip file")?new Error("Invalid DOCX file. Please ensure the file is not corrupted and is a valid Word document."):(r=n.message)!=null&&r.includes("Very little text extracted")?new Error("Unable to extract sufficient text from this DOCX file. Please ensure it contains readable content."):new Error("Failed to extract text from DOCX file. The file may be corrupted or in an unsupported format.")}}static cleanExtractedText(t){return t.replace(/\s+/g," ").replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7F-\x9F]/g,"").replace(/\r\n/g,`
`).replace(/\r/g,`
`).replace(/\n{3,}/g,`

`).replace(/\f/g,`
`).replace(/\u00A0/g," ").trim()}static countWords(t){return t.split(/\s+/).filter(a=>a.length>0).length}static async validateResumeContent(t){const a=[];let r=!0;Object.entries({contact:/(?:email|phone|address|linkedin|github|contact)/i,experience:/(?:experience|work|employment|job|position|career)/i,education:/(?:education|degree|university|college|school|academic)/i,skills:/(?:skills|technologies|proficient|expertise|competencies)/i}).forEach(([o,l])=>{l.test(t)||a.push(`Consider adding a ${o} section to your resume`)});const i=this.countWords(t);return i<100?(r=!1,a.push("Resume appears too short. Consider adding more details about your experience and skills.")):i>1e3&&a.push("Resume is quite long. Consider condensing to 1-2 pages for better readability."),/\b\d{4}\b/.test(t)||a.push("Consider adding dates to your experience and education sections."),/(?:@|email)/i.test(t)||a.push("Make sure to include your email address for contact purposes."),(t.includes("�")||/[^\x00-\x7F]{10,}/.test(t))&&a.push("Some characters may not have been extracted correctly. Please review the content."),{isValid:r,suggestions:a}}static generatePreview(t,a=500){return t.length<=a?t:t.substring(0,a)+"..."}static detectLanguage(t){const a=["the","and","or","but","in","on","at","to","for","of","with","by"],r=t.toLowerCase().split(/\s+/);return r.filter(o=>a.includes(o)).length/Math.min(r.length,100)>.1?"en":"unknown"}static extractContactInfo(t){const a={},r=t.match(/\b[A-Za-z0-9._%+-]+@[A-Za-z0-9.-]+\.[A-Z|a-z]{2,}\b/);r&&(a.email=r[0]);const n=t.match(/(?:\+?1[-.\s]?)?\(?[0-9]{3}\)?[-.\s]?[0-9]{3}[-.\s]?[0-9]{4}/);n&&(a.phone=n[0]);const i=t.match(/(?:linkedin\.com\/in\/|linkedin\.com\/pub\/)[A-Za-z0-9-]+/i);i&&(a.linkedin=i[0]);const o=t.match(/(?:github\.com\/)[A-Za-z0-9-]+/i);return o&&(a.github=o[0]),a}}const wr=({onFileSelect:s,selectedFile:t,processingResult:a,onClearFile:r})=>{const[n,i]=m.useState(!1),[o,l]=m.useState(""),[p,c]=m.useState(!1),[u,d]=m.useState(""),{handleError:x}=_e(),{showSuccess:v,showError:g}=ue(),h=m.useCallback(async(M,k)=>{var z,F,E;if(k.length>0){const _=k[0];let D="File upload failed";if(_.errors){const R=_.errors[0];R.code==="file-too-large"?D="File is too large. Please select a file smaller than 10MB.":R.code==="file-invalid-type"?D="Invalid file type. Please select a PDF or DOCX file.":D=R.message}l(D),g("Upload Failed",D);return}if(M.length>0){const _=M[0];i(!0),l(""),d("Validating file...");try{d("Extracting text content...");const D=await pt.processFile(_);d("Validating resume content...");const R=await pt.validateResumeContent(D.text);if(!R.isValid){const q="Resume validation failed: "+R.suggestions.join(", ");l(q),g("Validation Failed",q),i(!1);return}d("Processing complete!"),s(_,D),v("File uploaded successfully!",`Extracted ${D.metadata.wordCount} words from your resume.`)}catch(D){console.error("File processing error:",D);let R="Failed to process file";(z=D.message)!=null&&z.includes("PDF")?R="Unable to extract text from PDF. Please ensure it contains selectable text, not just images.":(F=D.message)!=null&&F.includes("DOCX")?R="Unable to process DOCX file. Please ensure it's a valid Word document.":(E=D.message)!=null&&E.includes("Insufficient text")?R="The file doesn't contain enough readable text. Please upload a complete resume.":D.message&&(R=D.message),l(R),x(D,"File Upload",{showToast:!0,fallbackMessage:R})}finally{i(!1),d("")}}},[s,x,v,g]),{getRootProps:f,getInputProps:S,isDragActive:P,isDragReject:y}=_a({onDrop:h,accept:{"application/pdf":[".pdf"],"application/vnd.openxmlformats-officedocument.wordprocessingml.document":[".docx"]},maxFiles:1,maxSize:10*1024*1024,multiple:!1,disabled:n}),b=()=>{l("")};return t&&a?e.jsxs("div",{className:"space-y-4",children:[e.jsxs(I,{className:"border-green-200 bg-green-50",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(re,{className:"w-8 h-8 text-green-500"}),e.jsx("div",{className:"flex-1",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:"text-lg",children:yr(t.type)}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900",children:t.name}),e.jsxs("p",{className:"text-sm text-gray-600",children:[Ht(t.size)," • ",a.metadata.wordCount," words",a.metadata.pageCount&&` • ${a.metadata.pageCount} pages`]})]})]})})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(O,{variant:"ghost",size:"sm",onClick:()=>c(!p),children:e.jsx(Se,{className:"w-4 h-4"})}),e.jsx(O,{variant:"ghost",size:"sm",onClick:r,children:e.jsx(ae,{className:"w-4 h-4"})})]})]}),e.jsx("div",{className:"mt-3 pt-3 border-t border-green-200",children:e.jsxs("div",{className:"flex items-center space-x-4 text-sm text-gray-600",children:[e.jsx("span",{children:"✅ Text extracted successfully"}),e.jsx("span",{children:"✅ Content validated"}),e.jsx("span",{children:"✅ Ready for analysis"})]})}),p&&e.jsxs("div",{className:"mt-4 pt-4 border-t border-green-200",children:[e.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Content Preview:"}),e.jsx("div",{className:"bg-white p-3 rounded border max-h-40 overflow-y-auto",children:e.jsx("pre",{className:"text-sm text-gray-700 whitespace-pre-wrap",children:pt.generatePreview(a.text,300)})})]})]}),e.jsx(I,{className:"bg-blue-50 border-blue-200",children:e.jsxs("div",{className:"flex items-start space-x-2",children:[e.jsx(ta,{className:"w-5 h-5 text-blue-600 mt-0.5"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:"font-medium text-blue-900 mb-2",children:"Processing Details"}),e.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-blue-700",children:"Extraction Method:"}),e.jsx("span",{className:"ml-2 text-blue-900",children:a.metadata.extractionMethod})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-blue-700",children:"Word Count:"}),e.jsx("span",{className:"ml-2 text-blue-900",children:a.metadata.wordCount})]}),a.metadata.pageCount&&e.jsxs("div",{children:[e.jsx("span",{className:"text-blue-700",children:"Pages:"}),e.jsx("span",{className:"ml-2 text-blue-900",children:a.metadata.pageCount})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-blue-700",children:"File Size:"}),e.jsx("span",{className:"ml-2 text-blue-900",children:Ht(a.metadata.fileSize)})]})]})]})]})})]}):e.jsxs(I,{className:"text-center",padding:"lg",children:[o&&e.jsx("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 rounded-lg",children:e.jsxs("div",{className:"flex items-start space-x-2",children:[e.jsx(ee,{className:"w-5 h-5 text-red-600 mt-0.5 flex-shrink-0"}),e.jsxs("div",{className:"flex-1 text-left",children:[e.jsx("p",{className:"text-sm text-red-700",children:o}),o.includes("PDF")&&e.jsx("p",{className:"text-xs text-red-600 mt-1",children:"Tip: Try converting your PDF to a Word document if it contains scanned images."})]}),e.jsx("button",{type:"button",onClick:b,className:"text-red-400 hover:text-red-600",children:e.jsx(ae,{className:"w-4 h-4"})})]})}),e.jsxs("div",{...f(),className:`
          border-2 border-dashed rounded-xl p-8 cursor-pointer transition-all duration-200
          ${P&&!y?"border-blue-500 bg-blue-50":y?"border-red-500 bg-red-50":"border-gray-300 hover:border-gray-400 hover:bg-gray-50"}
          ${n?"pointer-events-none opacity-75":""}
        `,children:[e.jsx("input",{...S()}),e.jsxs("div",{className:"space-y-4",children:[n?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"animate-spin mx-auto w-12 h-12 border-4 border-blue-500 border-t-transparent rounded-full"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-lg font-medium text-gray-900",children:"Processing your resume..."}),e.jsx("p",{className:"text-gray-500 mt-1",children:u||"Extracting text and validating content"})]})]}):e.jsxs(e.Fragment,{children:[e.jsx(Ya,{className:`mx-auto w-12 h-12 ${P&&!y?"text-blue-500":y?"text-red-500":"text-gray-400"}`}),e.jsxs("div",{children:[e.jsx("p",{className:"text-lg font-medium text-gray-900",children:y?"Invalid file type":P?"Drop your resume here":"Upload your resume"}),e.jsx("p",{className:"text-gray-500 mt-1",children:y?"Please select a PDF or DOCX file":P?"Release to upload":"Drag & drop your resume here, or click to browse"})]})]}),e.jsxs("div",{className:"flex items-center justify-center space-x-2 text-sm text-gray-500",children:[e.jsx(Ba,{className:"w-4 h-4"}),e.jsx("span",{children:"Supports PDF and DOCX files up to 10MB"})]}),e.jsxs("div",{className:"mt-6 pt-4 border-t border-gray-200",children:[e.jsx("p",{className:"text-sm font-medium text-gray-700 mb-2",children:"What we'll do with your file:"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 text-xs text-gray-600",children:[e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx("span",{className:"text-green-500",children:"✓"}),e.jsx("span",{children:"Extract text content"})]}),e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx("span",{className:"text-green-500",children:"✓"}),e.jsx("span",{children:"Validate resume structure"})]}),e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx("span",{className:"text-green-500",children:"✓"}),e.jsx("span",{children:"Detect contact information"})]}),e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx("span",{className:"text-green-500",children:"✓"}),e.jsx("span",{children:"Prepare for AI analysis"})]})]})]})]})]})]})},jr=({value:s,onChange:t})=>e.jsxs(I,{children:[e.jsxs("div",{className:"mb-4",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[e.jsx(Ga,{className:"w-5 h-5 text-blue-600"}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Job Description"})]}),e.jsx("p",{className:"text-gray-600 text-sm",children:"Paste the job description you're applying for. Our AI will analyze it to tailor your resume."})]}),e.jsx("textarea",{value:s,onChange:a=>t(a.target.value),placeholder:"Paste the complete job description here including requirements, responsibilities, and qualifications...",className:"w-full h-64 p-4 border border-gray-300 rounded-lg resize-none focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors duration-200"})]}),Nr=({templates:s,selectedTemplate:t,onTemplateSelect:a,hasActiveSubscription:r})=>e.jsxs(I,{children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Choose Template"}),e.jsx("p",{className:"text-gray-600 text-sm",children:"Select an ATS-friendly template for your tailored resume"})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:s.map(n=>{const i=t===n.id,o=!n.is_premium||r;return e.jsxs("div",{className:`
                relative border-2 rounded-lg overflow-hidden cursor-pointer transition-all duration-200
                ${i?"border-blue-500 ring-2 ring-blue-200":"border-gray-200 hover:border-gray-300"}
                ${!o&&"opacity-75"}
              `,onClick:()=>o&&a(n.id),children:[n.is_premium&&e.jsx("div",{className:"absolute top-2 right-2 z-10",children:e.jsxs("div",{className:"bg-gradient-to-r from-yellow-400 to-orange-500 text-white px-2 py-1 rounded-full text-xs font-medium flex items-center space-x-1",children:[e.jsx(oe,{className:"w-3 h-3"}),e.jsx("span",{children:"Premium"})]})}),i&&e.jsx("div",{className:"absolute top-2 left-2 z-10",children:e.jsx("div",{className:"bg-blue-500 text-white p-1 rounded-full",children:e.jsx(Oe,{className:"w-4 h-4"})})}),e.jsx("div",{className:"aspect-[3/4] bg-gradient-to-br from-gray-100 to-gray-200 relative",children:e.jsx("div",{className:"absolute inset-4 bg-white rounded shadow-sm p-3",children:e.jsxs("div",{className:"space-y-2",children:[e.jsx("div",{className:"h-2 bg-gray-300 rounded w-3/4"}),e.jsx("div",{className:"h-1 bg-gray-200 rounded w-1/2"}),e.jsxs("div",{className:"space-y-1 mt-3",children:[e.jsx("div",{className:"h-1 bg-gray-200 rounded"}),e.jsx("div",{className:"h-1 bg-gray-200 rounded w-5/6"}),e.jsx("div",{className:"h-1 bg-gray-200 rounded w-4/6"})]}),e.jsxs("div",{className:"mt-3 space-y-1",children:[e.jsx("div",{className:"h-1 bg-gray-300 rounded w-1/3"}),e.jsx("div",{className:"h-1 bg-gray-200 rounded"}),e.jsx("div",{className:"h-1 bg-gray-200 rounded w-3/4"})]})]})})}),e.jsxs("div",{className:"p-3 bg-white",children:[e.jsx("h4",{className:"font-medium text-gray-900",children:n.name}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:n.description}),e.jsx("div",{className:"mt-2",children:e.jsx("span",{className:"inline-block px-2 py-1 bg-gray-100 text-gray-700 text-xs rounded-full capitalize",children:n.category})})]}),!o&&e.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-50 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx(oe,{className:"w-8 h-8 text-yellow-400 mx-auto mb-2"}),e.jsx("p",{className:"text-white text-sm font-medium",children:"Premium Required"})]})})]},n.id)})})]}),kr=({analysis:s,onDownload:t,onPreview:a})=>{const{handleError:r}=_e(),{showSuccess:n}=ue(),i=async o=>{try{n("Generating PDF...","Please wait while we create your professional resume."),await t(o),n("Download Complete!","Your resume has been downloaded successfully.")}catch(l){r(l,"PDF Download",{fallbackMessage:"Failed to download resume. Please try again."})}};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs(I,{children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ke,{className:"w-5 h-5 text-blue-600"}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"ATS Score"})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("div",{className:"text-2xl font-bold text-blue-600",children:[s.ats_score,"%"]}),e.jsx("div",{className:"text-sm text-gray-500",children:"Compatibility"})]})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-3 mb-4",children:e.jsx("div",{className:"bg-gradient-to-r from-blue-500 to-blue-600 h-3 rounded-full transition-all duration-1000",style:{width:`${s.ats_score}%`}})}),e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsx("span",{className:"text-gray-500",children:"Needs Work"}),e.jsx("span",{className:"text-gray-500",children:"Perfect Match"})]}),e.jsx("div",{className:"mt-4 p-3 rounded-lg bg-blue-50",children:e.jsx("p",{className:"text-sm text-blue-800",children:s.ats_score>=80?e.jsxs(e.Fragment,{children:[e.jsx(re,{className:"w-4 h-4 inline mr-1"}),"Excellent! Your resume is highly optimized for ATS systems."]}):s.ats_score>=60?e.jsxs(e.Fragment,{children:[e.jsx(ee,{className:"w-4 h-4 inline mr-1"}),"Good score! Consider implementing the suggestions below for further improvement."]}):e.jsxs(e.Fragment,{children:[e.jsx(ee,{className:"w-4 h-4 inline mr-1"}),"Your resume could benefit from optimization. Review the suggestions below."]})})})]}),e.jsxs(I,{children:[e.jsxs("div",{className:"mb-4",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[e.jsx(re,{className:"w-5 h-5 text-green-600"}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"AI Improvements"})]}),e.jsx("p",{className:"text-gray-600 text-sm",children:"Key optimizations made to enhance your resume for this position"})]}),e.jsx("div",{className:"space-y-3",children:s.suggestions.map((o,l)=>e.jsxs("div",{className:"flex items-start space-x-3 p-3 bg-green-50 rounded-lg",children:[e.jsx(re,{className:"w-5 h-5 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("p",{className:"text-sm text-gray-700",children:o})]},l))}),s.analysis_data&&e.jsx("div",{className:"mt-4 pt-4 border-t border-gray-200",children:e.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[s.analysis_data.keywordsAdded&&s.analysis_data.keywordsAdded.length>0&&e.jsxs("div",{children:[e.jsx("span",{className:"font-medium text-gray-700",children:"Keywords Added:"}),e.jsxs("p",{className:"text-gray-600 mt-1",children:[s.analysis_data.keywordsAdded.slice(0,3).join(", "),s.analysis_data.keywordsAdded.length>3&&"..."]})]}),s.analysis_data.sectionsOptimized&&e.jsxs("div",{children:[e.jsx("span",{className:"font-medium text-gray-700",children:"Sections Optimized:"}),e.jsx("p",{className:"text-gray-600 mt-1",children:s.analysis_data.sectionsOptimized.join(", ")})]})]})})]}),e.jsxs(I,{children:[e.jsxs("div",{className:"mb-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Download Your Resume"}),e.jsx("p",{className:"text-gray-600 text-sm",children:"Your tailored resume is ready! Download as a professionally formatted PDF."})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[e.jsxs(O,{onClick:a,variant:"outline",className:"flex-1 flex items-center justify-center space-x-2",children:[e.jsx(Se,{className:"w-4 h-4"}),e.jsx("span",{children:"Preview"})]}),e.jsxs(O,{onClick:()=>i("pdf"),className:"flex-1 flex items-center justify-center space-x-2",children:[e.jsx(Ae,{className:"w-4 h-4"}),e.jsx("span",{children:"Download PDF"})]})]}),e.jsx("div",{className:"mt-4 p-3 bg-blue-50 rounded-lg",children:e.jsxs("p",{className:"text-xs text-blue-800",children:[e.jsx("strong",{children:"Professional Format:"})," Your resume will be downloaded as a beautifully formatted PDF that maintains consistent styling and is optimized for both ATS systems and human reviewers."]})})]})]})};class mt{static async analyzeResume(t){var a,r,n,i,o,l,p,c,u;try{const{data:{session:d},error:x}=await C.auth.getSession();if(x||!d)throw new Error("User not authenticated. Please sign in and try again.");try{const v=await fetch("https://qcaibguxsmwzihehhhar.supabase.co/functions/v1/analyze-resume",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${d.access_token}`},body:JSON.stringify(t)});if(v.ok){const g=await v.json();if(g.success)return g.data;throw new Error(g.error||"Analysis failed")}else{if(v.status===401)throw new Error("Authentication expired. Please sign in again.");if(v.status===403)throw new Error("You do not have permission to perform this action.");if(v.status===429)throw new Error("Too many requests. Please wait a moment and try again.");return console.warn("Edge Function failed, using fallback analysis"),await this.generateFallbackAnalysis(t)}}catch(v){if((a=v.message)!=null&&a.includes("Authentication")||(r=v.message)!=null&&r.includes("permission")||(n=v.message)!=null&&n.includes("Too many requests"))throw v;return console.warn("Edge Function not available, using fallback analysis:",v.message),await this.generateFallbackAnalysis(t)}}catch(d){throw console.error("Error analyzing resume:",d),(i=d.message)!=null&&i.includes("User not authenticated")?new Error("Please sign in to analyze your resume"):(o=d.message)!=null&&o.includes("Authentication expired")?new Error("Your session has expired. Please sign in again."):(l=d.message)!=null&&l.includes("permission")?new Error("You do not have permission to perform this action."):(p=d.message)!=null&&p.includes("Too many requests")?new Error("You have reached the rate limit. Please wait a moment and try again."):(c=d.message)!=null&&c.includes("network")||(u=d.message)!=null&&u.includes("fetch")?new Error("Network error. Please check your internet connection and try again."):d}}static async generateFallbackAnalysis(t){await new Promise(u=>setTimeout(u,2500));const a=this.extractKeywords(t.jobDescription),r=this.extractKeywords(t.resumeText),n=a.filter(u=>!r.some(d=>d.toLowerCase().includes(u.toLowerCase()))).slice(0,5),i=["Optimized resume formatting for better ATS compatibility","Enhanced action verbs to demonstrate impact and achievements","Improved summary section to align with job requirements","Reorganized skills section to highlight relevant technologies",...n.length>0?[`Added relevant keywords: ${n.join(", ")}`]:[]],o=r.length/Math.max(a.length,1)*100,l=Math.min(o,85),p=Math.floor(l+Math.random()*15)+70,c=this.enhanceResumeText(t.resumeText,n);return{tailoredResume:c,suggestions:i,atsScore:Math.min(p,100),analysisData:{keywordsAdded:n,sectionsOptimized:["Summary","Experience","Skills"],improvementAreas:["Quantify achievements with specific numbers","Add relevant industry keywords","Improve formatting consistency"],originalWordCount:this.countWords(t.resumeText),enhancedWordCount:this.countWords(c),keywordMatchScore:Math.round(o)}}}static extractKeywords(t){const a=["JavaScript","TypeScript","React","Node.js","Python","Java","AWS","Docker","Kubernetes","Git","SQL","MongoDB","PostgreSQL","REST API","GraphQL","Agile","Scrum","CI/CD","DevOps","Machine Learning","Data Analysis","Project Management","Leadership","Communication","Problem Solving","Team Collaboration","Strategic Planning","Budget Management"],r=t.toLowerCase().split(/\W+/),n=a.filter(l=>r.some(p=>p.includes(l.toLowerCase())||l.toLowerCase().includes(p))),o=(t.match(/\b[A-Z][a-z]+(?:\s+[A-Z][a-z]+)*\b/g)||[]).filter(l=>l.length>2&&!["The","And","Or","But","In","On","At","To","For","Of","With","By"].includes(l));return[...new Set([...n,...o])]}static enhanceResumeText(t,a){let r=t;if(a.length>0){const n=/(?:SKILLS|TECHNICAL SKILLS|CORE COMPETENCIES)[\s\S]*?(?=\n[A-Z]{2,}|\n\n|$)/i,i=r.match(n);if(i){const l=i[0]+`
• `+a.join(", ");r=r.replace(n,l)}else{const o=`

TECHNICAL SKILLS
• ${a.join(", ")}`;r+=o}}return r+=`

[RESUME OPTIMIZED FOR ATS COMPATIBILITY]`,r}static countWords(t){return t.split(/\s+/).filter(a=>a.length>0).length}static async getUserAnalyses(t=10){try{const{data:{user:a}}=await C.auth.getUser();if(!a)throw new Error("User not authenticated");const{data:r,error:n}=await C.from("resume_analyses").select(`
          *,
          template:resume_templates(name, category)
        `).eq("user_id",a.id).order("created_at",{ascending:!1}).limit(t);if(n)throw n;return r}catch(a){throw console.error("Error fetching user analyses:",a),new Error("Failed to load analysis history. Please try again.")}}static async getTemplates(){try{const{data:t,error:a}=await C.from("resume_templates").select("*").eq("is_active",!0).order("created_at");if(a)throw a;return t}catch(t){throw console.error("Error fetching templates:",t),new Error("Failed to load resume templates. Please try again.")}}static async saveAnalysis(t){try{const{data:{user:a}}=await C.auth.getUser();if(!a)throw new Error("User not authenticated");const{data:r,error:n}=await C.from("resume_analyses").insert({user_id:a.id,original_resume_text:t.resumeText,job_description:t.jobDescription,tailored_resume_text:t.tailoredResume,template_id:t.templateId,suggestions:t.suggestions,ats_score:t.atsScore,analysis_data:t.analysisData}).select().single();if(n)throw n;return r}catch(a){throw console.error("Error saving analysis:",a),new Error("Failed to save analysis. Please try again.")}}}const Sr=()=>{var B,j;const{profile:s}=Me(),[t,a]=m.useState(null),[r,n]=m.useState(null),[i,o]=m.useState(""),[l,p]=m.useState(""),[c,u]=m.useState([]),[d,x]=m.useState(null),[v,g]=m.useState(!1),[h,f]=m.useState(0),[S,P]=m.useState(""),[y,b]=m.useState(""),{handleError:M}=_e(),{showSuccess:k,showError:z}=ue(),F=!!(s!=null&&s.subscription);m.useEffect(()=>{E()},[]),m.useEffect(()=>{let w=null;if(v){f(0),P("Initializing analysis...");const T=[{progress:15,message:"Extracting resume content..."},{progress:30,message:"Analyzing job requirements..."},{progress:50,message:"Matching skills and keywords..."},{progress:70,message:"Optimizing content for ATS..."},{progress:85,message:"Generating suggestions..."},{progress:95,message:"Finalizing analysis..."}];let U=0;w=setInterval(()=>{f(he=>{if(he>=95)return he;const le=he+Math.random()*8+2;for(;U<T.length&&le>=T[U].progress;)P(T[U].message),U++;return Math.min(le,95)})},400)}return()=>{w&&(clearInterval(w),w=null)}},[v]);const E=async()=>{try{const w=await mt.getTemplates();u(w);const T=w.find(U=>!U.is_premium||F);T&&p(T.id)}catch(w){M(w,"Template Loading")}},_=async(w,T)=>{a(w),n(T),b("")},D=async()=>{if(!(!r||!i.trim()||!l)){g(!0),b(""),f(0),P("Starting analysis...");try{const w=await mt.analyzeResume({resumeText:r.text,jobDescription:i,templateId:l});f(100),P("Analysis complete!");const T=c.find(se=>se.id===l),U={id:Date.now().toString(),user_id:s.id,original_resume_text:r.text,job_description:i,tailored_resume_text:w.tailoredResume,template_id:l,suggestions:w.suggestions,ats_score:w.atsScore,analysis_data:{...w.analysisData,fileMetadata:r.metadata,template:T},created_at:new Date().toISOString()};try{await mt.saveAnalysis({resumeText:r.text,jobDescription:i,templateId:l,tailoredResume:w.tailoredResume,suggestions:w.suggestions,atsScore:w.atsScore,analysisData:w.analysisData})}catch(se){console.warn("Failed to save analysis to database:",se)}x(U),k("Analysis Complete!","Your resume has been successfully optimized.")}catch(w){console.error("Analysis error:",w),b(w.message||"Analysis failed. Please try again."),f(0),P(""),M(w,"Resume Analysis")}finally{g(!1)}}},R=async w=>{if(d)try{const T=c.find(U=>U.id===d.template_id);await br(d.tailored_resume_text||d.original_resume_text,(T==null?void 0:T.template_data)||{},(T==null?void 0:T.category)||"modern",`tailored-resume-${Date.now()}.pdf`)}catch(T){console.error("Download error:",T),M(T,"PDF Download",{fallbackMessage:"Failed to generate PDF. Please try again."})}},q=()=>{d&&k("Preview Feature","Preview functionality will open the formatted resume in a new window.")},L=r&&i.trim()&&l;return e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[e.jsxs("div",{className:"mb-8",children:[e.jsxs("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:["Welcome back, ",s==null?void 0:s.first_name,"!"]}),e.jsx("p",{className:"text-gray-600",children:"Let's create your perfect, ATS-optimized resume tailored for your dream job."}),F&&e.jsx("div",{className:"mt-2",children:e.jsxs("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm font-medium bg-gradient-to-r from-yellow-400 to-orange-500 text-white",children:[e.jsx(oe,{className:"w-4 h-4 mr-1"}),(j=(B=s.subscription)==null?void 0:B.package)==null?void 0:j.name," Plan"]})})]}),y&&e.jsx(I,{className:"mb-6 border-red-200 bg-red-50",children:e.jsxs("div",{className:"flex items-center space-x-2 text-red-700",children:[e.jsx(ee,{className:"w-5 h-5"}),e.jsx("p",{children:y})]})}),d?e.jsxs("div",{className:"max-w-4xl mx-auto",children:[e.jsxs("div",{className:"mb-6 text-center",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Analysis Complete!"}),e.jsx("p",{className:"text-gray-600",children:"Your resume has been optimized and tailored for the job description."})]}),e.jsx(kr,{analysis:d,onDownload:R,onPreview:q}),e.jsx("div",{className:"mt-8 text-center",children:e.jsx(O,{variant:"outline",onClick:()=>{x(null),a(null),n(null),o(""),b(""),f(0),P("")},children:"Start New Analysis"})})]}):e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Step 1: Upload Resume"}),e.jsx(wr,{onFileSelect:_,selectedFile:t,processingResult:r,onClearFile:()=>{a(null),n(null)}})]}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Step 2: Job Description"}),e.jsx(jr,{value:i,onChange:o})]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Step 3: Choose Template"}),e.jsx(Nr,{templates:c,selectedTemplate:l,onTemplateSelect:p,hasActiveSubscription:F})]}),e.jsx(I,{className:"text-center",children:e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"p-3 bg-blue-50 rounded-full w-fit mx-auto",children:e.jsx(we,{className:"w-8 h-8 text-blue-600"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Ready to Analyze?"}),e.jsx("p",{className:"text-gray-600 text-sm mb-4",children:"Our AI will analyze your resume and tailor it specifically for this job opening."}),r&&e.jsx("div",{className:"mb-4 p-3 bg-green-50 rounded-lg",children:e.jsxs("div",{className:"flex items-center justify-center space-x-2 text-sm text-green-800",children:[e.jsx(re,{className:"w-4 h-4"}),e.jsxs("span",{children:["Resume processed: ",r.metadata.wordCount," words extracted"]})]})}),v&&e.jsxs("div",{className:"mb-4 space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-center space-x-2 text-blue-600",children:[e.jsx(sa,{className:"w-5 h-5 animate-pulse"}),e.jsx("span",{className:"text-sm font-medium",children:"AI Analysis in Progress"})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-3",children:e.jsx("div",{className:"bg-gradient-to-r from-blue-500 to-purple-600 h-3 rounded-full transition-all duration-500 relative overflow-hidden",style:{width:`${h}%`},children:e.jsx("div",{className:"absolute inset-0 bg-white opacity-25 animate-pulse"})})}),e.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[e.jsx(Ha,{className:"w-4 h-4 text-gray-500"}),e.jsx("p",{className:"text-xs text-gray-600 font-medium",children:S})]}),e.jsxs("p",{className:"text-xs text-gray-500",children:[Math.round(h),"% complete • Estimated time: ",Math.max(1,Math.ceil((100-h)/20)),"s remaining"]})]}),e.jsx(O,{onClick:D,disabled:!L||v,isLoading:v,className:"w-full flex items-center justify-center space-x-2",size:"lg",children:v?e.jsx("span",{children:"Analyzing with AI..."}):e.jsxs(e.Fragment,{children:[e.jsx(we,{className:"w-5 h-5"}),e.jsx("span",{children:"Analyze & Tailor Resume"}),e.jsx(xt,{className:"w-5 h-5"})]})})]})]})})]})]})]})};function Xe(s){"@babel/helpers - typeof";return Xe=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Xe(s)}function ne(s){if(s===null||s===!0||s===!1)return NaN;var t=Number(s);return isNaN(t)?t:t<0?Math.ceil(t):Math.floor(t)}function H(s,t){if(t.length<s)throw new TypeError(s+" argument"+(s>1?"s":"")+" required, but only "+t.length+" present")}function Z(s){H(1,arguments);var t=Object.prototype.toString.call(s);return s instanceof Date||Xe(s)==="object"&&t==="[object Date]"?new Date(s.getTime()):typeof s=="number"||t==="[object Number]"?new Date(s):((typeof s=="string"||t==="[object String]")&&typeof console<"u"&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn(new Error().stack)),new Date(NaN))}function Pr(s,t){H(2,arguments);var a=Z(s),r=ne(t);if(isNaN(r))return new Date(NaN);if(!r)return a;var n=a.getDate(),i=new Date(a.getTime());i.setMonth(a.getMonth()+r+1,0);var o=i.getDate();return n>=o?i:(a.setFullYear(i.getFullYear(),i.getMonth(),n),a)}function _r(s,t){H(2,arguments);var a=Z(s).getTime(),r=ne(t);return new Date(a+r)}var Cr={};function et(){return Cr}function Dr(s){var t=new Date(Date.UTC(s.getFullYear(),s.getMonth(),s.getDate(),s.getHours(),s.getMinutes(),s.getSeconds(),s.getMilliseconds()));return t.setUTCFullYear(s.getFullYear()),s.getTime()-t.getTime()}function Er(s){return H(1,arguments),s instanceof Date||Xe(s)==="object"&&Object.prototype.toString.call(s)==="[object Date]"}function Tr(s){if(H(1,arguments),!Er(s)&&typeof s!="number")return!1;var t=Z(s);return!isNaN(Number(t))}function $e(s){H(1,arguments);var t=Z(s),a=t.getMonth();return t.setFullYear(t.getFullYear(),a+1,0),t.setHours(23,59,59,999),t}function We(s){H(1,arguments);var t=Z(s);return t.setDate(1),t.setHours(0,0,0,0),t}function Ar(s,t){H(2,arguments);var a=ne(t);return _r(s,-a)}var Or=864e5;function Fr(s){H(1,arguments);var t=Z(s),a=t.getTime();t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0);var r=t.getTime(),n=a-r;return Math.floor(n/Or)+1}function Ke(s){H(1,arguments);var t=1,a=Z(s),r=a.getUTCDay(),n=(r<t?7:0)+r-t;return a.setUTCDate(a.getUTCDate()-n),a.setUTCHours(0,0,0,0),a}function Ca(s){H(1,arguments);var t=Z(s),a=t.getUTCFullYear(),r=new Date(0);r.setUTCFullYear(a+1,0,4),r.setUTCHours(0,0,0,0);var n=Ke(r),i=new Date(0);i.setUTCFullYear(a,0,4),i.setUTCHours(0,0,0,0);var o=Ke(i);return t.getTime()>=n.getTime()?a+1:t.getTime()>=o.getTime()?a:a-1}function Mr(s){H(1,arguments);var t=Ca(s),a=new Date(0);a.setUTCFullYear(t,0,4),a.setUTCHours(0,0,0,0);var r=Ke(a);return r}var zr=6048e5;function Rr(s){H(1,arguments);var t=Z(s),a=Ke(t).getTime()-Mr(t).getTime();return Math.round(a/zr)+1}function Je(s,t){var a,r,n,i,o,l,p,c;H(1,arguments);var u=et(),d=ne((a=(r=(n=(i=t==null?void 0:t.weekStartsOn)!==null&&i!==void 0?i:t==null||(o=t.locale)===null||o===void 0||(l=o.options)===null||l===void 0?void 0:l.weekStartsOn)!==null&&n!==void 0?n:u.weekStartsOn)!==null&&r!==void 0?r:(p=u.locale)===null||p===void 0||(c=p.options)===null||c===void 0?void 0:c.weekStartsOn)!==null&&a!==void 0?a:0);if(!(d>=0&&d<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var x=Z(s),v=x.getUTCDay(),g=(v<d?7:0)+v-d;return x.setUTCDate(x.getUTCDate()-g),x.setUTCHours(0,0,0,0),x}function Da(s,t){var a,r,n,i,o,l,p,c;H(1,arguments);var u=Z(s),d=u.getUTCFullYear(),x=et(),v=ne((a=(r=(n=(i=t==null?void 0:t.firstWeekContainsDate)!==null&&i!==void 0?i:t==null||(o=t.locale)===null||o===void 0||(l=o.options)===null||l===void 0?void 0:l.firstWeekContainsDate)!==null&&n!==void 0?n:x.firstWeekContainsDate)!==null&&r!==void 0?r:(p=x.locale)===null||p===void 0||(c=p.options)===null||c===void 0?void 0:c.firstWeekContainsDate)!==null&&a!==void 0?a:1);if(!(v>=1&&v<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var g=new Date(0);g.setUTCFullYear(d+1,0,v),g.setUTCHours(0,0,0,0);var h=Je(g,t),f=new Date(0);f.setUTCFullYear(d,0,v),f.setUTCHours(0,0,0,0);var S=Je(f,t);return u.getTime()>=h.getTime()?d+1:u.getTime()>=S.getTime()?d:d-1}function Ur(s,t){var a,r,n,i,o,l,p,c;H(1,arguments);var u=et(),d=ne((a=(r=(n=(i=t==null?void 0:t.firstWeekContainsDate)!==null&&i!==void 0?i:t==null||(o=t.locale)===null||o===void 0||(l=o.options)===null||l===void 0?void 0:l.firstWeekContainsDate)!==null&&n!==void 0?n:u.firstWeekContainsDate)!==null&&r!==void 0?r:(p=u.locale)===null||p===void 0||(c=p.options)===null||c===void 0?void 0:c.firstWeekContainsDate)!==null&&a!==void 0?a:1),x=Da(s,t),v=new Date(0);v.setUTCFullYear(x,0,d),v.setUTCHours(0,0,0,0);var g=Je(v,t);return g}var Ir=6048e5;function Lr(s,t){H(1,arguments);var a=Z(s),r=Je(a,t).getTime()-Ur(a,t).getTime();return Math.round(r/Ir)+1}function $(s,t){for(var a=s<0?"-":"",r=Math.abs(s).toString();r.length<t;)r="0"+r;return a+r}var ie={y:function(t,a){var r=t.getUTCFullYear(),n=r>0?r:1-r;return $(a==="yy"?n%100:n,a.length)},M:function(t,a){var r=t.getUTCMonth();return a==="M"?String(r+1):$(r+1,2)},d:function(t,a){return $(t.getUTCDate(),a.length)},a:function(t,a){var r=t.getUTCHours()/12>=1?"pm":"am";switch(a){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h:function(t,a){return $(t.getUTCHours()%12||12,a.length)},H:function(t,a){return $(t.getUTCHours(),a.length)},m:function(t,a){return $(t.getUTCMinutes(),a.length)},s:function(t,a){return $(t.getUTCSeconds(),a.length)},S:function(t,a){var r=a.length,n=t.getUTCMilliseconds(),i=Math.floor(n*Math.pow(10,r-3));return $(i,a.length)}},be={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},qr={G:function(t,a,r){var n=t.getUTCFullYear()>0?1:0;switch(a){case"G":case"GG":case"GGG":return r.era(n,{width:"abbreviated"});case"GGGGG":return r.era(n,{width:"narrow"});case"GGGG":default:return r.era(n,{width:"wide"})}},y:function(t,a,r){if(a==="yo"){var n=t.getUTCFullYear(),i=n>0?n:1-n;return r.ordinalNumber(i,{unit:"year"})}return ie.y(t,a)},Y:function(t,a,r,n){var i=Da(t,n),o=i>0?i:1-i;if(a==="YY"){var l=o%100;return $(l,2)}return a==="Yo"?r.ordinalNumber(o,{unit:"year"}):$(o,a.length)},R:function(t,a){var r=Ca(t);return $(r,a.length)},u:function(t,a){var r=t.getUTCFullYear();return $(r,a.length)},Q:function(t,a,r){var n=Math.ceil((t.getUTCMonth()+1)/3);switch(a){case"Q":return String(n);case"QQ":return $(n,2);case"Qo":return r.ordinalNumber(n,{unit:"quarter"});case"QQQ":return r.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(n,{width:"wide",context:"formatting"})}},q:function(t,a,r){var n=Math.ceil((t.getUTCMonth()+1)/3);switch(a){case"q":return String(n);case"qq":return $(n,2);case"qo":return r.ordinalNumber(n,{unit:"quarter"});case"qqq":return r.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(n,{width:"wide",context:"standalone"})}},M:function(t,a,r){var n=t.getUTCMonth();switch(a){case"M":case"MM":return ie.M(t,a);case"Mo":return r.ordinalNumber(n+1,{unit:"month"});case"MMM":return r.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(n,{width:"wide",context:"formatting"})}},L:function(t,a,r){var n=t.getUTCMonth();switch(a){case"L":return String(n+1);case"LL":return $(n+1,2);case"Lo":return r.ordinalNumber(n+1,{unit:"month"});case"LLL":return r.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(n,{width:"wide",context:"standalone"})}},w:function(t,a,r,n){var i=Lr(t,n);return a==="wo"?r.ordinalNumber(i,{unit:"week"}):$(i,a.length)},I:function(t,a,r){var n=Rr(t);return a==="Io"?r.ordinalNumber(n,{unit:"week"}):$(n,a.length)},d:function(t,a,r){return a==="do"?r.ordinalNumber(t.getUTCDate(),{unit:"date"}):ie.d(t,a)},D:function(t,a,r){var n=Fr(t);return a==="Do"?r.ordinalNumber(n,{unit:"dayOfYear"}):$(n,a.length)},E:function(t,a,r){var n=t.getUTCDay();switch(a){case"E":case"EE":case"EEE":return r.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(n,{width:"short",context:"formatting"});case"EEEE":default:return r.day(n,{width:"wide",context:"formatting"})}},e:function(t,a,r,n){var i=t.getUTCDay(),o=(i-n.weekStartsOn+8)%7||7;switch(a){case"e":return String(o);case"ee":return $(o,2);case"eo":return r.ordinalNumber(o,{unit:"day"});case"eee":return r.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(i,{width:"short",context:"formatting"});case"eeee":default:return r.day(i,{width:"wide",context:"formatting"})}},c:function(t,a,r,n){var i=t.getUTCDay(),o=(i-n.weekStartsOn+8)%7||7;switch(a){case"c":return String(o);case"cc":return $(o,a.length);case"co":return r.ordinalNumber(o,{unit:"day"});case"ccc":return r.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(i,{width:"narrow",context:"standalone"});case"cccccc":return r.day(i,{width:"short",context:"standalone"});case"cccc":default:return r.day(i,{width:"wide",context:"standalone"})}},i:function(t,a,r){var n=t.getUTCDay(),i=n===0?7:n;switch(a){case"i":return String(i);case"ii":return $(i,a.length);case"io":return r.ordinalNumber(i,{unit:"day"});case"iii":return r.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(n,{width:"short",context:"formatting"});case"iiii":default:return r.day(n,{width:"wide",context:"formatting"})}},a:function(t,a,r){var n=t.getUTCHours(),i=n/12>=1?"pm":"am";switch(a){case"a":case"aa":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(t,a,r){var n=t.getUTCHours(),i;switch(n===12?i=be.noon:n===0?i=be.midnight:i=n/12>=1?"pm":"am",a){case"b":case"bb":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(t,a,r){var n=t.getUTCHours(),i;switch(n>=17?i=be.evening:n>=12?i=be.afternoon:n>=4?i=be.morning:i=be.night,a){case"B":case"BB":case"BBB":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(t,a,r){if(a==="ho"){var n=t.getUTCHours()%12;return n===0&&(n=12),r.ordinalNumber(n,{unit:"hour"})}return ie.h(t,a)},H:function(t,a,r){return a==="Ho"?r.ordinalNumber(t.getUTCHours(),{unit:"hour"}):ie.H(t,a)},K:function(t,a,r){var n=t.getUTCHours()%12;return a==="Ko"?r.ordinalNumber(n,{unit:"hour"}):$(n,a.length)},k:function(t,a,r){var n=t.getUTCHours();return n===0&&(n=24),a==="ko"?r.ordinalNumber(n,{unit:"hour"}):$(n,a.length)},m:function(t,a,r){return a==="mo"?r.ordinalNumber(t.getUTCMinutes(),{unit:"minute"}):ie.m(t,a)},s:function(t,a,r){return a==="so"?r.ordinalNumber(t.getUTCSeconds(),{unit:"second"}):ie.s(t,a)},S:function(t,a){return ie.S(t,a)},X:function(t,a,r,n){var i=n._originalDate||t,o=i.getTimezoneOffset();if(o===0)return"Z";switch(a){case"X":return Xt(o);case"XXXX":case"XX":return de(o);case"XXXXX":case"XXX":default:return de(o,":")}},x:function(t,a,r,n){var i=n._originalDate||t,o=i.getTimezoneOffset();switch(a){case"x":return Xt(o);case"xxxx":case"xx":return de(o);case"xxxxx":case"xxx":default:return de(o,":")}},O:function(t,a,r,n){var i=n._originalDate||t,o=i.getTimezoneOffset();switch(a){case"O":case"OO":case"OOO":return"GMT"+Vt(o,":");case"OOOO":default:return"GMT"+de(o,":")}},z:function(t,a,r,n){var i=n._originalDate||t,o=i.getTimezoneOffset();switch(a){case"z":case"zz":case"zzz":return"GMT"+Vt(o,":");case"zzzz":default:return"GMT"+de(o,":")}},t:function(t,a,r,n){var i=n._originalDate||t,o=Math.floor(i.getTime()/1e3);return $(o,a.length)},T:function(t,a,r,n){var i=n._originalDate||t,o=i.getTime();return $(o,a.length)}};function Vt(s,t){var a=s>0?"-":"+",r=Math.abs(s),n=Math.floor(r/60),i=r%60;if(i===0)return a+String(n);var o=t;return a+String(n)+o+$(i,2)}function Xt(s,t){if(s%60===0){var a=s>0?"-":"+";return a+$(Math.abs(s)/60,2)}return de(s,t)}function de(s,t){var a=t||"",r=s>0?"-":"+",n=Math.abs(s),i=$(Math.floor(n/60),2),o=$(n%60,2);return r+i+a+o}var Kt=function(t,a){switch(t){case"P":return a.date({width:"short"});case"PP":return a.date({width:"medium"});case"PPP":return a.date({width:"long"});case"PPPP":default:return a.date({width:"full"})}},Ea=function(t,a){switch(t){case"p":return a.time({width:"short"});case"pp":return a.time({width:"medium"});case"ppp":return a.time({width:"long"});case"pppp":default:return a.time({width:"full"})}},$r=function(t,a){var r=t.match(/(P+)(p+)?/)||[],n=r[1],i=r[2];if(!i)return Kt(t,a);var o;switch(n){case"P":o=a.dateTime({width:"short"});break;case"PP":o=a.dateTime({width:"medium"});break;case"PPP":o=a.dateTime({width:"long"});break;case"PPPP":default:o=a.dateTime({width:"full"});break}return o.replace("{{date}}",Kt(n,a)).replace("{{time}}",Ea(i,a))},Wr={p:Ea,P:$r},Yr=["D","DD"],Br=["YY","YYYY"];function Gr(s){return Yr.indexOf(s)!==-1}function Hr(s){return Br.indexOf(s)!==-1}function Jt(s,t,a){if(s==="YYYY")throw new RangeError("Use `yyyy` instead of `YYYY` (in `".concat(t,"`) for formatting years to the input `").concat(a,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(s==="YY")throw new RangeError("Use `yy` instead of `YY` (in `".concat(t,"`) for formatting years to the input `").concat(a,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(s==="D")throw new RangeError("Use `d` instead of `D` (in `".concat(t,"`) for formatting days of the month to the input `").concat(a,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(s==="DD")throw new RangeError("Use `dd` instead of `DD` (in `".concat(t,"`) for formatting days of the month to the input `").concat(a,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"))}var Vr={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},Xr=function(t,a,r){var n,i=Vr[t];return typeof i=="string"?n=i:a===1?n=i.one:n=i.other.replace("{{count}}",a.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+n:n+" ago":n};function ut(s){return function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},a=t.width?String(t.width):s.defaultWidth,r=s.formats[a]||s.formats[s.defaultWidth];return r}}var Kr={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},Jr={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},Qr={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Zr={date:ut({formats:Kr,defaultWidth:"full"}),time:ut({formats:Jr,defaultWidth:"full"}),dateTime:ut({formats:Qr,defaultWidth:"full"})},en={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},tn=function(t,a,r,n){return en[t]};function De(s){return function(t,a){var r=a!=null&&a.context?String(a.context):"standalone",n;if(r==="formatting"&&s.formattingValues){var i=s.defaultFormattingWidth||s.defaultWidth,o=a!=null&&a.width?String(a.width):i;n=s.formattingValues[o]||s.formattingValues[i]}else{var l=s.defaultWidth,p=a!=null&&a.width?String(a.width):s.defaultWidth;n=s.values[p]||s.values[l]}var c=s.argumentCallback?s.argumentCallback(t):t;return n[c]}}var an={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},sn={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},rn={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},nn={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},on={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},ln={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},cn=function(t,a){var r=Number(t),n=r%100;if(n>20||n<10)switch(n%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},dn={ordinalNumber:cn,era:De({values:an,defaultWidth:"wide"}),quarter:De({values:sn,defaultWidth:"wide",argumentCallback:function(t){return t-1}}),month:De({values:rn,defaultWidth:"wide"}),day:De({values:nn,defaultWidth:"wide"}),dayPeriod:De({values:on,defaultWidth:"wide",formattingValues:ln,defaultFormattingWidth:"wide"})};function Ee(s){return function(t){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=a.width,n=r&&s.matchPatterns[r]||s.matchPatterns[s.defaultMatchWidth],i=t.match(n);if(!i)return null;var o=i[0],l=r&&s.parsePatterns[r]||s.parsePatterns[s.defaultParseWidth],p=Array.isArray(l)?mn(l,function(d){return d.test(o)}):pn(l,function(d){return d.test(o)}),c;c=s.valueCallback?s.valueCallback(p):p,c=a.valueCallback?a.valueCallback(c):c;var u=t.slice(o.length);return{value:c,rest:u}}}function pn(s,t){for(var a in s)if(s.hasOwnProperty(a)&&t(s[a]))return a}function mn(s,t){for(var a=0;a<s.length;a++)if(t(s[a]))return a}function un(s){return function(t){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=t.match(s.matchPattern);if(!r)return null;var n=r[0],i=t.match(s.parsePattern);if(!i)return null;var o=s.valueCallback?s.valueCallback(i[0]):i[0];o=a.valueCallback?a.valueCallback(o):o;var l=t.slice(n.length);return{value:o,rest:l}}}var xn=/^(\d+)(th|st|nd|rd)?/i,hn=/\d+/i,fn={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},gn={any:[/^b/i,/^(a|c)/i]},vn={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},yn={any:[/1/i,/2/i,/3/i,/4/i]},bn={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},wn={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},jn={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},Nn={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},kn={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},Sn={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},Pn={ordinalNumber:un({matchPattern:xn,parsePattern:hn,valueCallback:function(t){return parseInt(t,10)}}),era:Ee({matchPatterns:fn,defaultMatchWidth:"wide",parsePatterns:gn,defaultParseWidth:"any"}),quarter:Ee({matchPatterns:vn,defaultMatchWidth:"wide",parsePatterns:yn,defaultParseWidth:"any",valueCallback:function(t){return t+1}}),month:Ee({matchPatterns:bn,defaultMatchWidth:"wide",parsePatterns:wn,defaultParseWidth:"any"}),day:Ee({matchPatterns:jn,defaultMatchWidth:"wide",parsePatterns:Nn,defaultParseWidth:"any"}),dayPeriod:Ee({matchPatterns:kn,defaultMatchWidth:"any",parsePatterns:Sn,defaultParseWidth:"any"})},_n={code:"en-US",formatDistance:Xr,formatLong:Zr,formatRelative:tn,localize:dn,match:Pn,options:{weekStartsOn:0,firstWeekContainsDate:1}},Cn=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Dn=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,En=/^'([^]*?)'?$/,Tn=/''/g,An=/[a-zA-Z]/;function X(s,t,a){var r,n,i,o,l,p,c,u,d,x,v,g,h,f;H(2,arguments);var S=String(t),P=et(),y=(r=(n=void 0)!==null&&n!==void 0?n:P.locale)!==null&&r!==void 0?r:_n,b=ne((i=(o=(l=(p=void 0)!==null&&p!==void 0?p:void 0)!==null&&l!==void 0?l:P.firstWeekContainsDate)!==null&&o!==void 0?o:(c=P.locale)===null||c===void 0||(u=c.options)===null||u===void 0?void 0:u.firstWeekContainsDate)!==null&&i!==void 0?i:1);if(!(b>=1&&b<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var M=ne((d=(x=(v=(g=void 0)!==null&&g!==void 0?g:void 0)!==null&&v!==void 0?v:P.weekStartsOn)!==null&&x!==void 0?x:(h=P.locale)===null||h===void 0||(f=h.options)===null||f===void 0?void 0:f.weekStartsOn)!==null&&d!==void 0?d:0);if(!(M>=0&&M<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!y.localize)throw new RangeError("locale must contain localize property");if(!y.formatLong)throw new RangeError("locale must contain formatLong property");var k=Z(s);if(!Tr(k))throw new RangeError("Invalid time value");var z=Dr(k),F=Ar(k,z),E={firstWeekContainsDate:b,weekStartsOn:M,locale:y,_originalDate:k},_=S.match(Dn).map(function(D){var R=D[0];if(R==="p"||R==="P"){var q=Wr[R];return q(D,y.formatLong)}return D}).join("").match(Cn).map(function(D){if(D==="''")return"'";var R=D[0];if(R==="'")return On(D);var q=qr[R];if(q)return Hr(D)&&Jt(D,t,String(s)),Gr(D)&&Jt(D,t,String(s)),q(F,D,y.localize,E);if(R.match(An))throw new RangeError("Format string contains an unescaped latin alphabet character `"+R+"`");return D}).join("");return _}function On(s){var t=s.match(En);return t?t[1].replace(Tn,"'"):s}function Qt(s,t){H(2,arguments);var a=ne(t);return Pr(s,-a)}class K{static async getDashboardStats(){const t=new Date,a=Qt(t,1),r=We(t),n=$e(t),i=We(a),o=$e(a);try{const[l,p,c,u,d,x,v,g]=await Promise.all([this.getUserCount(r,n),this.getActiveSubscriptionCount(),this.getMonthlyRevenue(r,n),this.getAnalysisCount(r,n),this.getUserCount(i,o),this.getActiveSubscriptionCount(o),this.getMonthlyRevenue(i,o),this.getAnalysisCount(i,o)]),h=this.calculateGrowth(l.total,d.total),f=this.calculateGrowth(p,x),S=this.calculateGrowth(c,v),P=this.calculateGrowth(u,g);return{totalUsers:l.total,activeSubscriptions:p,monthlyRevenue:c,totalAnalyses:u,userGrowth:h,subscriptionGrowth:f,revenueGrowth:S,analysisGrowth:P}}catch(l){throw console.error("Error fetching dashboard stats:",l),l}}static async getUsageStats(){const t=new Date,a=We(t),r=$e(t);try{const[n,i,o,l]=await Promise.all([this.getUsageData("resume_upload",a,r),this.getUsageData("analysis",a,r),this.getUsageData("template_usage",a,r),this.getUsageData("pdf_download",a,r)]);return{resumeUploads:n,aiAnalyses:i,templateUsage:o,pdfDownloads:l}}catch(n){throw console.error("Error fetching usage stats:",n),n}}static async getRevenueChart(t=6){const a=[];for(let r=t-1;r>=0;r--){const n=Qt(new Date,r),i=We(n),o=$e(n),[l,p]=await Promise.all([this.getMonthlyRevenue(i,o),this.getNewSubscriptions(i,o)]);a.push({month:X(n,"MMM yyyy"),revenue:l,subscriptions:p})}return a}static async getUserActivity(t=30){const a=[];for(let r=t-1;r>=0;r--){const n=new Date;n.setDate(n.getDate()-r);const i=new Date(n.setHours(0,0,0,0)),o=new Date(n.setHours(23,59,59,999)),[l,p,c]=await Promise.all([this.getDailyNewUsers(i,o),this.getDailyActiveUsers(i,o),this.getAnalysisCount(i,o)]);a.push({date:X(i,"MMM dd"),newUsers:l,activeUsers:p,analyses:c})}return a}static async getUsers(t=1,a=10,r={}){const n=(t-1)*a;try{let i=C.from("profiles").select(`
          *,
          subscriptions(
            *,
            package:packages(name, price)
          ),
          resume_analyses(count)
        `,{count:"exact"});if(r.searchTerm&&r.searchTerm.trim()){const g=r.searchTerm.trim();i=i.or(`first_name.ilike.%${g}%,last_name.ilike.%${g}%,email.ilike.%${g}%`)}r.userRole&&r.userRole!=="all"&&(r.userRole==="admin"?i=i.eq("is_admin",!0):i=i.eq("is_admin",!1)),r.dateRange&&(i=i.gte("created_at",r.dateRange.start).lte("created_at",r.dateRange.end));const o=r.sortBy||"created_at",l=r.sortOrder||"desc";o==="name"?i=i.order("first_name",{ascending:l==="asc"}):i=i.order(o,{ascending:l==="asc"});const{count:p}=await i,{data:c,error:u,count:d}=await i.range(n,n+a-1);if(u)throw u;const x=(c==null?void 0:c.map(g=>{var S,P,y,b;const h=(S=g.subscriptions)==null?void 0:S.find(M=>M.status==="active"),f=((P=g.resume_analyses)==null?void 0:P.length)||0;return{...g,subscription_status:h?"active":"inactive",subscription_package:((y=h==null?void 0:h.package)==null?void 0:y.name)||"Free",subscription_price:((b=h==null?void 0:h.package)==null?void 0:b.price)||0,total_analyses:f,last_login:g.updated_at}}))||[];let v=x;return r.subscriptionStatus&&r.subscriptionStatus!=="all"&&(v=x.filter(g=>{var h;switch(r.subscriptionStatus){case"active":return g.subscription_status==="active";case"inactive":return g.subscription_status==="inactive";case"cancelled":return(h=g.subscriptions)==null?void 0:h.some(f=>f.status==="cancelled");default:return!0}})),{users:v,total:d||0,pages:Math.ceil((d||0)/a),filteredCount:p||0}}catch(i){throw console.error("Error fetching users:",i),i}}static async searchUsers(t,a=20){try{const{data:r,error:n}=await C.from("profiles").select(`
          *,
          subscriptions(
            *,
            package:packages(name)
          )
        `).or(`first_name.ilike.%${t}%,last_name.ilike.%${t}%,email.ilike.%${t}%`).limit(a);if(n)throw n;return r||[]}catch(r){throw console.error("Error searching users:",r),r}}static async exportUsers(t={}){try{let a=C.from("profiles").select(`
          *,
          subscriptions(
            *,
            package:packages(name, price)
          ),
          resume_analyses(count)
        `);if(t.searchTerm&&t.searchTerm.trim()){const o=t.searchTerm.trim();a=a.or(`first_name.ilike.%${o}%,last_name.ilike.%${o}%,email.ilike.%${o}%`)}t.userRole&&t.userRole!=="all"&&(t.userRole==="admin"?a=a.eq("is_admin",!0):a=a.eq("is_admin",!1)),t.dateRange&&(a=a.gte("created_at",t.dateRange.start).lte("created_at",t.dateRange.end));const{data:r,error:n}=await a.order("created_at",{ascending:!1});if(n)throw n;const i=(r||[]).map(o=>{var c,u,d;const l=(c=o.subscriptions)==null?void 0:c.find(x=>x.status==="active"),p=((u=o.resume_analyses)==null?void 0:u.length)||0;return{id:o.id,first_name:o.first_name,last_name:o.last_name,email:o.email||"",is_admin:o.is_admin,subscription_status:l?"active":"inactive",subscription_package:((d=l==null?void 0:l.package)==null?void 0:d.name)||"Free",subscription_start_date:(l==null?void 0:l.start_date)||"",subscription_end_date:(l==null?void 0:l.end_date)||"",total_analyses:p,last_login:o.updated_at,created_at:o.created_at,updated_at:o.updated_at}});return t.subscriptionStatus&&t.subscriptionStatus!=="all"?i.filter(o=>{switch(t.subscriptionStatus){case"active":return o.subscription_status==="active";case"inactive":return o.subscription_status==="inactive";case"cancelled":return!1;default:return!0}}):i}catch(a){throw console.error("Error exporting users:",a),a}}static generateCSV(t){return t.length===0?"No data to export":[["User ID","First Name","Last Name","Email","Is Admin","Subscription Status","Subscription Package","Subscription Start Date","Subscription End Date","Total Analyses","Last Login","Created At","Updated At"].join(","),...t.map(n=>[n.id,`"${n.first_name}"`,`"${n.last_name}"`,`"${n.email}"`,n.is_admin?"Yes":"No",n.subscription_status,`"${n.subscription_package}"`,n.subscription_start_date?X(new Date(n.subscription_start_date),"yyyy-MM-dd"):"",n.subscription_end_date?X(new Date(n.subscription_end_date),"yyyy-MM-dd"):"",n.total_analyses,n.last_login?X(new Date(n.last_login),"yyyy-MM-dd HH:mm:ss"):"",X(new Date(n.created_at),"yyyy-MM-dd HH:mm:ss"),X(new Date(n.updated_at),"yyyy-MM-dd HH:mm:ss")].join(","))].join(`
`)}static async getUserDetails(t){try{const{data:a,error:r}=await C.from("profiles").select(`
          *,
          subscriptions(
            *,
            package:packages(*)
          ),
          resume_analyses(
            id,
            ats_score,
            created_at,
            resume_templates(name)
          ),
          payment_transactions(
            id,
            amount,
            status,
            created_at
          )
        `).eq("id",t).single();if(r)throw r;return a}catch(a){throw console.error("Error fetching user details:",a),a}}static async updateUserStatus(t,a){try{const{error:r}=await C.from("profiles").update({is_admin:a}).eq("id",t);if(r)throw r}catch(r){throw console.error("Error updating user status:",r),r}}static async deleteUser(t){try{const{error:a}=await C.from("profiles").delete().eq("id",t);if(a)throw a}catch(a){throw console.error("Error deleting user:",a),a}}static async getUserCount(t,a){const{count:r}=await C.from("profiles").select("*",{count:"exact",head:!0}),{count:n}=await C.from("profiles").select("*",{count:"exact",head:!0}).gte("created_at",t.toISOString()).lte("created_at",a.toISOString());return{total:r||0,new:n||0}}static async getActiveSubscriptionCount(t){let a=C.from("subscriptions").select("*",{count:"exact",head:!0}).eq("status","active");t&&(a=a.lte("created_at",t.toISOString()));const{count:r}=await a;return r||0}static async getMonthlyRevenue(t,a){const{data:r}=await C.from("payment_transactions").select("amount").eq("status","completed").gte("created_at",t.toISOString()).lte("created_at",a.toISOString());return(r==null?void 0:r.reduce((n,i)=>n+Number(i.amount),0))||0}static async getAnalysisCount(t,a){const{count:r}=await C.from("resume_analyses").select("*",{count:"exact",head:!0}).gte("created_at",t.toISOString()).lte("created_at",a.toISOString());return r||0}static async getUsageData(t,a,r){const n=X(a,"yyyy-MM"),{data:i}=await C.from("usage_tracking").select("count").eq("action_type",t).eq("month_year",n),o=(i==null?void 0:i.reduce((u,d)=>u+d.count,0))||0,{data:l}=await C.from("usage_tracking").select("count").eq("action_type",t),p=(l==null?void 0:l.reduce((u,d)=>u+d.count,0))||0,c=p>0?Math.round(o/p*100):0;return{current:o,total:p,percentage:c}}static async getNewSubscriptions(t,a){const{count:r}=await C.from("subscriptions").select("*",{count:"exact",head:!0}).gte("created_at",t.toISOString()).lte("created_at",a.toISOString());return r||0}static async getDailyNewUsers(t,a){const{count:r}=await C.from("profiles").select("*",{count:"exact",head:!0}).gte("created_at",t.toISOString()).lte("created_at",a.toISOString());return r||0}static async getDailyActiveUsers(t,a){const{data:r}=await C.from("resume_analyses").select("user_id").gte("created_at",t.toISOString()).lte("created_at",a.toISOString());return new Set((r==null?void 0:r.map(i=>i.user_id))||[]).size}static calculateGrowth(t,a){return a===0?t>0?100:0:Math.round((t-a)/a*100)}static async getPackages(){const{data:t,error:a}=await C.from("packages").select("*").order("price");if(a)throw a;return t}static async createPackage(t){try{const{data:a,error:r}=await C.from("packages").insert(t).select().single();if(r)throw r.code==="23505"&&r.message.includes("packages_name_key")?new Error(`A package with the name "${t.name}" already exists. Please choose a different name.`):r;return a}catch(a){throw console.error("Error creating package:",a),a}}static async updatePackage(t,a){try{const{data:r,error:n}=await C.from("packages").update(a).eq("id",t).select().single();if(n)throw n.code==="23505"&&n.message.includes("packages_name_key")?new Error(`A package with the name "${a.name}" already exists. Please choose a different name.`):n;return r}catch(r){throw console.error("Error updating package:",r),r}}static async deletePackage(t){const{error:a}=await C.from("packages").delete().eq("id",t);if(a)throw a}static async getRecentSubscriptions(t=10){const{data:a,error:r}=await C.from("subscriptions").select(`
        *,
        profiles(first_name, last_name),
        package:packages(name)
      `).order("created_at",{ascending:!1}).limit(t);if(r)throw r;return a}static async getRecentTransactions(t=10){const{data:a,error:r}=await C.from("payment_transactions").select(`
        *,
        profiles(first_name, last_name)
      `).order("created_at",{ascending:!1}).limit(t);if(r)throw r;return a}static async getTopTemplates(t=5){const{data:a,error:r}=await C.from("resume_analyses").select(`
        template_id,
        resume_templates(name, category),
        count:template_id
      `).not("template_id","is",null).limit(t);if(r)throw r;const n=a==null?void 0:a.reduce((i,o)=>{const l=o.template_id;return i[l]||(i[l]={template:o.resume_templates,count:0}),i[l].count++,i},{});return Object.values(n||{}).sort((i,o)=>o.count-i.count).slice(0,t)}}const Fn=()=>{const[s,t]=m.useState([]),[a,r]=m.useState(!0),[n,i]=m.useState(!1),[o,l]=m.useState(null),[p,c]=m.useState("");m.useEffect(()=>{u()},[]);const u=async()=>{try{const h=await K.getPackages();t(h)}catch(h){console.error("Error loading packages:",h)}finally{r(!1)}},d=async h=>{var f;try{c(""),await K.createPackage(h),await u(),i(!1)}catch(S){console.error("Error creating package:",S),(f=S.message)!=null&&f.includes("already exists")?c(S.message):c("Failed to create package. Please try again.")}},x=async(h,f)=>{var S;try{c(""),await K.updatePackage(h,f),await u(),l(null)}catch(P){console.error("Error updating package:",P),(S=P.message)!=null&&S.includes("already exists")?c(P.message):c("Failed to update package. Please try again.")}},v=async h=>{if(confirm("Are you sure you want to delete this package?"))try{await K.deletePackage(h),await u()}catch(f){console.error("Error deleting package:",f)}},g=()=>{c("")};return a?e.jsx("div",{className:"animate-pulse",children:"Loading packages..."}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Subscription Packages"}),e.jsxs(O,{onClick:()=>{i(!0),c("")},children:[e.jsx(ft,{className:"w-4 h-4 mr-2"}),"Create New Package"]})]}),n&&e.jsx(Zt,{onSubmit:d,onCancel:()=>{i(!1),c("")},formError:p,onClearError:g}),o&&e.jsx(Zt,{package:o,onSubmit:h=>x(o.id,h),onCancel:()=>{l(null),c("")},formError:p,onClearError:g}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:s.map(h=>e.jsx(I,{hover:!0,children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900 flex items-center space-x-2",children:[e.jsx("span",{children:h.name}),h.price>0&&e.jsx(oe,{className:"w-4 h-4 text-yellow-500"})]}),e.jsx("p",{className:"text-gray-600 mt-1",children:h.description})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("div",{className:"text-2xl font-bold text-blue-600",children:["$",h.price]}),e.jsx("div",{className:"text-sm text-gray-500",children:"per month"})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Features:"}),e.jsx("ul",{className:"space-y-1",children:h.features.map((f,S)=>e.jsxs("li",{className:"text-sm text-gray-700 flex items-center space-x-2",children:[e.jsx(Oe,{className:"w-3 h-3 text-green-500 flex-shrink-0"}),e.jsx("span",{children:f})]},S))})]}),e.jsxs("div",{className:"pt-4 border-t border-gray-200",children:[e.jsxs("div",{className:"flex justify-between text-sm mb-1",children:[e.jsx("span",{className:"text-gray-600",children:"Template Access:"}),e.jsx("span",{className:"font-medium",children:h.template_access===-1?"All Templates":`${h.template_access} Templates`})]}),e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-gray-600",children:"Monthly Analyses:"}),e.jsx("span",{className:"font-medium",children:h.analysis_limit===-1?"Unlimited":h.analysis_limit})]})]}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsxs(O,{variant:"outline",size:"sm",className:"flex-1",onClick:()=>{l(h),c("")},children:[e.jsx(na,{className:"w-4 h-4 mr-1"}),"Edit"]}),e.jsx(O,{variant:"ghost",size:"sm",onClick:()=>v(h.id),children:e.jsx(ia,{className:"w-4 h-4"})})]})]})},h.id))})]})},Zt=({package:s,onSubmit:t,onCancel:a,formError:r,onClearError:n})=>{const[i,o]=m.useState({name:(s==null?void 0:s.name)||"",description:(s==null?void 0:s.description)||"",price:(s==null?void 0:s.price)||0,template_access:(s==null?void 0:s.template_access)||1,analysis_limit:(s==null?void 0:s.analysis_limit)||5,features:(s==null?void 0:s.features)||[""]}),l=d=>{d.preventDefault(),t({...i,features:i.features.filter(x=>x.trim())})},p=()=>{o(d=>({...d,features:[...d.features,""]}))},c=d=>{o(x=>({...x,features:x.features.filter((v,g)=>g!==d)}))},u=(d,x)=>{o(v=>({...v,features:v.features.map((g,h)=>h===d?x:g)}))};return e.jsxs(I,{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:s?"Edit Package":"Create New Package"}),r&&e.jsx("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 rounded-lg",children:e.jsxs("div",{className:"flex items-start space-x-2",children:[e.jsx(ee,{className:"w-5 h-5 text-red-600 mt-0.5 flex-shrink-0"}),e.jsx("div",{className:"flex-1",children:e.jsx("p",{className:"text-red-700 text-sm",children:r})}),e.jsx("button",{type:"button",onClick:n,className:"text-red-400 hover:text-red-600",children:e.jsx(ae,{className:"w-4 h-4"})})]})}),e.jsxs("form",{onSubmit:l,className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsx(J,{label:"Package Name",value:i.name,onChange:d=>{o(x=>({...x,name:d.target.value})),r&&n()},required:!0}),e.jsx(J,{label:"Price (USD)",type:"number",step:"0.01",value:i.price,onChange:d=>o(x=>({...x,price:parseFloat(d.target.value)})),required:!0})]}),e.jsx(J,{label:"Description",value:i.description,onChange:d=>o(x=>({...x,description:d.target.value})),required:!0}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsx(J,{label:"Template Access (-1 for unlimited)",type:"number",value:i.template_access,onChange:d=>o(x=>({...x,template_access:parseInt(d.target.value)})),required:!0}),e.jsx(J,{label:"Analysis Limit (-1 for unlimited)",type:"number",value:i.analysis_limit,onChange:d=>o(x=>({...x,analysis_limit:parseInt(d.target.value)})),required:!0})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Package Features"}),e.jsxs(O,{type:"button",variant:"outline",size:"sm",onClick:p,children:[e.jsx(ft,{className:"w-4 h-4 mr-1"}),"Add Feature"]})]}),e.jsx("div",{className:"space-y-2",children:i.features.map((d,x)=>e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"flex-1",children:e.jsx("input",{type:"text",value:d,onChange:v=>u(x,v.target.value),placeholder:`Feature ${x+1}`,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})}),i.features.length>1&&e.jsx(O,{type:"button",variant:"ghost",size:"sm",onClick:()=>c(x),className:"text-red-600 hover:text-red-700 hover:bg-red-50",children:e.jsx(ae,{className:"w-4 h-4"})})]},x))}),i.features.length===0&&e.jsxs("div",{className:"text-center py-4 border-2 border-dashed border-gray-300 rounded-lg",children:[e.jsx("p",{className:"text-gray-500 text-sm",children:"No features added yet"}),e.jsxs(O,{type:"button",variant:"outline",size:"sm",onClick:p,className:"mt-2",children:[e.jsx(ft,{className:"w-4 h-4 mr-1"}),"Add First Feature"]})]})]}),i.features.some(d=>d.trim())&&e.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[e.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-2",children:"Feature Preview:"}),e.jsx("ul",{className:"space-y-1",children:i.features.filter(d=>d.trim()).map((d,x)=>e.jsxs("li",{className:"text-sm text-gray-600 flex items-center space-x-2",children:[e.jsx(Oe,{className:"w-3 h-3 text-green-500"}),e.jsx("span",{children:d})]},x))})]}),e.jsxs("div",{className:"flex space-x-3 pt-4",children:[e.jsx(O,{type:"submit",className:"flex-1",children:s?"Update Package":"Create Package"}),e.jsx(O,{type:"button",variant:"outline",onClick:a,children:"Cancel"})]})]})]})},Mn=()=>{const[s,t]=m.useState([]),[a,r]=m.useState(!0),[n,i]=m.useState(!1),[o,l]=m.useState(1),[p,c]=m.useState(1),[u,d]=m.useState(0),[x,v]=m.useState(0),[g,h]=m.useState(!1),[f,S]=m.useState(null),[P,y]=m.useState(!1),[b,M]=m.useState({searchTerm:"",subscriptionStatus:"all",userRole:"all",sortBy:"created_at",sortOrder:"desc"}),[k,z]=m.useState(b);m.useEffect(()=>{F()},[o,b]);const F=async()=>{try{r(!0);const{users:j,pages:w,total:T,filteredCount:U}=await K.getUsers(o,10,b);t(j),c(w),d(T),v(U)}catch(j){console.error("Error loading users:",j)}finally{r(!1)}},E=j=>{M(w=>({...w,searchTerm:j})),l(1)},_=()=>{M(k),l(1),h(!1)},D=()=>{const j={searchTerm:"",subscriptionStatus:"all",userRole:"all",sortBy:"created_at",sortOrder:"desc"};M(j),z(j),l(1),h(!1)},R=async()=>{try{i(!0);const j=await K.exportUsers(b);if(j.length===0){alert("No data to export with current filters");return}const w=K.generateCSV(j),T=new Blob([w],{type:"text/csv;charset=utf-8;"}),U=document.createElement("a"),se=URL.createObjectURL(T);U.setAttribute("href",se),U.setAttribute("download",`users-export-${X(new Date,"yyyy-MM-dd-HHmm")}.csv`),U.style.visibility="hidden",document.body.appendChild(U),U.click(),document.body.removeChild(U),URL.revokeObjectURL(se)}catch(j){console.error("Export failed:",j),alert("Export failed. Please try again.")}finally{i(!1)}},q=async j=>{try{const w=await K.getUserDetails(j.id);S(w),y(!0)}catch(w){console.error("Error fetching user details:",w),alert("Failed to load user details")}},L=async(j,w)=>{try{await K.updateUserStatus(j,w),await F(),alert("User role updated successfully")}catch(T){console.error("Error updating user role:",T),alert("Failed to update user role")}},B=(j,w)=>{const T="inline-flex px-2 py-1 text-xs font-semibold rounded-full";switch(j){case"active":return e.jsx("span",{className:`${T} bg-green-100 text-green-800`,children:w});case"cancelled":return e.jsx("span",{className:`${T} bg-red-100 text-red-800`,children:"Cancelled"});default:return e.jsx("span",{className:`${T} bg-gray-100 text-gray-800`,children:"Free"})}};return a&&s.length===0?e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{className:"animate-pulse",children:[e.jsx("div",{className:"h-8 bg-gray-200 rounded w-1/4 mb-4"}),e.jsx("div",{className:"h-64 bg-gray-200 rounded"})]})}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"User Management"}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:x!==u?`Showing ${x} of ${u} users`:`${u} total users`})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 w-full sm:w-auto",children:[e.jsxs("div",{className:"relative flex-1 sm:flex-none",children:[e.jsx(Va,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),e.jsx("input",{type:"search",placeholder:"Search users...",value:b.searchTerm,onChange:j=>E(j.target.value),className:"pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 w-full sm:w-64"})]}),e.jsxs(O,{variant:"outline",onClick:()=>h(!g),className:"flex items-center space-x-2",children:[e.jsx(Xa,{className:"w-4 h-4"}),e.jsx("span",{children:"Filters"}),(b.subscriptionStatus!=="all"||b.userRole!=="all"||b.dateRange)&&e.jsx("span",{className:"w-2 h-2 bg-blue-600 rounded-full"})]}),e.jsxs(O,{variant:"outline",onClick:R,isLoading:n,className:"flex items-center space-x-2",children:[e.jsx(Ae,{className:"w-4 h-4"}),e.jsx("span",{children:"Export CSV"})]}),e.jsxs(O,{variant:"outline",onClick:F,isLoading:a,className:"flex items-center space-x-2",children:[e.jsx(aa,{className:"w-4 h-4"}),e.jsx("span",{children:"Refresh"})]})]})]}),g&&e.jsx(I,{className:"border-blue-200 bg-blue-50",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Advanced Filters"}),e.jsx(O,{variant:"ghost",size:"sm",onClick:()=>h(!1),children:e.jsx(ae,{className:"w-4 h-4"})})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Subscription Status"}),e.jsxs("select",{value:k.subscriptionStatus,onChange:j=>z(w=>({...w,subscriptionStatus:j.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"all",children:"All Statuses"}),e.jsx("option",{value:"active",children:"Active Subscription"}),e.jsx("option",{value:"inactive",children:"No Subscription"}),e.jsx("option",{value:"cancelled",children:"Cancelled"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"User Role"}),e.jsxs("select",{value:k.userRole,onChange:j=>z(w=>({...w,userRole:j.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"all",children:"All Roles"}),e.jsx("option",{value:"user",children:"Regular Users"}),e.jsx("option",{value:"admin",children:"Administrators"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Sort By"}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsxs("select",{value:k.sortBy,onChange:j=>z(w=>({...w,sortBy:j.target.value})),className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"created_at",children:"Join Date"}),e.jsx("option",{value:"name",children:"Name"}),e.jsx("option",{value:"last_login",children:"Last Login"})]}),e.jsxs("select",{value:k.sortOrder,onChange:j=>z(w=>({...w,sortOrder:j.target.value})),className:"px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"desc",children:"Newest"}),e.jsx("option",{value:"asc",children:"Oldest"})]})]})]})]}),e.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-blue-200",children:[e.jsx(O,{variant:"outline",onClick:D,children:"Reset Filters"}),e.jsx(O,{onClick:_,children:"Apply Filters"})]})]})}),e.jsxs(I,{padding:"none",children:[e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"User"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Role"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Subscription"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Activity"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Joined"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:s.map(j=>{var w,T;return e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0 h-10 w-10",children:e.jsx("div",{className:"h-10 w-10 rounded-full bg-gradient-to-r from-blue-500 to-purple-600 flex items-center justify-center",children:e.jsxs("span",{className:"text-white font-medium text-sm",children:[(w=j.first_name)==null?void 0:w[0],(T=j.last_name)==null?void 0:T[0]]})})}),e.jsxs("div",{className:"ml-4",children:[e.jsxs("div",{className:"text-sm font-medium text-gray-900 flex items-center space-x-2",children:[e.jsxs("span",{children:[j.first_name," ",j.last_name]}),j.is_admin&&e.jsx(oe,{className:"w-4 h-4 text-yellow-500",title:"Administrator"})]}),e.jsx("div",{className:"text-sm text-gray-500",children:j.email})]})]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("div",{className:"flex items-center space-x-2",children:j.is_admin?e.jsxs(e.Fragment,{children:[e.jsx(ra,{className:"w-4 h-4 text-red-600"}),e.jsx("span",{className:"text-sm font-medium text-red-600",children:"Admin"})]}):e.jsxs(e.Fragment,{children:[e.jsx(jt,{className:"w-4 h-4 text-gray-600"}),e.jsx("span",{className:"text-sm text-gray-600",children:"User"})]})})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:B(j.subscription_status,j.subscription_package)}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:e.jsxs("div",{children:[e.jsxs("div",{children:[j.total_analyses," analyses"]}),e.jsxs("div",{className:"text-xs text-gray-400",children:["Last seen: ",X(new Date(j.last_login),"MMM dd")]})]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:X(new Date(j.created_at),"MMM dd, yyyy")}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(O,{variant:"ghost",size:"sm",onClick:()=>q(j),children:e.jsx(Se,{className:"w-4 h-4"})}),e.jsxs("div",{className:"relative group",children:[e.jsx(O,{variant:"ghost",size:"sm",children:e.jsx(Ka,{className:"w-4 h-4"})}),e.jsxs("div",{className:"absolute right-0 mt-2 w-48 bg-white rounded-lg shadow-lg border border-gray-200 py-1 opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all duration-200 z-10",children:[e.jsxs("button",{onClick:()=>L(j.id,!j.is_admin),className:"w-full px-4 py-2 text-left text-sm text-gray-700 hover:bg-gray-50 flex items-center space-x-2",children:[e.jsx(na,{className:"w-4 h-4"}),e.jsx("span",{children:j.is_admin?"Remove Admin":"Make Admin"})]}),e.jsxs("button",{onClick:()=>{confirm("Are you sure you want to delete this user? This action cannot be undone.")&&K.deleteUser(j.id).then(()=>{F(),alert("User deleted successfully")}).catch(()=>{alert("Failed to delete user")})},className:"w-full px-4 py-2 text-left text-sm text-red-600 hover:bg-red-50 flex items-center space-x-2",children:[e.jsx(ia,{className:"w-4 h-4"}),e.jsx("span",{children:"Delete User"})]})]})]})]})})]},j.id)})})]})}),e.jsxs("div",{className:"px-6 py-3 border-t border-gray-200 flex items-center justify-between",children:[e.jsxs("div",{className:"text-sm text-gray-500",children:["Page ",o," of ",p," • ",x," users"]}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsx(O,{variant:"outline",size:"sm",onClick:()=>l(j=>Math.max(1,j-1)),disabled:o===1,children:e.jsx(Ja,{className:"w-4 h-4"})}),e.jsx(O,{variant:"outline",size:"sm",onClick:()=>l(j=>Math.min(p,j+1)),disabled:o===p,children:e.jsx(Qa,{className:"w-4 h-4"})})]})]})]}),P&&f&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[e.jsx("div",{className:"p-6 border-b border-gray-200",children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"User Details"}),e.jsx(O,{variant:"ghost",size:"sm",onClick:()=>y(!1),children:e.jsx(ae,{className:"w-4 h-4"})})]})}),e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Name"}),e.jsxs("p",{className:"mt-1 text-sm text-gray-900",children:[f.first_name," ",f.last_name]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Email"}),e.jsx("p",{className:"mt-1 text-sm text-gray-900",children:f.email})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Role"}),e.jsx("p",{className:"mt-1 text-sm text-gray-900",children:f.is_admin?"Administrator":"User"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Joined"}),e.jsx("p",{className:"mt-1 text-sm text-gray-900",children:X(new Date(f.created_at),"MMM dd, yyyy")})]})]}),f.subscriptions&&f.subscriptions.length>0&&e.jsxs("div",{children:[e.jsx("h4",{className:"text-md font-medium text-gray-900 mb-3",children:"Subscription"}),e.jsx("div",{className:"bg-gray-50 p-4 rounded-lg",children:f.subscriptions.map((j,w)=>{var T;return e.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600",children:"Package:"}),e.jsx("span",{className:"ml-2 font-medium",children:(T=j.package)==null?void 0:T.name})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600",children:"Status:"}),e.jsx("span",{className:"ml-2 font-medium capitalize",children:j.status})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600",children:"Start Date:"}),e.jsx("span",{className:"ml-2",children:X(new Date(j.start_date),"MMM dd, yyyy")})]}),j.end_date&&e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600",children:"End Date:"}),e.jsx("span",{className:"ml-2",children:X(new Date(j.end_date),"MMM dd, yyyy")})]})]},w)})})]}),f.resume_analyses&&f.resume_analyses.length>0&&e.jsxs("div",{children:[e.jsx("h4",{className:"text-md font-medium text-gray-900 mb-3",children:"Recent Analyses"}),e.jsx("div",{className:"space-y-2",children:f.resume_analyses.slice(0,5).map((j,w)=>{var T;return e.jsxs("div",{className:"flex justify-between items-center p-3 bg-gray-50 rounded-lg",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium",children:((T=j.resume_templates)==null?void 0:T.name)||"Unknown Template"}),e.jsx("p",{className:"text-xs text-gray-500",children:X(new Date(j.created_at),"MMM dd, yyyy HH:mm")})]}),j.ats_score&&e.jsx("div",{className:"text-right",children:e.jsxs("p",{className:"text-sm font-medium text-blue-600",children:[j.ats_score,"% ATS"]})})]},w)})})]})]})]})})]})},zn=({revenueData:s,userActivityData:t})=>{const[a,r]=m.useState("revenue"),n=Math.max(...s.map(c=>c.revenue)),i=Math.max(...s.map(c=>c.subscriptions)),o=Math.max(...t.map(c=>c.newUsers)),l=Math.max(...t.map(c=>c.activeUsers)),p=Math.max(...t.map(c=>c.analyses));return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Analytics Dashboard"}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsxs(O,{variant:a==="revenue"?"primary":"outline",onClick:()=>r("revenue"),size:"sm",children:[e.jsx(oa,{className:"w-4 h-4 mr-2"}),"Revenue"]}),e.jsxs(O,{variant:a==="activity"?"primary":"outline",onClick:()=>r("activity"),size:"sm",children:[e.jsx(Te,{className:"w-4 h-4 mr-2"}),"User Activity"]})]})]}),a==="revenue"&&e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs(I,{children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Monthly Revenue"}),e.jsx(ke,{className:"w-5 h-5 text-blue-600"})]}),e.jsx("div",{className:"space-y-4",children:s.map((c,u)=>e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-gray-600",children:c.month}),e.jsxs("span",{className:"font-medium",children:["$",c.revenue.toLocaleString()]})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:"bg-blue-600 h-2 rounded-full transition-all duration-1000",style:{width:`${n>0?c.revenue/n*100:0}%`}})})]},u))})]}),e.jsxs(I,{children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"New Subscriptions"}),e.jsx(Ye,{className:"w-5 h-5 text-green-600"})]}),e.jsx("div",{className:"space-y-4",children:s.map((c,u)=>e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-gray-600",children:c.month}),e.jsx("span",{className:"font-medium",children:c.subscriptions})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:"bg-green-600 h-2 rounded-full transition-all duration-1000",style:{width:`${i>0?c.subscriptions/i*100:0}%`}})})]},u))})]})]}),a==="activity"&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsxs(I,{children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"New Users (30 days)"}),e.jsx(jt,{className:"w-5 h-5 text-blue-600"})]}),e.jsx("div",{className:"space-y-2 max-h-64 overflow-y-auto",children:t.slice(-10).map((c,u)=>e.jsxs("div",{className:"space-y-1",children:[e.jsxs("div",{className:"flex justify-between text-xs",children:[e.jsx("span",{className:"text-gray-600",children:c.date}),e.jsx("span",{className:"font-medium",children:c.newUsers})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-1",children:e.jsx("div",{className:"bg-blue-600 h-1 rounded-full transition-all duration-500",style:{width:`${o>0?c.newUsers/o*100:0}%`}})})]},u))})]}),e.jsxs(I,{children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Active Users (30 days)"}),e.jsx(Te,{className:"w-5 h-5 text-green-600"})]}),e.jsx("div",{className:"space-y-2 max-h-64 overflow-y-auto",children:t.slice(-10).map((c,u)=>e.jsxs("div",{className:"space-y-1",children:[e.jsxs("div",{className:"flex justify-between text-xs",children:[e.jsx("span",{className:"text-gray-600",children:c.date}),e.jsx("span",{className:"font-medium",children:c.activeUsers})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-1",children:e.jsx("div",{className:"bg-green-600 h-1 rounded-full transition-all duration-500",style:{width:`${l>0?c.activeUsers/l*100:0}%`}})})]},u))})]}),e.jsxs(I,{children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Daily Analyses (30 days)"}),e.jsx(ke,{className:"w-5 h-5 text-purple-600"})]}),e.jsx("div",{className:"space-y-2 max-h-64 overflow-y-auto",children:t.slice(-10).map((c,u)=>e.jsxs("div",{className:"space-y-1",children:[e.jsxs("div",{className:"flex justify-between text-xs",children:[e.jsx("span",{className:"text-gray-600",children:c.date}),e.jsx("span",{className:"font-medium",children:c.analyses})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-1",children:e.jsx("div",{className:"bg-purple-600 h-1 rounded-full transition-all duration-500",style:{width:`${p>0?c.analyses/p*100:0}%`}})})]},u))})]})]}),e.jsxs(I,{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"30-Day Summary"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsxs("div",{className:"text-center p-4 bg-blue-50 rounded-lg",children:[e.jsx("p",{className:"text-2xl font-bold text-blue-600",children:t.reduce((c,u)=>c+u.newUsers,0)}),e.jsx("p",{className:"text-sm text-blue-800",children:"Total New Users"})]}),e.jsxs("div",{className:"text-center p-4 bg-green-50 rounded-lg",children:[e.jsx("p",{className:"text-2xl font-bold text-green-600",children:Math.round(t.reduce((c,u)=>c+u.activeUsers,0)/t.length)}),e.jsx("p",{className:"text-sm text-green-800",children:"Avg Daily Active"})]}),e.jsxs("div",{className:"text-center p-4 bg-purple-50 rounded-lg",children:[e.jsx("p",{className:"text-2xl font-bold text-purple-600",children:t.reduce((c,u)=>c+u.analyses,0)}),e.jsx("p",{className:"text-sm text-purple-800",children:"Total Analyses"})]}),e.jsxs("div",{className:"text-center p-4 bg-orange-50 rounded-lg",children:[e.jsx("p",{className:"text-2xl font-bold text-orange-600",children:Math.round(t.reduce((c,u)=>c+u.analyses,0)/t.length)}),e.jsx("p",{className:"text-sm text-orange-800",children:"Avg Daily Analyses"})]})]})]})]})]})},Rn=()=>{const[s,t]=m.useState("overview"),[a,r]=m.useState({totalUsers:0,activeSubscriptions:0,monthlyRevenue:0,totalAnalyses:0,userGrowth:0,subscriptionGrowth:0,revenueGrowth:0,analysisGrowth:0}),[n,i]=m.useState(null),[o,l]=m.useState([]),[p,c]=m.useState([]),[u,d]=m.useState([]),[x,v]=m.useState([]),[g,h]=m.useState(!0),[f,S]=m.useState(!1);m.useEffect(()=>{P()},[]);const P=async()=>{try{h(!0);const[k,z,F,E,_,D]=await Promise.all([K.getDashboardStats(),K.getUsageStats(),K.getRevenueChart(6),K.getUserActivity(30),K.getRecentSubscriptions(5),K.getTopTemplates(5)]);r(k),i(z),l(F),c(E),d(_),v(D)}catch(k){console.error("Error loading dashboard data:",k)}finally{h(!1)}},y=async()=>{S(!0),await P(),S(!1)},b=[{id:"overview",name:"Overview",icon:Ye},{id:"analytics",name:"Analytics",icon:ke},{id:"packages",name:"Packages",icon:Ft},{id:"users",name:"Users",icon:es}],M=[{name:"Total Users",value:a.totalUsers.toLocaleString(),icon:jt,change:`${a.userGrowth>0?"+":""}${a.userGrowth}%`,changeType:a.userGrowth>=0?"positive":"negative",description:"vs last month"},{name:"Active Subscriptions",value:a.activeSubscriptions.toLocaleString(),icon:Ye,change:`${a.subscriptionGrowth>0?"+":""}${a.subscriptionGrowth}%`,changeType:a.subscriptionGrowth>=0?"positive":"negative",description:"vs last month"},{name:"Monthly Revenue",value:`$${a.monthlyRevenue.toLocaleString()}`,icon:oa,change:`${a.revenueGrowth>0?"+":""}${a.revenueGrowth}%`,changeType:a.revenueGrowth>=0?"positive":"negative",description:"vs last month"},{name:"AI Analyses",value:a.totalAnalyses.toLocaleString(),icon:Te,change:`${a.analysisGrowth>0?"+":""}${a.analysisGrowth}%`,changeType:a.analysisGrowth>=0?"positive":"negative",description:"vs last month"}];return g?e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:e.jsxs("div",{className:"animate-pulse space-y-8",children:[e.jsx("div",{className:"h-8 bg-gray-200 rounded w-1/4"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[...Array(4)].map((k,z)=>e.jsx("div",{className:"h-32 bg-gray-200 rounded-lg"},z))})]})}):e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[e.jsxs("div",{className:"mb-8 flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Admin Dashboard"}),e.jsx("p",{className:"text-gray-600",children:"Manage your platform, users, and subscription packages."})]}),e.jsxs(O,{onClick:y,variant:"outline",isLoading:f,className:"flex items-center space-x-2",children:[e.jsx(Te,{className:"w-4 h-4"}),e.jsx("span",{children:"Refresh Data"})]})]}),e.jsx("div",{className:"mb-8",children:e.jsx("nav",{className:"flex space-x-1 bg-gray-100 p-1 rounded-lg w-fit",children:b.map(k=>{const z=k.icon;return e.jsxs("button",{onClick:()=>t(k.id),className:`
                  flex items-center space-x-2 px-4 py-2 rounded-lg font-medium transition-all duration-200
                  ${s===k.id?"bg-white text-blue-600 shadow-sm":"text-gray-600 hover:text-gray-900 hover:bg-gray-200"}
                `,children:[e.jsx(z,{className:"w-4 h-4"}),e.jsx("span",{children:k.name})]},k.id)})})}),s==="overview"&&e.jsxs("div",{className:"space-y-8",children:[e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:M.map(k=>{const z=k.icon,F=k.changeType==="positive"?Ye:Za;return e.jsx(I,{hover:!0,children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:k.name}),e.jsx("p",{className:"text-2xl font-bold text-gray-900 mt-1",children:k.value}),e.jsxs("div",{className:"flex items-center mt-2",children:[e.jsx(F,{className:`w-4 h-4 mr-1 ${k.changeType==="positive"?"text-green-600":"text-red-600"}`}),e.jsx("span",{className:`text-sm font-medium ${k.changeType==="positive"?"text-green-600":"text-red-600"}`,children:k.change}),e.jsx("span",{className:"text-sm text-gray-500 ml-1",children:k.description})]})]}),e.jsx("div",{className:"p-3 bg-blue-50 rounded-lg",children:e.jsx(z,{className:"w-6 h-6 text-blue-600"})})]})},k.name)})}),n&&e.jsxs(I,{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-6",children:"Platform Usage"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(je,{className:"w-4 h-4 text-blue-600"}),e.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Resume Uploads"})]}),e.jsxs("span",{className:"text-sm font-bold text-gray-900",children:[n.resumeUploads.percentage,"%"]})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:"bg-blue-600 h-2 rounded-full transition-all duration-1000",style:{width:`${n.resumeUploads.percentage}%`}})}),e.jsxs("p",{className:"text-xs text-gray-500",children:[n.resumeUploads.current," this month / ",n.resumeUploads.total," total"]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Te,{className:"w-4 h-4 text-green-600"}),e.jsx("span",{className:"text-sm font-medium text-gray-700",children:"AI Analyses"})]}),e.jsxs("span",{className:"text-sm font-bold text-gray-900",children:[n.aiAnalyses.percentage,"%"]})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:"bg-green-600 h-2 rounded-full transition-all duration-1000",style:{width:`${n.aiAnalyses.percentage}%`}})}),e.jsxs("p",{className:"text-xs text-gray-500",children:[n.aiAnalyses.current," this month / ",n.aiAnalyses.total," total"]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ft,{className:"w-4 h-4 text-purple-600"}),e.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Template Usage"})]}),e.jsxs("span",{className:"text-sm font-bold text-gray-900",children:[n.templateUsage.percentage,"%"]})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:"bg-purple-600 h-2 rounded-full transition-all duration-1000",style:{width:`${n.templateUsage.percentage}%`}})}),e.jsxs("p",{className:"text-xs text-gray-500",children:[n.templateUsage.current," this month / ",n.templateUsage.total," total"]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ae,{className:"w-4 h-4 text-orange-600"}),e.jsx("span",{className:"text-sm font-medium text-gray-700",children:"PDF Downloads"})]}),e.jsxs("span",{className:"text-sm font-bold text-gray-900",children:[n.pdfDownloads.percentage,"%"]})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:"bg-orange-600 h-2 rounded-full transition-all duration-1000",style:{width:`${n.pdfDownloads.percentage}%`}})}),e.jsxs("p",{className:"text-xs text-gray-500",children:[n.pdfDownloads.current," this month / ",n.pdfDownloads.total," total"]})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[e.jsxs(I,{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Recent Subscriptions"}),e.jsx("div",{className:"space-y-3",children:u.map((k,z)=>{var F,E,_;return e.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[e.jsxs("div",{children:[e.jsxs("p",{className:"font-medium text-gray-900",children:[(F=k.profiles)==null?void 0:F.first_name," ",(E=k.profiles)==null?void 0:E.last_name]}),e.jsx("p",{className:"text-sm text-gray-600",children:(_=k.package)==null?void 0:_.name})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"text-sm font-medium text-green-600 capitalize",children:k.status}),e.jsx("p",{className:"text-xs text-gray-500",children:X(new Date(k.created_at),"MMM dd, yyyy")})]})]},z)})})]}),e.jsxs(I,{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Top Templates"}),e.jsx("div",{className:"space-y-3",children:x.map((k,z)=>{var F,E;return e.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900",children:(F=k.template)==null?void 0:F.name}),e.jsx("p",{className:"text-sm text-gray-600 capitalize",children:(E=k.template)==null?void 0:E.category})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("p",{className:"text-sm font-medium text-blue-600",children:[k.count," uses"]}),e.jsx("div",{className:"w-16 bg-gray-200 rounded-full h-1 mt-1",children:e.jsx("div",{className:"bg-blue-600 h-1 rounded-full",style:{width:`${Math.min(k.count/Math.max(...x.map(_=>_.count))*100,100)}%`}})})]})]},z)})})]})]})]}),s==="analytics"&&e.jsx("div",{className:"space-y-8",children:e.jsx(zn,{revenueData:o,userActivityData:p})}),s==="packages"&&e.jsx(Fn,{}),s==="users"&&e.jsx(Mn,{})]})};class ea{static async getPackages(){const{data:t,error:a}=await C.from("packages").select("*").eq("is_active",!0).order("price");if(a)throw a;return t}static async initializePayment(t){var n,i;const{data:{session:a},error:r}=await C.auth.getSession();if(r||!a)throw new Error("User not authenticated");try{const o=await fetch("https://qcaibguxsmwzihehhhar.supabase.co/functions/v1/initialize-payment",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${a.access_token}`},body:JSON.stringify({packageId:t})});if(!o.ok){const p=await o.json().catch(()=>({}));throw new Error(p.error||`HTTP error! status: ${o.status}`)}const l=await o.json();if(!l.success)throw new Error(l.error||"Payment initialization failed");return l}catch(o){if(console.error("Payment initialization failed:",o),(n=o.message)!=null&&n.includes("fetch")||(i=o.message)!=null&&i.includes("404"))return console.warn("Edge Function not available, using fallback demo payment"),this.createDemoPaymentResponse(t);throw o}}static async verifyPayment(t){var n,i;const{data:{session:a},error:r}=await C.auth.getSession();if(r||!a)throw new Error("User not authenticated");try{const o=await fetch("https://qcaibguxsmwzihehhhar.supabase.co/functions/v1/verify-payment",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${a.access_token}`},body:JSON.stringify({reference:t})});if(!o.ok){const p=await o.json().catch(()=>({}));throw new Error(p.error||`HTTP error! status: ${o.status}`)}const l=await o.json();if(!l.success)throw new Error(l.error||"Payment verification failed");return l}catch(o){if(console.error("Payment verification failed:",o),(n=o.message)!=null&&n.includes("fetch")||(i=o.message)!=null&&i.includes("404"))return console.warn("Edge Function not available, using fallback demo verification"),this.createDemoVerificationResponse(t);throw o}}static async createDemoPaymentResponse(t){const{data:{user:a}}=await C.auth.getUser();if(!a)throw new Error("User not authenticated");const{data:r}=await C.from("packages").select("*").eq("id",t).single();if(!r)throw new Error("Package not found");const{data:n}=await C.from("payment_transactions").insert({user_id:a.id,amount:r.price,currency:r.currency,status:"pending",paystack_reference:`demo_${Date.now()}`,metadata:{package_id:t}}).select().single();return{status:!0,message:"Demo payment initialized",data:{authorization_url:`${window.location.origin}/payment/demo?reference=${n==null?void 0:n.paystack_reference}&amount=${r.price*100}&email=${a.email}`,access_code:"demo_access_code",reference:n==null?void 0:n.paystack_reference}}}static async createDemoVerificationResponse(t){const{data:{user:a}}=await C.auth.getUser();if(!a)throw new Error("User not authenticated");const{data:r}=await C.from("payment_transactions").select("*").eq("paystack_reference",t).eq("user_id",a.id).single();if(!r)throw new Error("Transaction not found");await C.from("payment_transactions").update({status:"completed"}).eq("id",r.id);const n=r.metadata.package_id,i=new Date;return i.setDate(i.getDate()+30),await C.from("subscriptions").upsert({user_id:r.user_id,package_id:n,status:"active",start_date:new Date().toISOString(),end_date:i.toISOString(),auto_renew:!0}),{success:!0,data:{transaction:r,payment_data:{status:"success",reference:t}}}}static async cancelSubscription(t){const{data:{user:a}}=await C.auth.getUser();if(!a)throw new Error("User not authenticated");const{error:r}=await C.from("subscriptions").update({status:"cancelled",auto_renew:!1}).eq("id",t).eq("user_id",a.id);if(r)throw r}static async getUserSubscription(){const{data:{user:t}}=await C.auth.getUser();if(!t)return null;const{data:a,error:r}=await C.from("subscriptions").select(`
        *,
        package:packages(*)
      `).eq("user_id",t.id).eq("status","active").single();if(r&&r.code!=="PGRST116")throw r;return a}}const Un=({isOpen:s,onClose:t,onSuccess:a})=>{const[r,n]=m.useState([]),[i,o]=m.useState(""),[l,p]=m.useState(!1),[c,u]=m.useState(!0),[d,x]=m.useState(""),{handleError:v}=_e(),{showSuccess:g,showError:h}=ue();m.useEffect(()=>{s&&f()},[s]);const f=async()=>{try{x(""),u(!0);const M=(await ea.getPackages()).filter(k=>k.price>0);n(M),M.length>0&&o(M[0].id)}catch(b){console.error("Error loading packages:",b),x("Failed to load subscription packages. Please try again."),v(b,"Package Loading",{showToast:!1})}finally{u(!1)}},S=async()=>{var b,M,k,z,F,E;if(!i){h("Selection Required","Please select a subscription package.");return}p(!0),x("");try{g("Initializing Payment...","Please wait while we prepare your subscription.");const _=await ea.initializePayment(i);if((b=_.data)!=null&&b.authorization_url)window.location.href=_.data.authorization_url;else throw new Error("Payment initialization failed - no authorization URL received")}catch(_){console.error("Subscription failed:",_);let D="Subscription failed. Please try again.";(M=_.message)!=null&&M.includes("authentication")||(k=_.message)!=null&&k.includes("unauthorized")?D="Your session has expired. Please sign in again and try subscribing.":(z=_.message)!=null&&z.includes("network")||(F=_.message)!=null&&F.includes("fetch")?D="Network error. Please check your internet connection and try again.":(E=_.message)!=null&&E.includes("payment")?D="Payment service is temporarily unavailable. Please try again in a few minutes.":_.message&&(D=_.message),x(D),v(_,"Subscription",{showToast:!1})}finally{p(!1)}},P=b=>{l||(o(b),x(""))},y=()=>{l||t()};return s?e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-xl max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:[e.jsx("div",{className:"p-6 border-b border-gray-200",children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Upgrade to Premium"}),e.jsx("p",{className:"text-gray-600 mt-1",children:"Unlock all features and get unlimited access"})]}),e.jsx("button",{onClick:y,className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",disabled:l,"aria-label":"Close modal",children:e.jsx(ae,{className:"w-5 h-5 text-gray-500"})})]})}),e.jsxs("div",{className:"p-6",children:[d&&e.jsx("div",{className:"mb-6 p-4 bg-red-50 border border-red-200 rounded-lg",children:e.jsxs("div",{className:"flex items-start space-x-2",children:[e.jsx(ee,{className:"w-5 h-5 text-red-600 mt-0.5 flex-shrink-0"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-red-700 text-sm",children:d}),d.includes("session has expired")&&e.jsx("p",{className:"text-red-600 text-xs mt-1",children:"Please refresh the page and sign in again before subscribing."})]})]})}),c?e.jsx("div",{className:"flex items-center justify-center py-12",children:e.jsxs("div",{className:"text-center",children:[e.jsx(ts,{className:"w-8 h-8 animate-spin text-blue-600 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600",children:"Loading subscription packages..."})]})}):r.length===0?e.jsxs("div",{className:"text-center py-12",children:[e.jsx(ee,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Packages Available"}),e.jsx("p",{className:"text-gray-600 mb-4",children:"We're currently updating our subscription packages. Please try again later."}),e.jsx(O,{onClick:f,variant:"outline",children:"Retry"})]}):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:r.map(b=>e.jsx(I,{className:`cursor-pointer transition-all duration-200 ${i===b.id?"ring-2 ring-blue-500 border-blue-500 bg-blue-50":"hover:border-gray-300 hover:shadow-md"} ${l?"opacity-75 cursor-not-allowed":""}`,onClick:()=>P(b.id),children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{children:[e.jsxs("h3",{className:"text-xl font-semibold text-gray-900 flex items-center space-x-2",children:[e.jsx("span",{children:b.name}),e.jsx(oe,{className:"w-5 h-5 text-yellow-500"})]}),e.jsx("p",{className:"text-gray-600 mt-1",children:b.description})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("div",{className:"text-2xl font-bold text-blue-600",children:["$",b.price]}),e.jsx("div",{className:"text-sm text-gray-500",children:"per month"})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Features included:"}),e.jsx("ul",{className:"space-y-2",children:b.features.map((M,k)=>e.jsxs("li",{className:"flex items-center space-x-2 text-sm",children:[e.jsx(Oe,{className:"w-4 h-4 text-green-500 flex-shrink-0"}),e.jsx("span",{className:"text-gray-700",children:M})]},k))})]}),e.jsxs("div",{className:"pt-4 border-t border-gray-200",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-gray-600",children:"Template Access:"}),e.jsx("span",{className:"font-medium",children:b.template_access===-1?"All Templates":`${b.template_access} Templates`})]}),e.jsxs("div",{className:"flex justify-between text-sm mt-1",children:[e.jsx("span",{className:"text-gray-600",children:"Monthly Analyses:"}),e.jsx("span",{className:"font-medium",children:b.analysis_limit===-1?"Unlimited":b.analysis_limit})]})]}),i===b.id&&e.jsx("div",{className:"p-3 bg-blue-100 rounded-lg border border-blue-200",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Oe,{className:"w-4 h-4 text-blue-600"}),e.jsx("span",{className:"text-sm font-medium text-blue-800",children:"Selected Plan"})]})})]})},b.id))}),e.jsxs("div",{className:"mt-8 text-center",children:[e.jsx(O,{onClick:S,disabled:!i||l,isLoading:l,size:"lg",className:"px-8",children:l?"Redirecting to Payment...":"Subscribe Now"}),e.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"Secure payment powered by Paystack"}),e.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"You will be redirected to Paystack's secure checkout page"})]}),e.jsxs("div",{className:"mt-6 p-4 bg-gray-50 rounded-lg",children:[e.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"What happens next?"}),e.jsxs("ul",{className:"text-sm text-gray-600 space-y-1",children:[e.jsx("li",{children:"• You'll be redirected to our secure payment processor"}),e.jsx("li",{children:"• Complete your payment using your preferred method"}),e.jsx("li",{children:"• Your premium features will be activated immediately"}),e.jsx("li",{children:"• You can cancel or modify your subscription anytime"})]})]})]})]})]})}):null},In=()=>{const{user:s,profile:t,isLoading:a}=Me(),[r,n]=m.useState(!0),[i,o]=m.useState(!1),[l,p]=m.useState(!1),c=!!s&&!!t;m.useEffect(()=>{console.log("App state:",{user:!!s,profile:!!t,isAuthenticated:c,isLoading:a,userEmail:s==null?void 0:s.email,profileName:t?`${t.first_name} ${t.last_name}`:null})},[s,t,c,a]);const u=()=>{c||(n(!1),p(!0))},d=()=>{c||(n(!0),p(!0))};return a?e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),e.jsx("p",{className:"text-gray-600 mt-4",children:"Loading..."})]})}):c?e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx(gs,{onUpgradeClick:()=>o(!0)}),e.jsx("main",{children:t!=null&&t.is_admin?e.jsx(Rn,{}):e.jsx(Sr,{})}),e.jsx(Un,{isOpen:i,onClose:()=>o(!1),onSuccess:()=>window.location.reload()})]}):l?e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-purple-50 flex items-center justify-center p-4",children:e.jsxs("div",{className:"w-full max-w-md",children:[r?e.jsx(vs,{onToggleForm:()=>n(!1)}):e.jsx(ys,{onToggleForm:()=>n(!0)}),e.jsx("div",{className:"mt-6 text-center",children:e.jsx("button",{onClick:()=>p(!1),className:"text-gray-600 hover:text-gray-900 text-sm transition-colors",children:"← Back to home"})})]})}):e.jsxs("div",{className:"relative",children:[e.jsx(fs,{onGetStarted:u,onSignIn:d}),e.jsx(hs,{onGetStarted:u})]})};function Ln(){return e.jsx(xs,{children:e.jsx(us,{children:e.jsx(ms,{children:e.jsx(In,{})})})})}Nt(document.getElementById("root")).render(e.jsx(m.StrictMode,{children:e.jsx(Ln,{})}));export{Xe as _,e as j};
